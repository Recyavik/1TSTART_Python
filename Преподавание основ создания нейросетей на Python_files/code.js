var _tmr=_tmr||[];
(function(){function t(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function W(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function gb(a,b){try{if(a.nodeName.toLowerCase()===b.toLowerCase())return a;if(a.parentNode)return gb(a.parentNode,b)}catch(c){l&&console.warn("[TopMailRu] Error#1.25",c)}return null}function hb(a,b){if(null===a.offsetParent||(0==a.offsetHeight||0==a.offsetWidth||0==a.clientHeight||
0==a.clientWidth)||b&&(0==a.offsetLeft||0==a.offsetTop))return!1;if(void 0!==e.getComputedStyle){var c=e.getComputedStyle(a,null);return"none"!==c.display&&"hidden"!==c.visibility}return!0}function pa(a,b){for(var c=0;c<b.length;c++)if(b[c]==a)return!0;return!1}function X(a){var b=typeof a;return!("number"===b||"boolean"===b||"string"===b||a.nodeType||a===a.window)}function E(a){return"[object Array]"===Object.prototype.toString.call(a)}function aa(){var a=arguments,b=a[0]||{},c=!1,d=1,f=a.length,
k,h,p,e,g;"boolean"===typeof b&&(c=b,b=a[d++]||{});for(X(b)||(b={});d<f;d++)if(null!=(k=a[d]))for(h in k)p=b[h],e=k[h],b!==e&&(c&&e&&(X(e)||(g=E(e)))?(g?(g=!1,p=p&&E(p)?p:[]):p=p&&X(p)?p:{},b[h]=aa(c,p,e)):void 0!==e&&(b[h]=e));return b}function Qb(a,b,c){if(!a)return null;var d=a.match(b),f=2<arguments.length?c:0;return d&&d.length>f?d[f]:null}function ib(a){return(""+a).replace(/[\/\^\$\*\+\?\.\|\(\)\[\]\{\}\\]/g,"\\$&")}function jb(a){var b="";try{var c=new Uint8Array(a);e.crypto.getRandomValues(c);
for(var d=0;d<a;d++)b+=(c[d]%16).toString(16)}catch(f){b="";for(d=0;d<a;d++)c=Math.floor(16*Math.random()),b+=c.toString(16)}return b}function B(){return(new Date).getTime()}function J(a,b){var c={data:b,raw:a,url:kb(a)},d;d=!0;if("function"!==typeof navigator.sendBeacon)d=!1;else{c.dataSplitter=";";var f=Fa(c.data,c.dataSplitter);try{d=!0===navigator.sendBeacon(c.url,f)}catch(k){d=!1}}d||(void 0===b?(c.dataSplitter=";",c.open=Rb,c.connect=Sb,c.startListen=Tb,c.stopListen=Ub,c.open(c),c.connect(c)):
("function"===typeof e.XMLHttpRequest?(c.dataSplitter=";",c.open=Vb,c.connect=Wb,c.startListen=Xb,c.stopListen=Yb,c.open(c),c.connect(c),d=!0):d=!1,d||Zb(c)))}function Zb(a){var b=g.createElement("iframe"),c=g.createElement("div");c.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");c.appendChild(b);g.body.appendChild(c);try{var d=b.contentWindow.document,f=d.createElement("div"),k;for(k in a.data)if(a.data.hasOwnProperty(k)){var h=
a.data[k],e=typeof h;if("string"===e||"number"===e){var I=d.createElement("input");I.setAttribute("type","hidden");I.setAttribute("name",k);I.value=h;f.appendChild(I)}}var u=d.createElement("form");u.setAttribute("action",a.url);u.setAttribute("method",lb);u.setAttribute("enctype",mb);u.appendChild(f);var w=d.createElement("div");w.appendChild(u);d.body.appendChild(w);var v=function(){try{W(b,"load",v),g.body.removeChild(c)}catch(a){l&&console.warn("[TopMailRu] Error#1.2",a)}};t(b,"load",v);u.submit()}catch(m){l&&
console.warn("[TopMailRu] Error#1.3",m)}}function Vb(a){a._connection=new e.XMLHttpRequest}function Wb(a){a._connection.open(lb,a.url);a._connection.setRequestHeader("Content-Type",mb);a._connection.send(Fa(a.data,a.dataSplitter))}function Xb(a){t(a._connection,"load",a._onload);t(a._connection,"error",a._onerror)}function Yb(a){W(a._connection,"load",a._onload);W(a._connection,"error",a._onerror)}function Rb(a){a._connection=new Image}function Sb(a){a._connection.src=a.url+Fa(a.data,a.dataSplitter)}
function Tb(a){a._connection.onload=a._onload;a._connection.onerror=a._onerror}function Ub(a){a._connection.onload=null;a._connection.onerror=null}function Fa(a,b){var c=b||";",d="",f;for(f in a)if(a.hasOwnProperty(f)){var k=a[f],h=typeof k;if("string"===h||"number"===h)d+=c+escape(f)+"="+escape(k)}return d}function kb(a){return"https://top-fwz1.mail.ru"+a}function fa(a){return(a=g.cookie.match(RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(a[1]):
null}function qa(a,b,c){c=c||{};var d=c.expires;"number"===typeof c.expires&&(d=new Date,d.setTime(d.getTime()+c.expires));d&&d.toUTCString&&(d=d.toUTCString());c.expires=d;a=a+"="+encodeURIComponent(b);for(var f in c)if((b=c[f])||0===b)a+="; "+f,!0!==b&&(a+="="+b);g.cookie=a}function Pa(a,b){var c=b||{};c.expires=-1;qa(a,"",c)}function $b(){var a="tmr"+(""+Math.random()).slice(2);try{return ga=e.localStorage||null,ga.setItem(a,a),ga.removeItem(a),!0}catch(b){return ga=null,l&&console.warn("[TopMailRu] Error#1.4",
b),!1}}function Ga(a){try{return ga.getItem(a)}catch(b){l&&console.warn("[TopMailRu] Error#1.5",b)}return null}function ra(a,b){try{ga.setItem(a,b)}catch(c){l&&console.warn("[TopMailRu] Error#1.6",c)}}function ac(){if(!ha)return null;for(var a=H.hostname.split(".").reverse(),b,c=1,d=a.length;c<d;c++){b=a[0];for(var f=1;f<=c;f++)b=a[f]+"."+b;var f=""+B(),k={domain:b,path:"/",expires:3E5};try{qa("tmr_tcdhn",f,k);var h=fa("tmr_tcdhn");Pa("tmr_tcdhn",k);if(h===f)return b}catch(e){l&&console.warn("[TopMailRu] Error#1.8",
e)}}return null}function nb(a,b){ha&&qa(a,b,Qa);P&&ra(a,b)}function ob(a){var b=";e="+escape("detect");J(O(a,"/tracker",!1,!1)+b)}function pb(a,b){if(a.length&&null!==b.ecom_data){var c=ba(b.ecom_data),c=c?(""+c).substring(1,c.length-1):"";if(!(4096<c.length||-1===c.search(/\S/))){var d=Ra("_m",b.ecom_method),f=Ra("_t",b.ecom_type),k=Ra("_jst",qb()),c="{"+c+d+f+k+"}";J(O({id:a[0]},"/datalayer",!1,!0)+(";ids="+escape(a.join()))+(";e="+escape(c)))}}}function Ra(a,b){var c=',"'+a+'":';if(!b||!b.length)return c+
"[]";try{return c+'["'+b.join('","')+'"]'}catch(d){}return c+"false"}function bc(){var a=fa(rb);if(null===a)return null;a=a.split("|");if(3!==a.length)return null;var b=a[2],b=B()-b;return 0>b||b>sb?null:{id:a[0],version:a[1]}}function Sa(a){Ha=!0;if(a.length){a=kb("/js/dyn-goal-config.js?ids="+a.join(","));var b=g.createElement("script");b.type="text/javascript";b.async=!0;b.src=a;document.body.appendChild(b)}}function s(){}function sa(a){a&&"object"===typeof a&&(!Y&&"id"in a)&&(Y=a.id)}function cc(a){return(a=
!Z?void 0:Z[a])&&Ta?a-Ta:void 0}function tb(){if(Z){for(var a=0,b="domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),c=0;c<b.length;c++){var d=!Z?void 0:Z[b[c]];if(0<d&&(d<a||0==a))a=d}return a?a:void 0}}function ta(a){return a&&"object"===typeof a&&("id"in a&&a.id||Y)}function O(a,b,c,d){P&&ra(ua,++N);var f="id"in a?a.id:Y,k="url"in a?a.url:H.href,h="referrer"in a?a.referrer:g.referrer,p="title"in a?a.title:g.title,I;I=Ua;null===
I&&(I=dc());I=null!==I?I?1:0:null;var u="userid"in a?a.userid:T||0===T?T:void 0,w=ca?ca:void 0,v;v=U&&a.bfCache;var m=[];Y&&f!==Y&&m.push("sec");"dataLayer"in e&&m.push("dl");F&&m.push(["ecom"].concat(F).join("-"));var q=ec();q&&q.length&&m.push(["jst"].concat(q).join("-"));v&&m.push("bfc");v=m.join(",");var n=e.screen,m=(new Date).getTimezoneOffset(),q="";if(e.Intl)try{q=e.Intl.DateTimeFormat().resolvedOptions().timeZone||""}catch(va){l&&console.warn("[TopMailRu] Error#1.1",va)}q=m+"/"+q;m=ub;m=
null!==m?m:bc();a.start=tb();b=b+"?js=13"+(f?";id="+escape(f):"")+(k?";u="+escape(k):"")+(h?";r="+escape(h):"")+(a.start?";st="+escape(a.start):"")+("gender"in a?";gender="+escape(a.gender):"")+("age"in a?";age="+escape(a.age):"")+("pid"in a?";pid="+escape(a.pid):"")+(void 0!==u?";userid="+escape(u):"")+(void 0!==w?";uparams="+escape(ba(w)):"")+(d&&p?";title="+encodeURIComponent(p):"")+(n?";s="+n.width+"*"+n.height:"")+";vp=";f=d=0;g.documentElement&&(g.documentElement.clientWidth||g.documentElement.clientHeight)?
(d=g.documentElement.clientWidth,f=g.documentElement.clientHeight):"number"==typeof e.innerWidth&&(d=e.innerWidth,f=e.innerHeight);b=b+(""+d+"*"+f)+";touch="+fc+";hds="+gc+";frame="+hc+";flash=";if(null===wa)if(wa="",$.plugins&&$.plugins["Shockwave Flash"])wa=$.plugins["Shockwave Flash"].description.split(" ")[2];else if(e.ActiveXObject)try{var x=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),x=x.GetVariable("$version"),x=x.split(" ")[1].split(",");wa=x[0]+"."+x[1]}catch(ic){l&&console.warn("[TopMailRu] Error#1.12",
ic)}x=b+wa+";sid="+vb+";ver="+wb+";tz="+encodeURIComponent(q);if(c){if(!Z||!Va)c="";else{c=[];c.push(Va.type);c.push(Va.redirectCount);c.push(Ta);for(b=0;b<xb.length;b++)c.push(cc(xb[b]));c=c.join("/")}c=";nt="+c}else c="";c=x+c+("device"in a?";device="+escape(a.device):"")+";ni=";if(!$||!$.connection)x="";else{x=$.connection;b=[];for(f=0;f<yb.length;f++){d=x[yb[f]];if(void 0!==d)switch(d){case !0:d=1;break;case !1:d=0;break;default:d=(""+d).replace(/\//g,"_")}b.push(d)}x=b.join("/")}return c+x+("params"in
a?";params="+escape(ba(a.params)):"")+(null!==I?";detect="+I:"")+(ha||P?";lvid="+escape([xa,B(),N,ia].join(":")):"")+(v?";opts="+escape(v):"")+(m?";flocid="+escape(m.id)+";flocv="+escape(m.version):"")+("version"in a?";appver="+escape(a.version):"")+(ja.support?";visible="+ja.getValue():"")+";_="+Math.random()}function zb(a){a=";e="+escape("PVT/"+a);for(var b=0;b<D.length;b++)J(O(D[b],"/tracker",!1,!0)+a)}function jc(){Ua=!0;Ab(1);if(!Wa&&!ya){ya=!0;for(var a=0;a<D.length;a++)ob(D[a])}}function kc(){Ab(0);
Ua=!1}function dc(){var a=fa(Bb);if(null===a)return null;a=a.split("|");if(2!==a.length)return null;var b=a[1],b=B()-b;if(0>b||b>Cb)return null;a=parseInt(a[0],10);return isNaN(a)?null:a}function Ab(a){var b=B();a=[a,b].join("|");qa(Bb,a,{path:"/",expires:Cb})}function lc(){mc||(L.pvt2=setTimeout(function(){zb(2)},2E3));nc||(L.pvt15=setTimeout(function(){zb(15)},15E3))}function Db(){Xa||setInterval(function(){_tmr.beat()},6E4)}function oc(a,b,c,d){if(!b||!d||d===Ya&&b===Ya&&c===Ya)return null;b={goal:pc+
b,value:c||0,params:{product_id:d}};a&&(b.id=a);return b}function Ia(){g.addEventListener?(W(g,"DOMContentLoaded",Ia),_tmr.onready()):g.attachEvent&&"complete"===g.readyState&&(W(g,"readystatechange",Ia),_tmr.onready());Eb&&(Ha||Sa(ka))}function Za(a){if(U){if(a.persisted){za=Aa=Ja=0;$a=ab=!1;a=bb;bb=[];for(var b=0,c=a.length;b<c;b++)_tmr.callbackOnReady(a[b]);a=Ka;Ka={};for(b in a)_tmr.pageView(a[b]);Db();la&&M.start()}}else W(e,"load",Za);_tmr.onready();_tmr.onload()}function Ba(){U||(W(e,"unload",
Ba),W(e,"beforeunload",Ba));_tmr.unload()}if("[object Array]"===Object.prototype.toString.call(_tmr)){var e=window,$=navigator,g=document,H=location,Q="string"===typeof H.hostname?H.hostname:"",Ca=-1!=Q.search(/(^|\.)odnoklassniki\.ru$/)||-1!=Q.search(/(^|\.)ok\.ru$/),Fb=-1!=Q.search(/(^|\.)vk\.com$/);Q.search(/(^|\.)mail\.ru$/);var qc=-1!=Q.search(/(^|\.)lamoda\.ru$/),rc=-1!=Q.search(/(^|\.)kommersant\.ru$/),Gb=-1!=Q.search(/(^|\.)top\.mail\.ru$/);Q.search(/(^|\.)journal\.tinkoff\.ru$/);var sc="string"===
typeof H.search&&-1!=H.search.search(/[?&]rb_clickid=/),l="string"===typeof H.search&&-1!=H.search.search(/[?&]tmr_debug=1(?:&|$)/),Xa=Ca||Fb||qc||rc,mc=!sc,nc=Ca,Wa=!1,la=Gb||"mail.ru"==Q||"e.mail.ru"==Q,tc=!(Ca||Fb),Eb=Gb,Hb=e.JSON&&e.JSON.stringify&&e.JSON.parse,U="onpageshow"in e&&"onpagehide"in e,ba=Hb?e.JSON.stringify.bind(e.JSON):function(a){return""},uc=Hb?e.JSON.parse.bind(e.JSON):function(a){return{}},lb="POST",mb="application/x-www-form-urlencoded",ha=!(0===H.hostname.search(/^(\d+.)+\d+$/g)||
-1!==H.hostname.search(/:/g)),ga=null,P=$b(),Qa={domain:ac(),path:"/",expires:287712E5};(function(){var a;if(a=g.cookie.match(RegExp("(?:^|; )(tmr_tcdhn\\d+)=([^;]*)","g"))){for(var b=[],c,d=0,f=a.length;d<f;d++)c=a[d],(c=c.match(/(?:^|; )(tmr_tcdhn\d+)=([^;]*)/))&&b.push(c.slice(1));a=b}else a=null;if(a){d=0;for(f=a.length;d<f;d++)b=a[d][0],Pa(b,Qa)}})();var ya=!1,Ua=null,Cb=864E5,Bb="tmr_detect",vc=function(){function a(a,b){for(var c=a.length,h,e,g=0;g<b;g++)e=Math.floor(Math.random()*c),h=a[g],
a[g]=a[e],a[e]=h;return a.slice(0,b)}function b(b,f){var k=g.createElement("div"),e=String.fromCharCode(97,100,118,98,108,111,99,107,32,97,100,118,101,114,116,98,108,111,99,107,32,97,100,118,101,114,116,66,108,111,99,107,32,98,45,114,98,32,98,97,110,110,101,114,95,50,52,48,32,112,45,116,97,114,103,101,116,32,112,117,98,95,51,48,48,120,50,53,48,32,112,117,98,95,51,48,48,120,50,53,48,109,32,112,117,98,95,55,50,56,120,57,48,32,114,98,95,98,111,100,121,32,114,98,45,102,108,111,97,116,105,110,103,32,114,
98,45,115,108,111,116,32,114,98,45,118,105,100,101,111,45,119,105,100,103,101,116,32,116,101,120,116,45,97,100,32,116,101,120,116,45,97,100,45,108,105,110,107,115,32,116,101,120,116,45,97,100,115,32,116,101,120,116,45,98,97,110,110,101,114,32,116,101,120,116,95,97,100,32,116,101,120,116,95,97,100,115,32,116,101,120,116,65,100,32,116,101,120,116,97,100,32,116,101,120,116,65,100,115,32,116,101,120,116,97,100,115,32,116,103,98,45,98,97,110,110,101,114,32,116,114,103,45,98,45,98,97,110,110,101,114,45,
98,108,111,99,107).split(" "),e=a(e,c);k.setAttribute("class",e.join(" "));k.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");k.setAttribute("id","trg-b-banners-1");k.setAttribute("data-view","SlotView.mimic");this.bait=g.body.appendChild(k);this.bait.offsetParent;this.bait.offsetHeight;this.bait.offsetLeft;this.bait.offsetTop;this.bait.offsetWidth;this.bait.clientHeight;this.bait.clientWidth;this.loopNumber=
0;this.fnPositive=b||null;this.fnNegative=f||null;var p=this;setTimeout(function(){p._checkBait.call(p)},1)}var c=7;b.prototype._checkBait=function(){if(ya)this._stop();else{var a=null!==g.body.getAttribute("abp")||!hb(this.bait,!0);(!0===a||10<=++this.loopNumber)&&this._stop();var b;if(a&&this.fnPositive)try{b=this.fnPositive,b()}catch(c){l&&console.warn("[TopMailRu] Error#1.9",c)}else if(!a&&10>this.loopNumber){var e=this;setTimeout(function(){e._checkBait.call(e)},50*this.loopNumber)}else try{b=
this.fnNegative,b()}catch(p){l&&console.warn("[TopMailRu] Error#1.10",p)}}};b.prototype._stop=function(){try{g.body.removeChild(this.bait)}catch(a){l&&console.warn("[TopMailRu] Error#1.11",a)}};return function(a,c){new b(a,c)}}(),F=null,Ib="ecommerce",R="dataLayer",ma=null,cb=!1,La=[],wc=[36383,2540645,3171181,3074137,2057653],xc=[],db;(function(){function a(a,b){for(var c=0,d=b.length;c<d;c++)-1===a.indexOf(b[c])&&a.push(b[c])}function b(b,c,d){for(var f={ecom_method:[],ecom_type:[],ecom_data:{events:[]}},
e=0,m=b.length;e<m;e++){var k=n[b[e]];if(k){a(f.ecom_method,[b[e]]);for(var h=0,q=k.length;h<q;h++)for(var g=0,p=d.length;g<p;g++){var y=k[h][d[g]];if(y)for(var r=0,K=c.length;r<K;r++)if(-1!==k[h].type.indexOf(c[r])){a(f.ecom_type,[c[r]]);a(f.ecom_data.events,y);break}}}}return f}function c(a,b,c){if(!a||!c||!(b in n))return null;for(var d,f=0,e=n[b].length;f<e;f++)if(d=n[b][f],c in d&&-1!==d[c].indexOf(a))return{ecom_method:[b],ecom_type:d.type.slice(),ecom_data:{}};return null}function d(a){for(var d=
[],e,h,n=0,yc=a.length;n<yc;n++)if(h=a[n]){e=null;try{if(h.ecommerce)e=f(h)||k(h);else if(null===h.ecommerce)e=null;else if(h.event){var Jb={event:h.event,ecommerce:{}};e=f(Jb)||k(Jb)}else if("event"===h[0]){var Kb=h[1],zc=h[2],z=c(Kb,g,m);z&&(z.ecom_data[Kb]=zc);e=z}else if(h.event===Ib)a:{for(var Da=b([p],[u],[q]),y=0,r=Da.ecom_data.events.length;y<r;y++)if(!h.hasOwnProperty(Da.ecom_data.events[y])){e=null;break a}delete Da.ecom_data.events;Da.ecom_data[Ib]=h;e=Da}}catch(K){l&&console.warn("[TopMailRu] Error#1.23",
K),e=null}e&&(d.push(e),La.push(e))}if(d.length){a=0;for(e=d.length;a<e;a++)pb(Ma,d[a]);F||(F=[0,0,R]);F[0]+=d.length;e=a=0;for(n=d.length;e<n;e++)a+=ba(d[e].ecom_data).length;F[1]+=a}}function f(a){var b,d;for(d in a.ecommerce)if(a.ecommerce.hasOwnProperty(d)&&(b=c(d,p,w))){if(a.event&&(d=c(a.event,p,v)))for(var e=0,f=b.ecom_type.length;e<f;e++)-1===d.ecom_type.indexOf(b.ecom_type[e])&&(b.ecom_type.splice(e,1),f--,e--);b.ecom_data=a.ecommerce;return b}return null}function k(a){var b=a.event,d=c(b,
p,v);d&&(d.ecom_data[b]=a.ecommerce);return d}function h(a){if((a=e[a])&&"function"===typeof a.push)d(a),ma=a.push,a.push=function(){var a=ma.apply(this,arguments);d([].slice.call(arguments,0));return a}}var p="push",g="gtag",u="gse",w="inner",v="outer",m="external",q="required",n={};n[g]=[{type:["gee"],external:"add checkout checkout_option checkout_progress click detail promo_click remove select_content set_checkout_option view_refund".split(" ")},{type:["ga4"],external:"earn_virtual_currency join_group level_end level_start level_up post_score select_content spend_virtual_currency tutorial_begin tutorial_complete unlock_achievement ad_impression login search share sign_up add_payment_info add_shipping_info add_to_wishlist generate_lead select_item select_promotion view_cart view_item_list".split(" ")},
{type:["gee","ga4"],external:"add_to_cart begin_checkout purchase refund remove_from_cart view_item view_promotion".split(" ")}];n[p]=[{type:[u],required:["transactionId","transactionTotal"]},{type:["ga4"],outer:b([g],["ga4"],[m]).ecom_data.events},{type:["gee"],inner:"click checkout checkout_option impressions promoClick promoView refund".split(" "),outer:"addToCart checkout checkoutOption productClick productDetail ProductImpressions promotionClick promotionView removeFromCart transactionPush".split(" ")},
{type:["ym","gee"],inner:["add","detail","purchase","remove"]},{type:["mt"],outer:["mt_order","mt_refund"]}];db=function(a){if(!(a===R&&ma)){a!==R&&(La=[]);var b=e[R];b&&"function"===typeof b.push&&ma&&(b.push=ma,ma=null);h(a);cb=!0}}})();var qb=function(){var a=[{id:"gtag",globalVars:["google_tag_manager"]},{id:"ga",globalVars:["GoogleAnalyticsObject"]},{id:"ym",globalVars:["Ya",{re:"yaCounter\\d+"}]},{id:"vk",globalVars:["VK"]},{id:"vk",globalVars:["vkAsyncInit"]}],b={};return function(){var c;
try{c=Object.keys(e).join(",")}catch(d){c=null}for(var f=[],k,h=0,g=a.length;h<g;h++){k=b[a[h].id];if(void 0===k)a:{k=a[h].globalVars;for(var I=c,l=0,w=k.length;l<w;l++){var v=k[l];if("string"===typeof v&&!(v in e)||"string"===typeof v.re&&(I&&-1===I.search(RegExp("($|,)"+v.re+"(,|^)","m"))||1===w)){k=!1;break a}}k=!0}k&&(b[a[h].id]=!0,pa(a[h].id,f)||f.push(a[h].id))}return f}}(),ec=qb,sb=864E5,rb="tmr_floc",ub=null;(function(a){try{g.interestCohort&&"function"===typeof g.interestCohort&&g.interestCohort().then(function(a){ub=
{id:a.id,version:a.version};a=[a.id,a.version];var b=B();a=a.concat(b).join("|");qa(rb,a,{path:"/",expires:sb})},function(){})}catch(b){}})();var ja={support:!1},ja=function(){function a(){f(h)}function b(){f(h,m)}function c(a){a.persisted&&(q[h]=null,q[p]=null,f(h,w))}function d(){return l?!g[l]:null}function f(a,b){var c=B(),e="undefined"===typeof b?d():b;if(null===q[a])q[a]={ts:c,state:e,total:0};else{var f=q[a];if(f.state!==e&&!(f.state===m&&e!==w)){var h=c-f.ts,g=f.state;f.ts=c;f.state=e;h<k||
(g===w?(f.total+=h,n&&n(c,h)):g===v&&va&&va(c,h))}}}var k=5,h="auto",p="user",l=null,u=null,w=!0,v=!1,m=null;"hidden"in g?(l="hidden",u="visibilitychange"):"mozHidden"in g?(l="mozHidden",u="mozvisibilitychange"):"webkitHidden"in g?(l="webkitHidden",u="webkitvisibilitychange"):"msHidden"in g&&(l="msHidden",u="msvisibilitychange");var q={};q[h]=null;var n=q[p]=null,va=null;return{support:!!l,auto:function(d,f){n=d||null;va=f||null;l&&(a(),t(g,u,a));U?(t(e,"pageshow",c),t(e,"pagehide",b)):(t(e,"beforeunload",
b),t(e,"unload",b))},set:function(a){f(p,!!a)},getLog:function(){var a=B(),b={},c,d;for(d in q)c=q[d],b[d]=c?c.total:0,c&&c.state&&(b[d]+=a-c.ts);return b},getValue:d}}();ja.auto();var Lb={enabled:!1},na=function(){function a(a,b){var c=(""+a).match(e),d={};d[h]=c;for(var k=0,g=c.length;k<g;k++)c[k]&&(d[l[k]]=c[k]);c=1<arguments.length&&void 0!==b;delete d[h];return c&&!0!==b?d[b]||null:d}function b(a,b){var d;d=(""+a).match(k)||[];var e={};e[h]=d;if(d.length){for(var f=0,g=d.length;f<g;f++)d[f]&&
(e[u[f]]=d[f]);d=e}else d=null;if(!d)return null;if((e=1<arguments.length&&void 0!==b)&&(-1!==w.indexOf(b)||!0===b))for(var f=d,p=0,l=w.length;p<l;p++)(g=c(v[p]||"",f,p))&&(f[w[p]]=g);delete d[h];return e&&!0!==b?d[b]||null:d}function c(a,b,d){var e="",f;if(X(a)&&"data"in a)e="index"in a?(b[a.data]||[])[a.index]||"":c(a.data,b,d),"re"in a&&(e=Qb(e,a.re,a.reMatchIndex)||""),e&&(f=c(a.pre||"",b,d),a=c(a.post||"",b,d),e=f+e+a);else if(E(a)){f=0;for(var h=a.length;f<h;f++)e+=c(a[f],b,d)}else e=u.indexOf(a),
-1===e&&(e=w.indexOf(a),e>=d&&(e=-1)),e=-1!==e?b[a]||"":""+a;return e}function d(a){var b;if(E(a)){b=[];for(var c=0,e=a.length;c<e;c++)b.push(d(a[c]));return b}b=a instanceof RegExp?a:RegExp("^"+ib(a)+"$");return b.test(na.parse(H.href,"domain"))?null:b}var e=/^((mailto|tel|fax|modem)\:)(.*)$/,k=/^(?:([a-z]+):(?:([a-z]*):)?\/\/)?(?:([^:@]*)(?::([^:@]*))?@)?(?:((?:[a-z0-9_-]+\.)+[a-z]{2,}|localhost|(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5]))))(?::(\d+))?(?:([^:\?\#]+))?(?:\?([^\#]+))?(?:\#([^\s]+))?$/i,
h="_raw",g="hash",g="hash",l=["href","protocol","contactBy","contactTo"],u=["href","scheme","subscheme","user","pass","hostname","port","pathname","query",g],w=["protocol","auth","host","domain","path","search",g,"fileExtension"],v=[{data:["scheme",{pre:":",data:"subscheme"}],post:":"},[{data:"user",post:{pre:":",data:"pass"}}],[{data:h,index:5,post:{pre:":",data:"port"}}],{data:"host",re:/^(?:w{3}.)?(.*)$/,reMatchIndex:1},["pathname",{pre:"?",data:"query"}],{pre:"?",data:"query"},{pre:"#",data:g},
{data:"pathname",re:/.\.([^\.]+)$/,reMatchIndex:1}];return{parse:function(c,d){return!c?null:e.test(""+c)?a(c,d):b(c,d)},getIsDomainRE:d,getDomainMask:function(a,b,c){b=(b&&0<b?b:2)-1;var d=1;a=(""+a).replace(RegExp("^.*(?:\\.((?:[^\\.]+\\.){"+b+"}[^\\.]+$))"),"$1");if(d=a.match(/\./g))d=d.length;a="(?:^|\\.{"+(b-d+1)+"})"+ib(a)+"$";return RegExp(c?"^((?!"+a+").)*$":a)}}}(),Mb=function(){var a="checkbox color date datetime-local email file month number password radio range search tel text time url week".split(" ");
return{analyze:function(b){if(!b)return null;for(var c=[].slice.apply(b.elements),d=[],e=[],k=0,h=c.length;k<h;k++){var g;a:switch(g=c[k],g.tagName.toLowerCase()){case "button":g=!1;break a;case "input":var l=g.type.toLowerCase();if(l&&-1===a.indexOf(l)){g=!1;break a}default:g=hb(g,!1)&&g.name&&!1===g.disabled}g&&(d.push(c[k].name),e.push(c[k].type))}return{node:b,inputsName:d.length?d:null,inputsType:e.length?e:null}},getFormByInput:function(a){if(!a)return null;a=a.form||a.getAttribute("form");
return"string"===typeof a?document.getElementById(a)||null:a instanceof HTMLElement?a:null}}}(),Lb=function(){function a(a){a=a||e.event;var c=(a.which||a.keyCode)===D;if("which"in a&&a.which===J||"button"in a&&a.button&J||c){a:{a=a.target||a.srcElement;for(var c=0,d=h.length;c<d;c++){var g;b:{g=a;for(var z=h[c],m=0,y=z.types.length;m<y;m++){var r;c:{var K=g;r=z.types[m];var C=null;if(r.filter.tagName)for(var G=0,V=r.filter.tagName.length;G<V&&!(C=gb(K,r.filter.tagName[G]));G++);else C=K;if(C){if(r.filter.attr)for(K in K=
void 0,r.filter.attr)if(r.filter.attr.hasOwnProperty(K)&&(G=r.filter.attr[K],V=C[K],!0===G&&!V||!1===G&&V||E(G)&&-1===G.indexOf(V))){r=null;break c}r={source:C,type:r.type,detail:C.tagName}}else r=null}if(r){r.category=z.category;g=r;break b}}g=null}if(g){a=g;break a}}a=null}if(a){if(a.category===f){if(a.data=na.parse(a.source.href,!0),!a.data)return}else if(a.category===k){if(a.data=Mb.analyze(Mb.getFormByInput(a.source)),!a.data)return}else return;c=A;if(c.enabled&&c.modes){d=0;for(g=c.modes.length;d<
g;d++)if(z=a,m=c.modes[d],z.category===m.mode)if(z.category===f||z.category===k){if(m=m.categories,z.data){y=void 0;c:{y=0;for(r=m.length;y<r;y++){for(var C=z,K=m[y],G={category:z.category},V=[],eb=0,S=K.types.length;eb<S;eb++){var n=K.types[eb],q=aa({type:K.category},G),x=v in n,t;w in n?t=b(C,n,q,w):x&&(t=aa({source:C.source,data:C.data,detail:n.type},q));if(t&&(!x||!b(C,n,q,v)))if(V.push(t),(n.rule&B)!==B)break}if(C=V.length?V:null){y=C;break c}}y=null}if(y){z=0;for(m=y.length;z<m;z++)c:{r=y[z];
C={type:"sendEvent",category:"_"+r.category,action:r.detail};if(r.category===f&&(r.type===p||r.type===s)){if(C.label=r.data.href,!C.label)break c}else if(r.category===u&&(C.label=r.data.node.action,!C.label))break c;_tmr.push(C)}}}}else l&&console.warn("[TopMailRu] Error#1.24","Not found tracking for type",z.type)}}}}function b(a,b,d,e){var f=!1,g=b[e];if(E(g)){var h=b[e+"Rule"]||x;e=(h&m)===m;for(var h=(h&q)===q,k=0,l=g.length;k<l&&!(f=c(a,g[k]),e&&f);k++)if(h&&!f)return null}else f=c(a,g);return!f?
null:aa({source:a.source,data:a.data,detail:b.type},d)}function c(a,b){var c=b.rule||x,e=(c&m)===m,c=(c&q)===q,f=!1,g;for(g in b)if(b.hasOwnProperty(g)&&"rule"!==g){var f=b[g],h=a.data[g],f=!0===f?!!(E(h)?h.length:h):!1===f?!(E(h)?h.length:h):d(h,f);if(e&&f)break;else if(c&&!f)return!1}return f}function d(a,b){var c=a;if(c)if(E(c)){if(!c.length)return!1}else c=[c];else return!1;var d=b,e=x;if(X(d)&&!E(d)){if(!E(d.value))return!1;e=d.rule||e;d=d.value}a:{for(var f=(e&n)===n,g=(e&m)===m,e=(e&q)===q,
h=!1,k=0,C=d.length;k<C;k++){var G=d[k];if(G){var l="string"===typeof G;l&&!f&&(G=G.toLowerCase());var p=G instanceof RegExp;if(l||p){var h=!0,S;b:{S=c;for(var s=f,u=0,w=S.length;u<w;u++){var v=s?S[u]:S[u].toLowerCase();if(p&&G.test(v)||l&&G===v){S=!0;break b}}S=!1}if(g&&S){c=!0;break a}else if(e&&!S){c=!1;break a}}}}c=g?!1:e?h?!0:!1:void 0}return c}var f="click",k="submit",h=[{category:k,types:[{type:"button",filter:{tagName:["input","button"],attr:{type:["submit","image"]}}}]},{category:f,types:[{type:"a",
filter:{tagName:["a"],attr:{href:!0}}}]}],p="file",s="resource",u="submit",w="filter",v="stop",m=1,q=2,n=4,B=8,x=m,A={enabled:!0,modes:[{mode:k,categories:[{category:u,types:[{type:"lead",filter:[{inputsName:["phone"],inputsType:["tel"],rule:m},{inputsName:["email"],inputsType:["email"],rule:m}],filterRule:q,stop:{inputsName:{value:["password"]}}},{type:"form",filter:{inputsName:!0}}]}]},{mode:f,categories:[{category:"contact",types:[{type:"email",filter:{contactBy:["mailto"]}},{type:"phone",filter:{contactBy:["tel"]}}]},
{category:p,types:[{type:"file",filter:{fileExtension:"7z bz2 gz apk iso cab dmg msi rar tar zip exe txt doc docx ppt pptx xls xlsx csv pdf psd rtf ods djvu eps 3gp aac ac3 avi flac flv divx midi mka mkv mp3 mp4 mpeg mpg mov ogg vob wav webm wma wmf wmv torrent".split(" ")}}]},{category:s,types:[{type:"outgoing",rule:B,stop:{domain:[na.getDomainMask(na.parse(H.href,"domain"),3,!1)],href:[/password/]}},{type:"messenger",filter:{domain:na.getIsDomainRE("vk.me t.me telegram.me telegram.im web.telegram.org m.me web.whatsapp.com api.whatsapp.com chat.whatsapp.com wa.me".split(" "))},
stop:{href:[/password/]}},{type:"social",filter:{domain:na.getIsDomainRE("vk.com vkontakte.ru m.vk.com vk.ru ok.ru m.ok.ru odnoklassniki.ru facebook.com m.facebook.com fb.com twitter.com linkedin.com instagram.com tiktok.com youtube.com youtu.be m.youtube.com".split(" "))},stop:{href:[/password/]}}]}]}]},J=1,D=13;return{enabled:!0,start:function(){t(g,"click",a);t(g,"keypress",a)}}}();tc&&Lb.start();var M=function(){function a(a){a=null===a?g.visibilityState:a;d();E=a}function b(){!1!==A&&(A=!1,f(!0),
e.removeEventListener("pagehide",z),z=null,e.clearInterval(H),H=null,g.removeEventListener("visibilitychange",F),F=null,e.removeEventListener("focus",L),e.removeEventListener("blur",N),N=L=null)}function c(a,b){if(a in n)return!1;var c=B();n[a]={id:""+a+"_"+c,runInBackground:!!b,timespent:{},startTS:c,updateTS:c};t.push(a);return!0}function d(a){var b=[].slice.call(arguments),c=w;0===b.length&&(b=t.concat(x),c=v);b=k(b,c);h(b)}function f(a){var b=[],c=[],d=!1;if(0<arguments.length){var e=arguments.length-
1,b=[].slice.call(arguments,0,e),e=arguments[e];"boolean"===typeof e?d=e:b.push(e)}if(0===b.length)b=t.slice(),d&&(b=b.concat(x));else if(!d){c=b;b={auto:[],user:[]};d=0;for(e=c.length;d<e;d++){var f=c[d];-1!==x.indexOf(f)?b.auto.push(f):-1!==t.indexOf(f)&&b.user.push(f)}c=b.auto;b=b.user}b=k(b,m);c=k(c,w);c=b.concat(c);c=h(c);if(c.length){b=0;for(d=c.length;b<d;b++)e=c[b],e in n&&(delete n[e],f=t.indexOf(e),-1!==f&&t.splice(f,1),e=x.indexOf(e),-1!==e&&x.splice(e,1))}}function k(a,b){for(var c=B(),
d=[],e=[],e=0,f=a.length;e<f;e++){var g;var h=a[e];g=b;var k=c;h in n?(h=n[h],!1===h.updateTS?g=g===m:(h.timespent[E]=(h.timespent[E]||0)+(k-(h.updateTS||D)),h.updateTS=g===w?k:g===m?!1:null,g=!0)):g=!1;g&&d.push(a[e])}if(b===v&&(D=c,D-A>=r)){if(e=l()){f=0;for(g=e.length;f<g;f++)if(k=e[f],k in n){var k=n[k],q;for(q in k.timespent)k.timespent[q]=0}}A=c}return d}function h(a){for(var b=[],c=[],d=0,e=a.length;d<e;d++){var f=a[d],g;if(f in n){g=n[f];var h=g.id,k=!1!==g.updateTS;y[h]={id:f,timespent:g.timespent,
runInBackground:g.runInBackground,isActive:k};g=k?!1:h}else g=!1;!1!==g&&(b.push(f),c.push(g))}!s(c)&&(c.length&&P)&&ra(M,ba(y)||"");return b}function l(){var a=[],b=[],c;for(c in n){var d=n[c].id;a.push(c);b.push(d)}return s(b)?a:!1}function s(a){if(!Na.length)return!1;for(var b=[],c=[],d=0,e=a.length;d<e;d++){var f;f=a[d];if(f in y){f=y[f];var g=Math.floor(f.timespent.visible/1E3),h=0,k;k=g;var l=void 0;for(l in f.timespent)l!==q&&(h+=f.timespent[l]);h=Math.floor(h/1E3);f.runInBackground&&(k+=h);
f=f.id+"/"+g+"/"+h+"/"+k}else f=null;f&&c.push(f)}if(!c.length)return!1;a=";ids="+escape(Na.join())+";e="+escape("TS:"+c.join(","));J(O({id:Na[0]},"/tracker",!1,!1)+a);d=0;for(e=b.length;d<e;d++)delete y[b[d]];b.length&&P&&ra(M,ba(y)||"");return!0}var u=["pageView"],w=1,v=0,m=-1,q="visible",n={},t=[],x=[],A=!1,D,E,H,F,L,N,z,M="tmr_tslog",y={},r=18E4;return{init:function(){E=g.visibilityState;D=B();l()},start:function(){if(!1===A){P&&(y=uc(Ga(M)||"{}"));A=B();f(!0);for(var d=0,h=u.length;d<h;d++){var k=
u[d];c(k,!1)&&(t.pop(),x.push(k))}z=b.bind(e);e.addEventListener("pagehide",z,!1);F=a.bind(e,null);H=e.setInterval(F,1E4);g.addEventListener("visibilitychange",F,!1)}},stop:b,startActivity:c,updateActivity:d,stopActivity:f}}(),Ha=!1,wb="60.3.0",Ja=0,Aa=0,vb=jb(16),T=null,ca=null,za=0,ua="tmr_reqNum",N=null;ha&&(N=fa(ua)||null,null!==N&&Pa(ua,Qa));P&&null===N&&(N=Ga(ua)||null);N=null===N?0:parseInt(N,10);P&&ra(ua,N);var ia=(ha?fa("tmr_lvid"):null)||(P?Ga("tmr_lvid"):null),xa=(ha?fa("tmr_lvidTS"):null)||
(P?Ga("tmr_lvidTS"):null);if(null===ia||-1===ia.search(/^[0-9a-fA-F]+$/))ia=jb(32);nb("tmr_lvid",ia);if(null===xa||-1===xa.search(/^\d+$/))xa=""+B();nb("tmr_lvidTS",xa);var Y=0,D=[],ka=[],Oa=[],Ma=[],Na=[],Ka={},fc="ontouchstart"in e||1<($.maxTouchPoints||$.msMaxTouchPoints)?"1":"0",gc=e.devicePixelRatio||0,hc=e.top===e?0:1,wa=null,Nb=e.performance||e.mozPerformance||e.msPerformance||e.webkitPerformance||{},Z=Nb.timing||{},Va=Nb.navigation||{},xb="unloadEventStart unloadEventEnd redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd domLoading domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),
Ta=!Z?void 0:Z.navigationStart,yb="downlink downlinkMax effectiveType rtt saveData type".split(" "),da,fb;da=function(a,b,c){if(b&&"object"===typeof b){var d="id"in b&&b.id||Y,e=c.title||null,g,h=fb(b,{params:c.required,fn:c.fn});if(h.missed.length)console.warn("[TopMailRu]"+(d?"["+d+"]":"")+" Error#1.14","Unspecified "+(1<h.missed.length&&h.missed.slice(0,-1).join(", ")+" and "||"")+h.missed.slice(-1)+" in "+a);else{var l=fb(b,{params:c.optional,fn:c.fn});g=[].concat(h.values).concat(l.values);h=
[].concat(h.missed).concat(l.missed);c.value&&(b="value"in b&&b.value,!0!==c.value&&(b=b||c.value),b?g.push("value: "+b):h.push("value"));c=g.length?"{ "+g.join(", ")+" }":"";g=h.length?"("+(1<h.length?h.slice(0,-1).join(", ")+" and "+h.slice(-1)+" are":h.slice(-1)+" is")+" empty)":"";d?console.info("[TopMailRu]["+d+"]: "+(e||a)+" "+c+" "+g):console.warn("[TopMailRu] Error#1.15","Undefined counter ID of "+a+" "+c)}}else console.warn("[TopMailRu][]["+a+"] Error#1.13")};fb=function(a,b){var c=[],d=
[],e,g,h;if(b.params)for(e in b.params)if(b.params.hasOwnProperty(e)&&!1!==b.params[e])if(g=e in a&&a[e],!0!==b.params[e]&&(g=g||b.params[e]),g)try{h=b.fn?b.fn:null,c.push(e+': "'+(h?h(e,g):g)+'"')}catch(l){console.warn("[TopMailRu] Error#1.16",l)}else d&&d.push(e);return{values:c,missed:d}};var L={},bb=[];s.prototype.callbackOnReady=function(a){l&&da("onReady",a,{title:"OnReady callback"});a&&"object"===typeof a&&"function"===typeof a.callback&&(a.callback.call(a.context||null),U&&bb.push(a))};s.prototype.pageView=
function(a){sa(a);a:if(a&&"object"===typeof a&&a.id){5>ka.length&&!pa(a.id,ka)&&(ka.push(a.id),!1!==a.beat&&Oa.push(a.id),D.push(a),ya&&ob(a));U&&(Ka[a.id]=aa(!0,{},a),Ka[a.id].bfCache=!0);"detectBlocker"in a&&!a.detectBlocker&&(Wa=!0);var b="string"===typeof a.ecommerce,c=b&&-1!==a.ecommerce.search(/\S/);if(5>Ma.length&&!pa(a.id,Ma)&&(!0===a.ecommerce||b&&!c||b&&c||!1!==a.ecommerce&&!b&&(pa(a.id,wc)||!pa(a.id,xc)))){Ma.push(a.id);if(b&&c){if(cb&&(db(a.ecommerce),R!==a.ecommerce)){R=a.ecommerce;F&&
(F=[0,0,R]);break a}R=a.ecommerce;F&&(F=[0,0,R])}b=[a.id];if(cb)for(var c=0,d=La.length;c<d;c++)pb(b,La[c])}la&&Na.push(a.id);Ha&&5>ka.length&&Sa([a.id])}l&&da("pageView",a,{title:"Page view",optional:{url:H.href}});ta(a)&&(J(O(a,"/counter",!1,!0)),Aa=B())};s.prototype.reachGoal=function(a){sa(a);l&&da("reachGoal",a,{title:"Reach goal",value:!0,required:{goal:!0}});if(ta(a)&&"goal"in a&&a.goal){var b="value"in a&&a.value?parseInt(a.value)||"":"";J(O(a,"/tracker",!1,!0)+(";e="+escape("RG:"+b+"/"+a.goal)))}};
var Ya="VALUE";s.prototype.itemView=function(a){l&&da("itemView",a,{title:"Item view",optional:{list:!0,pagetype:!0,productid:!0,totalvalue:!0},fn:function(a,b){return(""+b).replace(/;/g," ")}});if(ta(a)){var b=a.list||"",c=a.productid||"",d=a.pagetype||"",e=a.totalvalue||0,g=oc(a.id,d,e,c);g&&this.reachGoal(g);(new Image).src="https://ad.mail.ru/retarget/?counter="+(a.id||Y)+"&list="+b+"&productid="+c+"&pagetype="+d+"&totalvalue="+e+"&_="+Math.random();b="IV:"+e+"/"+(""+b).replace(/;/g," ")+";"+
(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");J(O(a,"/tracker",!1,!0)+(";e="+escape(b)))}};var pc="vk_ecom_";s.prototype.sendEvent=function(a){sa(a);l&&da("sendEvent",a,{title:"Send event",value:!0,required:{category:!0,action:!0},optional:{label:!0},fn:function(a,b){return(""+b).substring(0,300).replace(/;/g," ")}});if(ta(a)&&"category"in a&&a.category&&"action"in a&&a.action){var b=(""+a.category).substring(0,300),c=(""+a.action).substring(0,300),d="label"in a&&a.label?(""+a.label).substring(0,
300):"",b="CE:"+("value"in a&&a.value?parseInt(a.value)||"":"")+"/"+(""+b).replace(/;/g," ")+";"+(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");J(O(a,"/tracker",!1,!0)+(";e="+escape(b)))}};s.prototype.setUserID=function(a){if(null===a||!1===a||void 0===a)this.deleteUserID();else{var b=typeof a;"number"!==b&&"string"!==b?l&&console.warn("[TopMailRu] Error#1.17","Invalid user ID in setUserID"):(T=a,l&&console.info("[TopMailRu]: Global user ID = "+T))}};s.prototype.getUserID=function(){return T||
0===T?T:void 0};s.prototype.deleteUserID=function(){T=null;l&&console.info("[TopMailRu]: Reset global user ID to null")};s.prototype.setUserParams=function(a){if(null===a||!1===a||void 0===a)this.deleteUserParams();else if(X(a)){try{ca=aa(!0,{},a)}catch(b){l&&console.warn("[TopMailRu] Error#1.22","Invalid user params in setUserParams");return}l&&console.info("[TopMailRu]: Global user params = "+ba(ca))}else l&&console.warn("[TopMailRu] Error#1.21","Invalid user params in setUserParams")};s.prototype.getUserParams=
function(){var a=ca?ca:void 0;return a?aa(!0,{},a):void 0};s.prototype.deleteUserParams=function(){ca=null;l&&console.info("[TopMailRu]: Reset global user params to null")};s.prototype.getClientID=function(){var a=ia;return a||0===a?a:void 0};s.prototype._MT_event=function(a,b,c){sa(a);l&&da(b,a,{title:c});ta(a)&&J(O(a,"/tracker",!1,!0)+(";e="+escape("MT:/"+b)))};s.prototype.miniAppEvent=function(a){this._MT_event(a,"miniAppEvent","VK Mini App Event")};s.prototype.startActivity=function(a){la&&(!a||
!("name"in a&&a.name)?l&&console.warn("[TopMailRu] Error#1.27","Invalid startActivity command: name of activity is required"):M.startActivity(a.name,!!a.runInBackground))};s.prototype.updateActivity=function(a){la&&(!X(a)||!("name"in a&&a.name)?M.updateActivity():E(a.name)?M.updateActivity.apply(e,a.name):"string"===typeof a.name?M.updateActivity(a.name):l&&console.warn("[TopMailRu] Error#1.28","Invalid updateActivity command: name of activity should be string or array of string"))};s.prototype.stopActivity=
function(a){la&&(!X(a)||!("name"in a&&a.name)?M.stopActivity(a?!!a.stopAutoActivities:!1):E(a.name)?M.stopActivity.apply(e,a.name.concat(!!a.stopAutoActivities)):"string"===typeof a.name?M.stopActivity(a.name,!!a.stopAutoActivities):l&&console.warn("[TopMailRu] Error#1.29","Invalid stopActivity command: name of activity should be string or array of string"))};s.prototype.processEvent=function(a,b){if(a&&"object"===typeof a)if("type"in a){if("onready"===a.type){if(b&&0>b)return;this.callbackOnReady(a)}else if(b&&
0<b)return;switch(a.type){case "pageView":this.pageView(a);break;case "reachGoal":this.reachGoal(a);break;case "itemView":this.itemView(a);break;case "sendEvent":this.sendEvent(a);break;case "setUserID":"userid"in a&&this.setUserID(a.userid);break;case "deleteUserID":this.deleteUserID();break;case "setUserParams":"params"in a&&this.setUserParams(a.params);break;case "deleteUserParams":this.deleteUserParams();break;case "miniAppEvent":this.miniAppEvent(a);break;case "startActivity":this.startActivity(a);
break;case "updateActivity":this.updateActivity(a);break;case "stopActivity":this.stopActivity(a)}}else l&&console.warn("[TopMailRu] Error#1.19","Unspecified type of push event");else l&&console.warn("[TopMailRu] Error#1.18","Invalid push event")};s.prototype.push=function(a){for(var b=0,c=arguments.length;b<c;b++)this.processEvent(arguments[b])};var Ob=!1;s.prototype.onready=function(){Ob||(Ob=!0,!Wa&&!ya&&vc(jc,kc),db(R))};var ab=!1;s.prototype.onload=function(){if(!ab){ab=!0;za=B();if(!Ca&&0<D.length){for(var a=
";e="+escape("RT/load")+";et="+za,b=0;b<D.length;b++)J(O(D[b],"/tracker",!0,!0)+a);Aa=za}lc()}};s.prototype.beat=function(){if(!Xa&&Ja){var a=B();if(!(12E4<a-Ja)){if(12E4<a-Aa)for(var b=";e="+escape("RT/resend")+";et="+za,c=0;c<D.length;c++)!1!==D[c].beat&&J(O(D[c],"/tracker",!1,!0)+b);else 0<Oa.length&&J("/tracker?"+Fa({js:"13",id:Oa[0],e:"RT/beat",sid:vb,ids:Oa.join(),ver:wb,_:Math.random()},";"));Aa=a}}};var $a=!1;s.prototype.unload=function(){if(!$a){$a=!0;if(!Ca){var a;a=(a=tb())?B()-a:void 0;
a=";e="+escape("RT/unload")+";et="+B()+(a?";pvt="+escape(a):"");if(ja.support){var b=ja.getLog();a+=";vtauto="+b.auto}for(b=0;b<D.length;b++)J(O(D[b],"/tracker",!1,!0)+a)}U&&(L.pvt2&&(clearTimeout(L.pvt2),delete L.pvt2),L.pvt15&&(clearTimeout(L.pvt15),delete L.pvt15),L.beat&&(clearInterval(L.beat),delete L.beat))}};s.prototype.activity=function(a){Ja=B()};var oa=_tmr;_tmr=new s;for(var A=0,Ea=oa.length,ea;A<Ea;A++)(ea=oa[A])&&"object"===typeof ea&&sa(ea);la&&(M.init(),M.start());A=0;for(Ea=oa.length;A<
Ea;A++)ea=oa[A],_tmr.processEvent(ea,1);A=0;for(Ea=oa.length;A<Ea;A++)ea=oa[A],_tmr.processEvent(ea,-1);"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?(_tmr.onready(),Eb&&(Ha||Sa(ka))):g.addEventListener?t(g,"DOMContentLoaded",Ia):g.attachEvent&&t(g,"readystatechange",Ia);if("complete"===g.readyState)_tmr.onload();else U?t(e,"pageshow",Za):t(e,"load",Za);U?t(e,"pagehide",Ba):(t(e,"unload",Ba),t(e,"beforeunload",Ba));Db();if(!Xa)try{for(var Pb="scroll gesturechange touchmove mousedown mousemove mouseup touch".split(" "),
Ac=function(a){t(g,a,function(){_tmr.activity(a)})},A=0;A<Pb.length;A++)Ac(Pb[A]);t(e,"scroll",function(){_tmr.activity("scallback")})}catch(Bc){l&&console.warn("[TopMailRu] Error#1.20",Bc)}}})();
