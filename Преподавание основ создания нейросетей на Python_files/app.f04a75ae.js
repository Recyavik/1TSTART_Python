(()=>{var e={26107:(e,t,s)=>{"use strict";var i=s(98880),o=s(99592),a=s(83673);function r(e,t,s,i,o,r){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(n)}const n=6e5,l=(0,a.aZ)({name:"App",data(){return{timer:void 0}},created(){this.$q.cache={},this.$q.allowRefresh=!0,this.timer=setInterval(this.checkAppUpdate,n)},unmounted(){clearInterval(this.timer)},methods:{async checkAppUpdate(){}}});var u=s(74260);const c=(0,u.Z)(l,[["render",r]]),d=c;var h=s(71333),p=s(44688),g=s(23340),M=s(28339),m=s(2438),y=s(77026),f=s(89853),I=s(10798),w=s(42214);const D=[{path:"/",component:()=>Promise.all([s.e(4736),s.e(8974)]).then(s.bind(s,88974)),children:[{path:"",component:()=>Promise.all([s.e(4736),s.e(5464)]).then(s.bind(s,95464))},{path:"entry",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3381)]).then(s.bind(s,63381))},{path:":alias",component:()=>Promise.all([s.e(4736),s.e(5464)]).then(s.bind(s,95464))},{path:":alias/:verb",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3381)]).then(s.bind(s,63381))},{path:"login",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(8062)]).then(s.bind(s,78062))},{path:"buy-course/:alias",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4593)]).then(s.bind(s,74593))},{path:"pay-course",component:()=>s.e(6097).then(s.bind(s,86097))},{path:"offline/:id/networking-table",component:()=>Promise.all([s.e(4736),s.e(8188)]).then(s.bind(s,48188))},{path:"webinar",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2296)]).then(s.bind(s,92296)),children:[{path:"",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(39)]).then(s.bind(s,70039))}]},{path:"course",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2296)]).then(s.bind(s,92296)),children:[{path:"",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,66392))}]},{path:"page/:uuid",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2296)]).then(s.bind(s,92296)),children:[{path:"",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,66392))}]},{path:"topic/:uuid",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2296)]).then(s.bind(s,92296)),children:[{path:"",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,66392))}]},{path:"section/:uuid",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2296)]).then(s.bind(s,92296)),children:[{path:"",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,66392))}]},{path:"user/pay/success",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(7967)]).then(s.bind(s,67967))},{path:"user/pay/fail",component:()=>s.e(9838).then(s.bind(s,19838))},{path:"pay",component:()=>Promise.all([s.e(3064),s.e(4725)]).then(s.bind(s,74725))},{path:"user",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2296)]).then(s.bind(s,92296)),children:[{path:"",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(7572)]).then(s.bind(s,17572))},{path:"profile",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(7572)]).then(s.bind(s,17572))},{path:"portfolio",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(8916)]).then(s.bind(s,58916))},{path:"messages",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(6615)]).then(s.bind(s,56615))},{path:"messages/:id",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(6615)]).then(s.bind(s,56615))},{path:"my-course",name:"my-course",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,66392))},{path:"my-course/:moduleId",name:"my-course-module",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,66392))},{path:"my-course/:moduleId/:taskId",name:"my-course-task",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,66392))},{path:"my-course/:moduleId/:taskId/:slideId",name:"my-course-slide",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,66392))},{path:"my-course/:alias",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,66392))},{path:"courses",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4463)]).then(s.bind(s,74463))},{path:"webinar",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(39)]).then(s.bind(s,70039))},{path:"contacts",component:()=>Promise.all([s.e(4736),s.e(8045)]).then(s.bind(s,78045))},{path:"offer",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(606)]).then(s.bind(s,70606))},{path:"start-course/:alias",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(1729)]).then(s.bind(s,51729))},{name:"buy-course",path:"buy-course",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4593)]).then(s.bind(s,74593))},{name:"pay-course",path:"pay-course",component:()=>s.e(6097).then(s.bind(s,86097))},{name:"course-info",path:"course-info",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(8082)]).then(s.bind(s,48082))},{path:":alias",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(8082)]).then(s.bind(s,48082))},{name:"start-task",path:"start-task",component:()=>s.e(4129).then(s.bind(s,4129))},{name:"quiz",path:"quiz",component:()=>s.e(4826).then(s.bind(s,34826))},{name:"quiz-result",path:"quiz-result",component:()=>Promise.all([s.e(4736),s.e(8689)]).then(s.bind(s,78689))},{path:"login",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(8062)]).then(s.bind(s,78062))},{path:"projects",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3974)]).then(s.bind(s,93974))},{name:"project",path:"project/:uuid",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(1480)]).then(s.bind(s,81480)),children:[{name:"project-main",path:"main",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9249)]).then(s.bind(s,9249))},{name:"project-team",path:"team",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3038)]).then(s.bind(s,53038))},{name:"project-docs",path:"docs/:alias",component:()=>Promise.all([s.e(3064),s.e(8556)]).then(s.bind(s,98556))}]},{path:"/friends",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(6047)]).then(s.bind(s,66047))},{path:"path",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9901)]).then(s.bind(s,99901))},{path:"showcase",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(7320)]).then(s.bind(s,67320))},{path:"showcase/:productId",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3149)]).then(s.bind(s,83149))},{path:"my-orders",component:()=>s.e(4433).then(s.bind(s,14433))}]},{path:"/table",component:()=>Promise.all([s.e(4736),s.e(4313)]).then(s.bind(s,4313))}]},{path:"/school",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(8044)]).then(s.bind(s,98044))},{path:"/partner",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2407)]).then(s.bind(s,92407))},{path:"/partner-info",component:()=>Promise.all([s.e(4736),s.e(4842)]).then(s.bind(s,84842))},{path:"/friends/login",component:()=>Promise.all([s.e(4736),s.e(8756)]).then(s.bind(s,58756))},{path:"/master-su",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(7161)]).then(s.bind(s,77161))},{path:"/portfolio/:name",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(8180)]).then(s.bind(s,18180))},{path:"/2035auth",component:()=>s.e(4017).then(s.bind(s,44017))},{path:"/incorrect_url",component:()=>s.e(4589).then(s.bind(s,54589))},{path:"/go/:catchAll(.*)*",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,17972))},{path:"/admin-login",component:()=>s.e(5150).then(s.bind(s,55150))},{path:"/jM5a-1Pq8",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2081)]).then(s.bind(s,52081)),children:[{path:"",redirect:"/jM5a-1Pq8/users"},{path:"/jM5a-1Pq8/users",children:[{path:"",redirect:"/jM5a-1Pq8/users/users"},{path:"/jM5a-1Pq8/users/users",name:"users",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,41465))},{path:"/jM5a-1Pq8/users/user-stats",name:"user-stats",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2926)]).then(s.bind(s,22926))},{path:"/jM5a-1Pq8/course",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(5647)]).then(s.bind(s,15647))},{path:"/jM5a-1Pq8/users/mailings",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(8773)]).then(s.bind(s,38773))},{path:"/jM5a-1Pq8/users/edit-mailing",name:"edit-mailing",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4729)]).then(s.bind(s,24729))},{path:"/jM5a-1Pq8/users/chat",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9488)]).then(s.bind(s,49488))},{path:"/jM5a-1Pq8/users/user-chat",name:"user-chat",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,10776))},{path:"/jM5a-1Pq8/users/user-balance",name:"user-balance",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2672)]).then(s.bind(s,72672))},{path:"/jM5a-1Pq8/users/user-products",name:"user-products",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(154)]).then(s.bind(s,154))},{path:"/jM5a-1Pq8/users/stats",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4638)]).then(s.bind(s,84638))},{path:"/jM5a-1Pq8/users/certificates",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9199)]).then(s.bind(s,89199))},{path:"/jM5a-1Pq8/users/user-certificate",name:"user-certificate",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(310)]).then(s.bind(s,80310))},{path:"/jM5a-1Pq8/users/setup-autophone",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4202)]).then(s.bind(s,44202))},{path:"/jM5a-1Pq8/users/user-test-result",name:"user-test-result",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(7631)]).then(s.bind(s,37631))},{path:"/jM5a-1Pq8/users/edit-user-profile",name:"edit-user-profile",component:()=>Promise.all([s.e(3064),s.e(2762)]).then(s.bind(s,22762))},{path:"/jM5a-1Pq8/users/user-input-table",name:"user-input-table",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4982)]).then(s.bind(s,44982))},{path:"/jM5a-1Pq8/users/poll-table",name:"poll-table",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(5018)]).then(s.bind(s,35018))},{path:"/jM5a-1Pq8/users/users-input",name:"users-input",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(1510)]).then(s.bind(s,51510))},{path:"/jM5a-1Pq8/users/likes-input",name:"likes-input",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4869)]).then(s.bind(s,54869))},{path:"/jM5a-1Pq8/users/user-cert2",name:"user-cert2",component:()=>s.e(2708).then(s.bind(s,52708))},{path:"/jM5a-1Pq8/users/user-trace-courses",name:"user-trace-courses",component:()=>s.e(8937).then(s.bind(s,48937))},{path:"/jM5a-1Pq8/users/user-trace-traces",name:"user-trace-traces",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,89565))},{path:"/jM5a-1Pq8/users/user-trace-content",name:"user-trace-content",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,72446))},{path:"/jM5a-1Pq8/users/user-entry-diag",name:"user-entry-diag",component:()=>Promise.all([s.e(3064),s.e(6179)]).then(s.bind(s,56179))},{path:"/jM5a-1Pq8/users/user-courses",name:"user-courses",component:()=>s.e(3064).then(s.bind(s,1324))},{path:"/jM5a-1Pq8/users/user-course-info",name:"user-course-info",component:()=>Promise.all([s.e(3064),s.e(1633)]).then(s.bind(s,51633))},{path:"/jM5a-1Pq8/users/add-update-users",name:"add-update-users",component:()=>Promise.all([s.e(4736),s.e(1166)]).then(s.bind(s,11166))},{path:"/jM5a-1Pq8/users/export",name:"users-export",component:()=>Promise.all([s.e(4736),s.e(2541)]).then(s.bind(s,82541))},{path:"/jM5a-1Pq8/users/exercise/:id",name:"users-exercise-id",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3270)]).then(s.bind(s,73270))},{path:"/jM5a-1Pq8/users/exercise",name:"users-exercise",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3270)]).then(s.bind(s,73270))},{path:"/jM5a-1Pq8/users/applications",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(1938)]).then(s.bind(s,51938))},{path:"/jM5a-1Pq8/users/storage",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,42108))},{path:"/jM5a-1Pq8/users/schools",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(1958)]).then(s.bind(s,61958))},{path:"/jM5a-1Pq8/users/events",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9326)]).then(s.bind(s,99326))},{path:"/jM5a-1Pq8/users/platform",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(5746)]).then(s.bind(s,99199))},{path:"/jM5a-1Pq8/users/templates",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(7852)]).then(s.bind(s,47852))},{path:"/jM5a-1Pq8/users/messages-log",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9263)]).then(s.bind(s,99263))},{path:"/jM5a-1Pq8/mockup",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(7376)]).then(s.bind(s,27376))},{path:"/jM5a-1Pq8/documents",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,97900))},{path:"/jM5a-1Pq8/payments",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(483)]).then(s.bind(s,60483))},{path:"/jM5a-1Pq8/players",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(6025)]).then(s.bind(s,36025))},{path:"/jM5a-1Pq8/operators",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(537)]).then(s.bind(s,30537))},{path:"/jM5a-1Pq8/schedule",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(5003)]).then(s.bind(s,55003))},{path:"/jM5a-1Pq8/denied",component:()=>Promise.all([s.e(4736),s.e(4796)]).then(s.bind(s,64796))},{path:"/jM5a-1Pq8/chat",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2327)]).then(s.bind(s,22327))},{path:"/jM5a-1Pq8/links",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(8047)]).then(s.bind(s,78047))},{path:"/jM5a-1Pq8/tgbot",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9323)]).then(s.bind(s,69323))},{path:"/jM5a-1Pq8/helps",component:()=>s.e(3064).then(s.bind(s,15975))},{path:"/jM5a-1Pq8/materials/adaptogen/:id?",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3575)]).then(s.bind(s,63575))},{path:"/jM5a-1Pq8/path",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9398)]).then(s.bind(s,19398))},{path:"/jM5a-1Pq8/bonuses",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(668)]).then(s.bind(s,90668))},{path:"/jM5a-1Pq8/reps",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2872)]).then(s.bind(s,42872))},{path:"/jM5a-1Pq8/teachers",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3630)]).then(s.bind(s,73630))},{path:"/jM5a-1Pq8/agents",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(1881)]).then(s.bind(s,81881))}]},{path:"/jM5a-1Pq8/courses",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(5647)]).then(s.bind(s,15647))},{path:"/jM5a-1Pq8/subscriptions",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(1887)]).then(s.bind(s,71887))},{path:"/jM5a-1Pq8/courses/edit-task",name:"edit-task2",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9691)]).then(s.bind(s,29691))},{path:"/jM5a-1Pq8/pages",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4962)]).then(s.bind(s,74962)),children:[{path:"",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2987)]).then(s.bind(s,2987))},{path:"/jM5a-1Pq8/pages/edit-container",name:"edit-container",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9410)]).then(s.bind(s,79410))}]},{path:"/jM5a-1Pq8/messages",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9488)]).then(s.bind(s,49488))},{path:"edit-container",name:"edit-container",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9410)]).then(s.bind(s,79410))},{path:"/jM5a-1Pq8/partners",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,84712))},{path:"/jM5a-1Pq8/potential",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(2305)]).then(s.bind(s,82305))},{path:"/jM5a-1Pq8/import",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,42451))},{path:"/jM5a-1Pq8/portfolios",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(9780)]).then(s.bind(s,99780))},{path:"/jM5a-1Pq8/content",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(6360)]).then(s.bind(s,66360))},{path:"/jM5a-1Pq8/content/:section",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(6360)]).then(s.bind(s,66360))},{path:"/jM5a-1Pq8/webinars",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4983)]).then(s.bind(s,54983))},{path:"/jM5a-1Pq8/webinars/:id",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4200)]).then(s.bind(s,94200))}]},{path:"/jM5a-1Pq8/search",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(3695)]).then(s.bind(s,13695))},{path:"/bd0f-d569/user-dialog",component:()=>Promise.all([s.e(4736),s.e(3064)]).then(s.bind(s,38227))},{path:"/reg",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(5790)]).then(s.bind(s,15790)),children:[{path:"",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(833)]).then(s.bind(s,50833))},{path:"adult",component:()=>Promise.all([s.e(4736),s.e(3064),s.e(4388)]).then(s.bind(s,84388))}]},{path:"/gu",component:()=>s.e(4561).then(s.bind(s,64561))},{path:"/materials/adaptogen/preview/:id?",component:()=>Promise.all([s.e(3064),s.e(8171)]).then(s.bind(s,88171))},{path:"/:catchAll(.*)*",component:()=>s.e(3064).then(s.bind(s,68181))}],N=D,j=(0,g.BC)((({store:e})=>{const t=M.PO,s=(0,M.p7)({scrollBehavior:()=>({left:0,top:0}),routes:N,history:t("/")}),i=async()=>{const{loaded:t}=e.state.pages.lms;t||await w.apiBot.get("hello.php").then((t=>{const{data:s}=t;sessionStorage.setItem("k1",s.kmsJs93d),sessionStorage.setItem("v2",s.nnzbxvVd3h),sessionStorage.setItem("usePartner",s.usePartner),s.loaded=!0,e.commit("pages/setLms",{...s}),e.commit("platform/setSettings",{...s.platform})}))};return s.beforeEach((async(t,s,o)=>{if(t?.path?.startsWith("/gu")){const{code:e}=t.query,s=t.query.super,{url:i}=t.query;return e?(localStorage.setItem("gu/code",e),localStorage.setItem("gu/super",s),await(0,w.queryBot2)("inc-promocode-click",{promocode:e}),void(window.location.href=i||"https://www.gosuslugi.ru/futurecode?sortKey=cfRating&view=online&organization=3458,3616")):void o({path:"/login"})}if(await i(),t.path.startsWith("/partner-info"))return void o();if(t.path.startsWith("/friends/login"))return void o();if(t.path.startsWith("/offline"))return void o();if(t.path.startsWith("/debug"))return void o();if(t.path.startsWith("/reg"))return void o();if(t.path.startsWith("/jM5a-1Pq8")){let s=localStorage.getItem("sprint-is-admin-logged");if(t.path.startsWith("/jM5a-1Pq8/search")&&(s=!0),!s)return void o({path:"/admin-login"});const{disable:i}=e.state.projects;return void 0===i&&await(0,f.cf)({store:e,user:!0}),t.path.startsWith("/jM5a-1Pq8/messages")||"2"!==s||o({path:"/jM5a-1Pq8/messages"}),void o()}const a=t?.query?.friend;if("/login"===t?.path&&"1"===a&&localStorage.setItem("friend-entry","1"),"/2035auth"===t.path)return void o();if("/q8fV-4Sq9/api-queries"===t.path)return void o();if("/bd0f-d569/user-dialog"===t.path)return void o();if("/ai"===t.path)return void(window.location.href="https://cat.2035.university/rall/course/23203/?_ga=2.254355086.748078254.1662477859-28464874.1660665616");if("/admin-login"===t.path)return void o();e||(console.log(p.ZP),console.log(m.Z),console.log(I.h));const{user:r}=e.state.pages;if(r&&t.path.startsWith("/user")){const{allows:t,disable:s}=e.state.projects;t||await(0,f.ux)({store:e,user:r}),void 0===s&&await(0,f.cf)({store:e,user:r})}if(t.path.startsWith("/materials"))o();else{if(!r){const{p:s}=t.query;let i;if(s&&localStorage.setItem("partnerGuid",s),"/pay"===t.path&&localStorage.setItem("redirect-pay","1"),await(0,m.Z)({store:e,query:t.query}).then((e=>{if(i=e,"/school"===t.path&&!e)return localStorage.setItem("open-school","1"),void o({path:"/login"});if("/partner"===t.path&&!e)return localStorage.setItem("open-partner","1"),void o({path:"/login"});if(i){const e=localStorage.getItem("friend-entry");if("1"===e)return void o({path:"/friends",query:t.query,params:t.params});if(t.query.key||t.query.bot){if("1"===localStorage.getItem("open-school"))return void o({path:"/school",query:t.query,params:t.params});if("1"===localStorage.getItem("open-partner"))return void o({path:"/partner",query:t.query,params:t.params});if("1"===localStorage.getItem("redirect-pay"))return localStorage.removeItem("redirect-pay"),void o({path:"/pay",query:t.query,params:t.params});"/"===t.path&&(t.path="/user"),t.path.startsWith("/user")&&i?.last_course_id&&(t.path="/user/my-course"),o({path:t.path,query:t.query,params:t.params,hash:t.hash})}else"/"===t.path&&(t.path="/user"),o({path:t.path,query:t.query,params:t.params,hash:t.hash})}})),i)return}if("/pay"===t.path&&!t.query?.key&&!t.query?.bot)return localStorage.setItem("redirect-pay","1"),void(window.location.href="https://sso.2035.university/oauth2/authorize?client_id=sprint-1t-ru&redirect_uri=https://sprint.1t.ru/callback&response_type=code");if("/login"===t.path&&r)o({path:"/user"});else{if(r&&t.path&&!t.path.endsWith("/entry")){const e=localStorage.getItem("auto-entry");let s;if(e&&(localStorage.removeItem("auto-entry"),window.location.href=`${window.location.origin}/${e}/entry`),await(0,w.queryBot2)("get-unaccepted-entry-diag",{userId:r.id}).then((e=>{[s]=e.data})),s){const e=s.alias;if(t.path&&e){const i=t.path.replace("/","");if(e===i)return o(),void(window.location.href=`${window.location.origin}/${s.alias}/entry`)}}}if(["/","/login","/register"].includes(t.path)||r||t.params.alias){if("/user/portfolio"===t.path){const e=`SELECT id FROM tree_nodes WHERE type = "${r.unti_id}"`,t=await(0,w.queryBot)(e);if(_.isEmpty(t.data))return(0,y.od)(),void o(s)}o()}else o({path:"/",query:t.query,params:t.params})}}})),s}));async function b(e,t){const i="function"===typeof h.Z?await(0,h.Z)({}):h.Z,{storeKey:a}=await Promise.resolve().then(s.bind(s,71333)),r="function"===typeof j?await j({store:i}):j;i.$router=r;const n=e(d);return n.use(o.Z,t),{app:n,store:i,storeKey:a,router:r}}var k=s(64434),x=s(11417),v=s(16443);const T={config:{},plugins:{Notify:k.Z,Dialog:x.Z,Meta:v.ZP}},z="/";async function A({app:e,router:t,store:s,storeKey:i},o){let a=!1;const r=e=>{try{return t.resolve(e).href}catch(s){}return Object(e)===e?null:e},n=e=>{if(a=!0,"string"===typeof e&&/^https?:\/\//.test(e))return void(window.location.href=e);const t=r(e);null!==t&&(window.location.href=t)},l=window.location.href.replace(window.location.origin,"");for(let c=0;!1===a&&c<o.length;c++)try{await o[c]({app:e,router:t,store:s,ssrContext:null,redirect:n,urlPath:l,publicPath:z})}catch(u){return u&&u.url?void n(u.url):void console.error("[Quasar] boot error:",u)}!0!==a&&(e.use(t),e.use(s,i),e.mount("#q-app"))}b(i.ri,T).then((e=>Promise.all([Promise.resolve().then(s.bind(s,42214)),Promise.resolve().then(s.bind(s,62053)),Promise.resolve().then(s.t.bind(s,91352,23)),Promise.resolve().then(s.bind(s,90564))]).then((t=>{const s=t.map((e=>e.default)).filter((e=>"function"===typeof e));A(e,s)}))))},42214:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CHAT_MODE:()=>p,api:()=>j,apiBot:()=>N,default:()=>b,isTg:()=>q,login:()=>k,query:()=>x,queryBot:()=>v,queryBot2:()=>z,queryBot2Many:()=>A,queryBot3:()=>S,queryMany:()=>_,queryOne:()=>T,removeTelegramMessage:()=>E,sendMessageToUser:()=>$,sendSmsMessage:()=>P,sendTelegramMessage:()=>O,sendVkMessage:()=>C,uploadFile:()=>L,uploadToS3:()=>U});var i=s(23340),o=s(30052),a=s.n(o);function r(e){return window.encryptAes(e)}function n(e){return window.makeSecureToken(e)}var l=s(45563),u=s(16257);const c=s(32851),d="localhost"===window.location.hostname?"start.1t.ru":window.location.hostname,h=`https://${d}`,p="start",g=!1,M=`${h}/api`,m=`${h}/api_debug`,y="/api",f="5376055368:AAEDfgYZfPgFjbNhVLXE4gUdWyWrMTZLeRo",I="5376055368:AAEDfgYZfPgFjbNhVLXE4gUdWyWrMTZLeRo",w="start.1t.ru"===window.location.hostname?I:f,D=s(12749),N=a().create({baseURL:g?m:M});N.botToken=w,N.apiDir=g?"api_debug":"api";const j=a().create({baseURL:y});j.botToken=w,j.botUrl=g?m:M;const b=(0,i.xr)((({app:e})=>{e.config.globalProperties.$axios=a(),e.config.globalProperties.$api=j}));function k(e,t){const s=new FormData;return s.append("email",e),s.append("password",t),j.post("/auth.php",s)}function x(e){const t=new FormData;return t.append("query",e),j.post("query.php",t)}async function v(e){const t=sessionStorage.getItem("k1");t||await l.Z.getKey();const s=new FormData;s.append("query",r(e));const i=n(e);if(s.append("stoken",i),u.accessInfo){const{operatorId:e}=u.accessInfo;if(e){const t=c(e);s.append("token",t)}}return N.post("query.php",s)}async function T(e){const t=sessionStorage.getItem("k1");t||await N.get("hello.php").then((e=>{const{data:t}=e;sessionStorage.setItem("k1",t.kmsJs93d),sessionStorage.setItem("v2",t.nnzbxvVd3h)}));const s=new FormData;s.append("query",r(e));const i=n(e);s.append("stoken",i);const o=await N.post("query.php",s);return o.data[0]}async function _(e){const t=sessionStorage.getItem("k1");t||await N.get("hello.php").then((e=>{const{data:t}=e;sessionStorage.setItem("k1",t.kmsJs93d),sessionStorage.setItem("v2",t.nnzbxvVd3h)}));const s=new FormData;s.append("query",r(e));const i=n(e);s.append("stoken",i);const o=await N.post("query.php",s);return o.data}async function z(e,t){const s=sessionStorage.getItem("k1");s||await l.Z.getKey();let i={alias:e,params:t};i=JSON.stringify(i);const o=n(i);i=r(i);const a={request:i,stoken:o};return N.post("query2.php",a)}async function A(e,t){const s=await z(e,t);return s.data}async function S(e,t,s){const i={type:e,table:t,params:s};return N.post("query3.php",i)}function L(e,t,s=!1){const i=new FormData;return i.append("userfile",e),i.append("keepName",s?1:0),new Promise(((e,s)=>{j.post("upload.php",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{t.uploadProgress=e.loaded/e.total}}).then((i=>{i.data&&i.data.status?"OK"===i.data.status?(t.uploadProgress=1,e(i.data.url)):(s(i),console.error(i)):(s(i),console.log("reject",i)),setTimeout((()=>{t.uploadProgress=0}),1e3)})).catch((e=>{s(e),console.log(e)}))}))}async function O(e,t,s=void 0){const i=j.botToken;t=t.replaceAll("#","%23");let o={};s&&(o={inline_keyboard:[[{text:s.title,url:encodeURI(s.url)}]]});const a=`https://api.telegram.org/bot${i}/sendMessage?chat_id=${e}&parse_mode=HTML&text=${t}&reply_markup=${JSON.stringify(o)}`;let r=!1;return await j.get(a).then((t=>{r=!0,v(`insert into tg_log (chatId, request, response, endpoint, source) values ('${e}', '${a}', '${JSON.stringify(t.data)}', '', 'axios.js')`)})).catch((e=>{console.error(e.toString())})),r}async function C(e,t,s=void 0){const i="https://sot.club/sot.bot/vk_app/api/send_message.php",o=new FormData;if(o.append("vk_id",e),o.append("message",t),s){const e={inline:!0,buttons:[[{action:{type:"open_link",link:s.url,label:s.title}}]]};o.append("keyboard",JSON.stringify(e))}return N.post(i,o).then((()=>{})).catch((e=>{const t=e.response.data;t&&t.includes("error_code")&&t.includes("901")||(console.error(e),console.error(e.response)),console.error(e.response.data)}))}async function $(e,t,s=void 0){"tg"!==e.chat_channel&&e.chat_channel?"vk"===e.chat_channel&&e.vk_id?C(e.vk_id,t,s):O(e.chat_id,t):O(e.chat_id,t,s)}function E(e,t){const s=j.botToken,i=encodeURI(`https://api.telegram.org/bot${s}/deleteMessage?chat_id=${e}&message_id=${t}`);j.get(i).then((()=>{})).catch((e=>{console.error(e.toString())}))}async function P(e,t){console.log(e),console.log(t)}function q(e){const t=function(e){return/^(\-|\+)?([0-9]+|Infinity)$/.test(e)?Number(e):NaN},s=t(e);return!Number.isNaN(s)}async function U(e,t,s,i){const o=new FileReader;o.onload=async()=>{const r=D(o.result),n=await a().get(`${window.location.origin}/sot.bot/api/s3_upload.php?url=${t}`),l=t.substring(t.lastIndexOf("/")+1),u=`https://s3.dtln.ru/1tbucket/${l}`,c=`insert into s3_files  (user_id, task_id, file_url, file_name, content_type, length, sha2, s3_url, s3_response)  values  ('${i}', '${s}', '${t}', '${e.name}', '${e.type}', '${e.size}', '${r}', '${u}', '${JSON.stringify(n)}') `;v(c)},o.readAsArrayBuffer(e)}},62053:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>xa});var i=s(23340),o=(s(65663),s(62120)),a=s(30052),r=s.n(a),n=s(43904),l=s.n(n),u=s(42214);class c{constructor(e){this.app=e}createCertCommon(e){const{user:t}=this.app.$store.state.pages;this.app.$db.users.getUserCertificate(t.id,e.id).then((s=>{let i;if(s){const{url:e}=s;i=e.substring(e.lastIndexOf("/")+1)}else{const e=new(l())({length:8})();i=`${e}.pdf`}e.image_url.includes("http://")&&(e.image_url=e.image_url.replace("http://","https://"));const o=new FormData;o.append("user_id",t.id),o.append("key","70fa-e5C2"),o.append("filename",i),o.append("cert_count",e.cert_count),o.append("cert_date",e.cert_date),o.append("cert_organizer",e.cert_organizer),o.append("image_url",e.image_url),r().post(`${u.api.defaults.baseURL}/generate_cert_common.php`,o).then((i=>{this.loading=!1,i&&i.data&&i.data.pdf_url?(window.open(i.data.pdf_url,"_blank"),s||this.app.$db.users.saveUserCertificate({user_id:t.id,button_id:e.id,url:i.data.pdf_url})):(console.error(i),this.app.$q.notify("Ошибка создания сертификата"))}))}))}createCert1(){const{user:e}=this.app.$store.state.pages;r().get(`https://sot.club/api/generate_cert.php?id=${e.id}&key=70fa-e5C2`).then((e=>{this.loading=!1,e&&e.data&&e.data.pdf_url?window.open(e.data.pdf_url,"_blank"):this.app.$q.notify("Ошибка создания сертификата")}))}createCert3(){const{user:e}=this.app.$store.state.pages;r().get(`https://sot.club/api/generate_cert3.php?id=${e.id}&key=70fa-e5C2`).then((e=>{this.loading=!1,e&&e.data&&e.data.pdf_url?window.open(e.data.pdf_url,"_blank"):this.app.$q.notify("Ошибка создания сертификата")}))}}class d{constructor(e){this.app=e,this.history=[],this.page=void 0,window.onpopstate=e=>(e.preventDefault(),e.stopPropagation(),this.page&&"quiz-result"===this.page.to?(this.back({to:"tasks"}),!1):(this.back(),!1))}internalPush(e){if("#back"===e.uuid&&this.history.length>1){this.history.pop();const e=this.history.pop();return e.isBack=!0,void this.internalPush(e)}"#back"!==e.uuid&&(e.type=e.type??"Page",this.history.push(e),this.show(e))}popCurrentPage(){this.history.pop()}show(e){document.title=e.title||"1Т Курс",this.app.$store.commit("pages/setPage",{...e}),this.page=e,"login"!==e.to&&"bio"!==e.to?sessionStorage.setItem("page",JSON.stringify(e)):sessionStorage.removeItem("page");const t=(new Date).getTime();window.history.pushState({page:t},"",`${this.app.$route.fullPath}`)}push(e){const{to:t,href:s,title:i}=e;if("#href"===t&&s)window.open(s,"_blank");else if(t){const s=(0,o.ZP)(t);if(s)this.internalPush({type:s.type,title:i,...e});else{if(this.checkCustomAction(e))return;this.internalPush({uuid:t,type:"Page",title:i})}}}back(e){if(e){const{to:t}=e,{history:s}=this;for(let e=0;e<s.length;e+=1){const i=s[e];if(i.to===t)return this.history=s.slice(0,e+1),void this.show(i)}}else this.internalPush({uuid:"#back"})}backToRoot(){const{history:e}=this,t=e[0];this.history=e.slice(0,1),this.show(t)}checkCustomAction(e){if("create_cert3"===e.to){const t=new c(this.app);return t.createCertCommon(e),!0}return"course_page"===e.to?!this.app.$store.state.pages.user||(this.push({to:"course",title:e.label,course_id:e.course_id}),!0):"user_courses"===e.to?!this.app.$store.state.pages.user||(this.push({to:"my-courses"}),!0):"subscription_page"===e.to&&(!this.app.$store.state.pages.user||(this.push({to:"subscription_page",subscription_id:e.subscription_id}),!0))}}var h=s(42699);class p{constructor(e){this.app=e}addToBalance(e,t){return new Promise(((s,i)=>{if(!e.amount)return void i("Сумма не указана");if(0===+e.amount)return void i("Сумма пополнения не может быть равна нулю");if(!t){const e=this.getUser();if(!e)return void i("addToBalance: current user not found");t=e.id}let o=0;this.getBalance(t).then((a=>{o=+a.data[0].balance+ +e.amount,this.updateBalance(t,e.amount).then((a=>{if("OK"===a.data.id){const i=`INSERT INTO balance_transactions (user_id, amount, title, comment, balance_after, type, user_product_id, author) VALUES ( ${t},  '${e.amount}',  '${(0,h.ZP)(e.title||"")}',  '${(0,h.ZP)(e.comment||"")}',  '${o}',  '${e.type||"0"}',  '${e.userProductId||""}',  '${(0,h.ZP)(e.author||"")}') `;(0,u.queryBot)(i).then((()=>{s(parseFloat(o).toFixed(2))}))}else i("Cannot update balance: query error")}))}))}))}spend(e,t){return e.amount&&(e.amount=-1*+e.amount),this.addToBalance(e,t)}getBalance(e){return(0,u.queryBot)(`select balance from users where id = ${e}`)}updateBalance(e,t){return(0,u.queryBot)(`update users set balance = balance + ${t} where id = ${e}`)}getUser(){return this.app.$store.state.pages.user}}var g=s(63339);class M{constructor(e){this.app=e}async loadPage(e){let t;return await(0,u.query)(`select * from pages where uuid = '${e}' limit 1`).then((e=>{t=e.data[0]})),t}async loadViews(e){const t=[];return await(0,u.query)(`select * from views where parent_uuid = '${e}' order by view_index`).then((e=>{e.data.forEach((e=>{""===e.params&&(e.params=void 0);const s=JSON.parse(e.params??"{}"),i={id:e.id,uuid:e.uuid,name:e.type.charAt(0).toUpperCase()+e.type.slice(1),params:s,options:e.options};t.push(i)}))})),t}getPageAuthor(e){return new Promise(((t,s)=>{(0,u.query)(`select author from pages where uuid = '${e}' limit 1`).then((e=>{t(e.data[0])})).catch((e=>{s(e),console.error(e)}))}))}}var m=s(83673),y=s(62323),f=s(98880);const I={class:"col flex flex-center"},w={class:"col column flex flex-center"},D={class:"items-center column q-gutter-y-md"},N=(0,m._)("div",null,"Страница не найдена",-1),j={class:"text-grey text-caption"},b={key:0,class:"fit"},k={key:0,class:"column fit",style:{overflow:"hidden"}},x={class:"col-auto",style:{"z-index":"99"}},v={class:"col",style:{"margin-top":"-28px"}},T=(0,m._)("div",{style:{height:"25px"}},null,-1),_=(0,m._)("div",{style:{height:"20px"}},null,-1),z={key:1,style:{overflow:"hidden"},class:"q-gutter-y-sm"};function A(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("q-circular-progress"),l=(0,m.up)("q-btn"),u=(0,m.up)("q-scroll-area"),c=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(c,{style:{"border-radius":"0",overflow:"hidden"}},{default:(0,m.w5)((()=>[s.tabbed?(0,m.kq)("",!0):((0,m.wg)(),(0,m.j4)(r,{key:0,params:s.params},null,8,["params"])),(0,m._)("div",{ref:"pageMainDiv",id:"pageMainDiv",onScroll:t[0]||(t[0]=(...t)=>e.onScroll&&e.onScroll(...t)),class:(0,y.C_)({"column q-gutter-y-sm no-wrap":!0}),style:(0,y.j5)({overflow:o.pageOverflow,height:a.pageHeight,"margin-top":a.marginTop,"padding-bottom":"0"})},[(0,m.wy)((0,m._)("div",I,[(0,m.Wm)(n,{indeterminate:"",color:"primary",size:"md"})],512),[[f.F8,o.loading]]),(0,m.wy)((0,m._)("div",w,[(0,m._)("div",D,[N,(0,m._)("div",j,(0,y.zw)(s.params),1),(0,m.Wm)(l,{label:"Назад",onClick:a.reload,"no-caps":""},null,8,["onClick"])])],512),[[f.F8,o.error]]),o.components[0]?((0,m.wg)(),(0,m.iD)("div",b,["video"===o.components[0].params.to&&"image"===o.components[0].params.type?((0,m.wg)(),(0,m.iD)("div",k,[(0,m._)("div",x,[(0,m.wy)(((0,m.wg)(),(0,m.j4)((0,m.LL)(o.components[0].name),{params:o.components[0].params,view:o.components[0],tabbed:s.tabbed,style:(0,y.j5)({"padding-left":a.paddingHoriz(o.components[0]),"padding-right":a.paddingHoriz,width:e.$q.platform.is.mobile?"100vw":"400px","padding-bottom":"20px"}),page:o.page},null,8,["params","view","tabbed","style","page"])),[[f.F8,!o.error&&a.allow(o.components[0].params)]])]),(0,m._)("div",v,[(0,m.Wm)(u,{ref:"scrollArea",class:"fit",onScroll:e.onScroll},{default:(0,m.w5)((()=>[T,((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o.components.slice(1),((e,t)=>(0,m.wy)(((0,m.wg)(),(0,m.j4)((0,m.LL)(e.name),{key:t,params:e.params,view:e,tabbed:s.tabbed,style:(0,y.j5)({"padding-left":a.paddingHoriz(e),"padding-right":a.paddingHoriz,"max-width":"370px"}),page:o.page},null,8,["params","view","tabbed","style","page"])),[[f.F8,!o.error&&a.allow(e.params)]]))),128)),_])),_:1},8,["onScroll"])])])):((0,m.wg)(),(0,m.iD)("div",z,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o.components,((e,t)=>(0,m.wy)(((0,m.wg)(),(0,m.j4)((0,m.LL)(e.name),{key:t,params:e.params,view:e,tabbed:s.tabbed,style:(0,y.j5)({"padding-left":a.paddingHoriz(e),"padding-right":a.paddingHoriz}),page:o.page},null,8,["params","view","tabbed","style","page"])),[[f.F8,!o.error&&a.allow(e.params)]]))),128))]))])):(0,m.kq)("",!0)],36)])),_:1})}var S=s(46434);const L={style:{height:"70px","min-height":"70px",width:"calc(100% - 30px)"}},O={class:"sot-button-bg row items-center no-wrap cursor-pointer",style:{height:"64px",width:"100%","z-index":"100","margin-left":"-8px"}},C={class:"col-auto items-center"},$={style:{width:"42px",height:"42px","margin-left":"4px"},class:"flex flex-center"},E={style:{margin:"0 20px 0 20px"},class:"sot-font"},P={class:"ellipsis-2-lines text-left"},q={class:"ellipsis text-left",style:{"font-size":"14px"}};function U(e,t,s,i,o,a){const r=(0,m.up)("q-img");return(0,m.wg)(),(0,m.iD)("div",L,[(0,m._)("div",O,[(0,m._)("div",C,[(0,m._)("div",$,[(0,m.Wm)(r,{src:s.params.icon_url,width:"32px",height:"32px",fit:"contain","no-spinner":""},null,8,["src"])])]),(0,m._)("div",E,[(0,m._)("div",P,(0,y.zw)(s.label),1),(0,m._)("div",q,(0,y.zw)(o.author),1)])])])}const Q={name:"SotButton",props:{params:{type:Object,default:void 0},label:{type:String,default:void 0}},data(){return{author:void 0}},mounted(){this.loadAuthor()},methods:{loadAuthor(){const{to:e}=this.params,{author:t}=this.params;t&&(this.author=t),e&&e.length>8&&this.$factory.getPageAuthor(e).then((e=>{e&&(this.author=e.author)}))}}};var Z=s(74260),B=s(24152),Y=s(7518),F=s.n(Y);const V=(0,Z.Z)(Q,[["render",U],["__scopeId","data-v-6e94acc8"]]),W=V;F()(Q,"components",{QImg:B.Z});var H=s(79880),R=s(49790);const G=s(11488),J={name:"Page",components:{BasePage:H.Z,SotButton:W,SotHeader:S.Z},mixins:[R.Z],props:{params:{type:Object,default:void 0},tabbed:{type:Boolean,default:!1}},mounted(){this.init()},computed:{user(){return this.$store.state.pages.user},statePage(){return this.$store.state.pages.page},isBackVisible(){let e=this.params&&"root"!==this.params.uuid;return e=e&&this.page&&"1"===this.page.back_button_visible,e},pageHeight(){return"100%"},marginTop(){return"1"===this.tightHeader?"44px":this.tabbed?"0px":"110px"}},watch:{statePage(e){setTimeout((()=>{this.restoreScroll(!0,e)}),300)}},data(){return{page:void 0,components:[],error:void 0,loading:!1,tightHeader:"0",timer:void 0,pageOverflow:"auto"}},methods:{init(){const{uuid:e}=this.params;this.load(e)},load(e){this.error=void 0,this.loading=!0,this.$factory.loadPage(e).then((t=>{this.error=!t,this.page=t,this.tightHeader=t.tight_header,this.checkHashtags(t.add_hashtag_to_user),this.$factory.loadViews(e).then((e=>{this.components=e;const t=this.components[0];t&&"image"===t.params.type&&"video"===t.params.to&&(this.pageOverflow="hidden"),this.loading=!1}))}))},checkHashtags(e){if(!e)return;if(""===e)return;let t=this.user.hashtags;if(t){const s=t.split(/#/g).map((e=>e.trim())),i=e.split(/#/g).map((e=>e.trim()));for(let e=0;e<i.length;e+=1){const o=i[e];if(o.length>0){const e=s.indexOf(o);e<0&&(t=`${t} #${o}`)}}const o={...this.user};o.hashtags=t,this.$store.commit("pages/setUser",o),this.$db.users.updateUserHashtags(this.user.id,t)}else{const t={...this.user};t.hashtags=e,this.$store.commit("pages/setUser",t),this.$db.users.updateUserHashtags(this.user.id,e)}},reload(){this.$pages.back()},allow(e){if(e.visibility){if("registered"===e.visibility)return void 0!==this.user;if("not-registered"===e.visibility)return void 0===this.user;if("hidden"===e.visibility)return!1;if("hashtags"===e.visibility){if(!this.user)return!1;const t=this.user.hashtags,s=e.hashtags;if(t&&s){const e=t.split(/#/g).map((e=>e.trim())),i=s.split(/#/g).map((e=>e.trim()));for(let t=0;t<i.length;t+=1){const s=i[t];if(s.length>0){const t=e.indexOf(s);if(t>=0)return!0}}}return!1}if("debug"===e.visibility){const{isDebugMode:e}=this.$store.state.pages;return"1"===this.$route.query.debug||e}}if("create_cert3"===e.to&&e.cert_active_date){const t=G(e.cert_active_date,"DD.MM.YYYY HH:mm").utcOffset("+03:00");return G().isAfter(t)}return!0},paddingHoriz(e){return"Button"===e.name&&"image"===e.params.type?"0px":this.tabbed?"0":"15px"}}};var K=s(4303),X=s(86122),ee=s(2165),te=s(47704);const se=(0,Z.Z)(J,[["render",A]]),ie=se;function oe(e,t,s,i,o,a){const r=(0,m.up)("Page"),n=(0,m.up)("q-tab-panel"),l=(0,m.up)("q-tab-panels"),u=(0,m.up)("q-tab"),c=(0,m.up)("q-tabs"),d=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(d,{ref:"page",class:"column",style:(0,y.j5)(`height: calc(100vh - ${o.bottomPadding}); overflow: hidden; margin-left: -15px`)},{default:(0,m.w5)((()=>[(0,m.Wm)(l,{modelValue:o.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>o.tab=e),animated:"",class:"col no-margin no-padding base-page-content"},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(s.params,((e,t)=>((0,m.wg)(),(0,m.j4)(n,{class:"no-margin no-padding",key:t,name:e.value,style:{overflow:"hidden","background-color":"#FDFBF5"}},{default:(0,m.w5)((()=>[(0,m.Wm)(r,{style:{overflow:"hidden","margin-top":"-10px","padding-top":"0","padding-left":"0"},params:{uuid:e.value},tabbed:!0},null,8,["params"])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),(0,m.Wm)(c,{class:"col-auto",modelValue:o.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>o.tab=e),dense:"","narrow-indicator":""},{default:(0,m.w5)((()=>[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(s.params,((e,t)=>((0,m.wg)(),(0,m.j4)(u,{key:t,name:e.value,label:e.label,icon:e.icon},null,8,["name","label","icon"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["style"])}F()(J,"components",{QScrollObserver:K.Z,QCircularProgress:X.Z,QBtn:ee.Z,QScrollArea:te.Z,QImg:B.Z});const ae={name:"PageTabs",components:{BasePage:H.Z},props:{params:{type:Object,default:void 0}},data(){return{tab:void 0,bottomPadding:"80px"}},mounted(){this.params&&this.params.length>0&&(this.tab=this.params[0].value),this.$q.platform.is.mobile?(this.$refs.page.$el.style.marginTop="0",this.bottomPadding="100px"):(this.$refs.page.$el.style.marginTop="-30px",this.bottomPadding="80px")}};var re=s(5906),ne=s(86602),le=s(62025),ue=s(57547),ce=s(3269);const de=(0,Z.Z)(ae,[["render",oe]]),he=de;F()(ae,"components",{QTabPanels:re.Z,QTabPanel:ne.Z,QSpace:le.Z,QTabs:ue.Z,QTab:ce.Z});var pe=s(88603),ge=s.n(pe),Me=s(92472),me=s.n(Me);const ye={class:"q-pa-md q-gutter-y-sm base-page-content"},fe={key:0,class:"text-color-sot"},Ie={class:"text-caption text-grey"},we={class:"row q-gutter-y-sm"},De=(0,m._)("div",{class:"text-grey text-caption"},"На указанный номер будет отправлено СМС сообщение с кодом подтверждения",-1),Ne={class:"q-gutter-y-sm"},je=(0,m._)("div",{class:"text-grey text-caption"},"На указанный номер телефона отправлено СМС сообщение с кодом подтверждения",-1),be={class:"row"},ke={key:0,class:"q-gutter-y-sm q-pa-md"},xe={key:1,class:"q-gutter-y-sm q-pa-md"};function ve(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("TextInput"),l=(0,m.up)("PhoneInput"),u=(0,m.up)("q-img"),c=(0,m.up)("q-select"),d=(0,m.up)("DefaultButton"),h=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(h,null,{default:(0,m.w5)((()=>[(0,m.Wm)(r,{label:"Профиль",onBack:a.back,"hide-back-button":a.showButtonNext},null,8,["onBack","hide-back-button"]),(0,m._)("div",ye,[(0,m.Wm)(n,{ref:"fio",label:"ФИО",modelValue:o.user.shownname,"onUpdate:modelValue":t[0]||(t[0]=e=>o.user.shownname=e),"svg-icon":"user"},null,8,["modelValue"]),(0,m.Wm)(l,{ref:"tel",modelValue:o.tel,"onUpdate:modelValue":t[1]||(t[1]=e=>o.tel=e)},null,8,["modelValue"]),(0,m.Wm)(c,{class:"sot-select",borderless:"",label:"Регион",modelValue:o.region,"onUpdate:modelValue":t[2]||(t[2]=e=>o.region=e),debounce:400,options:o.regionsFiltered,"option-label":"name_with_type","option-value":"kladr_id","use-input":"",onFilter:a.filterRegions,"popup-content-style":"color: #323758"},{selected:(0,m.w5)((()=>[o.region?((0,m.wg)(),(0,m.iD)("div",fe,(0,y.zw)(o.region.name_with_type),1)):(0,m.kq)("",!0)])),prepend:(0,m.w5)((()=>[(0,m.Wm)(u,{src:me(),width:"26px",height:"26px"})])),_:1},8,["modelValue","options","onFilter"]),(0,m.Wm)(n,{label:"Организация",modelValue:o.user.school_number,"onUpdate:modelValue":t[3]||(t[3]=e=>o.user.school_number=e),"svg-icon":"book-open"},null,8,["modelValue"]),(0,m.Wm)(n,{label:"Должность",modelValue:o.user.position,"onUpdate:modelValue":t[4]||(t[4]=e=>o.user.position=e),"svg-icon":"briefcase"},null,8,["modelValue"]),(0,m.Wm)(n,{label:"О себе",modelValue:o.user.bio,"onUpdate:modelValue":t[5]||(t[5]=e=>o.user.bio=e),icon:"info_outline",autogrow:""},null,8,["modelValue"]),(0,m.wy)((0,m.Wm)(n,{label:"Баланс",modelValue:o.user.balance,"onUpdate:modelValue":t[6]||(t[6]=e=>o.user.balance=e),icon:"account_balance_wallet","read-only":"",suffix:"₽"},null,8,["modelValue"]),[[f.F8,!1]]),(0,m.wy)((0,m.Wm)(c,{class:"sot-select",borderless:"",label:"Канал для связи",options:["Телеграм","ВКонтакте"],modelValue:o.chatChannel,"onUpdate:modelValue":t[7]||(t[7]=e=>o.chatChannel=e),style:{"padding-left":"23px",color:"#85371F"},"input-style":"color: #85371F"},null,8,["modelValue"]),[[f.F8,a.allowChannelSelect]]),(0,m._)("div",Ie,(0,y.zw)(o.user.hashtags),1),(0,m.wy)((0,m._)("div",we,[(0,m.Wm)(d,{class:"col",label:"Подтвердить номер",onClick:a.confirmNum,disabled:o.codeSent},null,8,["onClick","disabled"]),De],512),[[f.F8,o.telChanged&&!o.codeSent]]),(0,m.wy)((0,m._)("div",Ne,[(0,m.Wm)(n,{ref:"code",label:"Код подтверждения",modelValue:o.codeInput,"onUpdate:modelValue":t[8]||(t[8]=e=>o.codeInput=e)},null,8,["modelValue"]),je,(0,m._)("div",be,[(0,m.Wm)(d,{class:"col",label:"Сохранить номер телефона",onClick:a.saveNum,disabled:o.codeSent},null,8,["onClick","disabled"])])],512),[[f.F8,o.codeSent]])]),a.showButtonNext?(0,m.kq)("",!0):((0,m.wg)(),(0,m.iD)("div",ke,[(0,m.wy)((0,m.Wm)(d,{label:"Сертификат",onClick:a.createCert,loading:o.loading},null,8,["onClick","loading"]),[[f.F8,a.allowCert]]),(0,m.wy)((0,m.Wm)(d,{label:"Привязать аккаунт Телеграм",onClick:a.linkTg},null,8,["onClick"]),[[f.F8,a.allowLinkTg]]),(0,m.wy)((0,m.Wm)(d,{label:"Привязать аккаунт ВКонтакте",onClick:a.linkVk},null,8,["onClick"]),[[f.F8,a.allowLinkVk]]),(0,m.wy)((0,m.Wm)(d,{label:"Выйти из системы",onClick:a.logout},null,8,["onClick"]),[[f.F8,a.allowLogout]])])),a.showButtonNext?((0,m.wg)(),(0,m.iD)("div",xe,[(0,m.Wm)(d,{label:"Далее",onClick:a.next,loading:o.nexting},null,8,["onClick","loading"])])):(0,m.kq)("",!0)])),_:1})}var Te=s(86586),_e=s(27497),ze=s(18624);const Ae={name:"PageBio",components:{BasePage:H.Z,DefaultButton:ze.Z,TextInput:_e.Z,SotHeader:S.Z,PhoneInput:Te.Z},props:{params:{type:Object,default:void 0}},computed:{pureTel(){let{tel:e}=this;return e?(e=e.replaceAll("+",""),e=e.replaceAll("(",""),e=e.replaceAll(")",""),e=e.replaceAll("-",""),e=e.replaceAll(" ",""),e):""},allowCert(){const{hashtags:e}=this.user;return!(!e||!e.includes("#сертификат"))},allowLinkTg(){const{hashtags:e}=this.user;return!(!e||!e.includes("#kurs"))&&!(0,u.isTg)(this.user.chat_id)},allowLinkVk(){const{hashtags:e}=this.user;return!(!e||!e.includes("#kurs"))&&!(+this.user.vk_id>0)},allowLogout(){const{hashtags:e}=this.user;return!(!e||!e.includes("#kurs"))},allowChannelSelect(){const{hashtags:e}=this.user,t=+this.user.vk_id>0,s=(0,u.isTg)(this.user.chat_id);return!(!e||!e.includes("#kurs"))&&(t&&s)},page(){return this.$store.state.pages.page},showButtonNext(){return!!this.page&&(!!this.page.params&&this.page.params.show_button_next)}},mounted(){this.codeSent=!1,this.telChanged=!1;const{user:e}=this.$store.state.pages;this.user={...e};const t=this.user.chat_channel;if(t)this.chatChannel="vk"===t?"ВКонтакте":"Телеграм";else{const e=(0,u.isTg)(this.user.chat_id),t=+this.user.vk_id>0;e?this.chatChannel="Телеграм":t&&(this.chatChannel="ВКонтакте")}e&&e.tel&&(this.tel=e.tel),this.loadRegions()},watch:{user:{deep:!0,handler(e,t){t!==e&&t.id&&this.save(e)}}},data(){return{user:{},tel:void 0,region:void 0,regions:[],regionsFiltered:[],codeSent:!1,codeInput:void 0,code:void 0,telChanged:!1,loading:!1,chatChannel:void 0,nexting:!1}},methods:{save(e){const{region:t}=this;return t&&(e.region_name=t.name_with_type,e.region_number=t.kladr_id),e.tel=this.pureTel,this.chatChannel&&"телеграм"===this.chatChannel.toLowerCase()&&(e.chat_channel="tg"),this.chatChannel&&"вконтакте"===this.chatChannel.toLowerCase()&&(e.chat_channel="vk"),this.$db.users.update(e).then((()=>{this.$store.commit("pages/setUser",{...e})}))},logout(){localStorage.removeItem("key"),this.$store.commit("pages/setUser",void 0),this.$pages.back()},loadRegions(){const e="consts/regions.json";r().get(e).then((e=>{this.regions=e.data,this.regionsFiltered=[].concat(this.regions),this.region=void 0,this.user.region_number&&this.regions.forEach((e=>{e.kladr_id.toString()===this.user.region_number.toString()&&(this.region={...e})}))}))},filterRegions(e,t){e=e.toLowerCase();const s=this.regions.filter((t=>t.name_with_type.toLowerCase().includes(e)));this.regionsFiltered=[].concat(s),t()},back(e){if(!this.user.shownname)return this.$q.notify("Укажите ФИО"),void(e.cancelBubble=!0);this.save(this.user)},saveNum(){return this.codeInput?+this.codeInput!==+this.code?(this.$refs.code.select(),void this.$q.notify("Неправильный код подтверждения")):(this.save(this.user),void this.$pages.back()):(this.$refs.code.select(),void this.$q.notify("Введите код из СМС-сообщения"))},createCode(){this.$db.users.createCode(this.pureTel).then((e=>{this.code=e,(0,u.sendSmsMessage)(this.pureTel,`Ваш код: ${e}`),this.$nextTick((()=>{this.$refs.code.select()}))}))},confirmNum(){this.createCode(),this.codeSent=!0},async createCert(){if(!this.user.shownname)return void this.$q.notify("Укажите ФИО");this.loading=!0,await this.save(this.user);const e=`${window.location.origin}/api/generate_cert.php?id=${this.user.id}&key=70fa-e5C2`;r().get(e).then((e=>{this.loading=!1,e&&e.data&&e.data.pdf_url?window.open(e.data.pdf_url,"_blank"):this.$q.notify("Ошибка создания сертификата")}))},linkTg(){const e=`https://t.me/Kurs1TBot?start=from_club=vk_id_${this.user.vk_id}`;window.open(e,"_blank")},linkVk(){const e=`${window.location.origin}/sot.bot/vk_app/api/auth.php?state=${this.user.chat_id}`;window.open(e,"_blank")},next(){return this.user.shownname?this.tel?(this.nexting=!0,void this.save(this.user).then((()=>{this.nexting=!1,window.location.reload()}))):(this.$q.notify('Для продолжения заполните поле ввода "Мобильный телефон"'),void this.$refs.tel.select()):(this.$q.notify('Для продолжения заполните поле ввода "ФИО"'),void this.$refs.fio.select())}}};var Se=s(72448);const Le=(0,Z.Z)(Ae,[["render",ve]]),Oe=Le;F()(Ae,"components",{QSelect:Se.Z,QImg:B.Z});var Ce=s(93553),$e=s.n(Ce),Ee=s(8923),Pe=s.n(Ee),qe=s(75341),Ue=s.n(qe);const Qe=(0,m._)("div",{class:"flex flex-center",style:{"margin-top":"10%"}},[(0,m._)("img",{src:$e(),style:{"object-fit":"contain"}})],-1),Ze=(0,m._)("div",{class:"flex flex-center",style:{"margin-top":"50px"}},[(0,m._)("img",{src:Pe(),style:{"object-fit":"contain"}})],-1),Be=(0,m._)("div",{class:"absolute-bottom full-width",style:{"margin-bottom":"-10px","z-index":"0",height:"50%"}},[(0,m._)("img",{src:Ue(),style:{"object-fit":"cover","object-position":"top"},class:"fit"})],-1),Ye={style:{padding:"0 25px 0 25px","z-index":"1",position:"absolute",bottom:"0",height:"45%"},class:"column text-center q-gutter-y-sm full-width no-wrap text-white"},Fe=(0,m._)("div",{class:"text-h5"},"Цифровые профессии",-1),Ve=(0,m._)("div",{class:"text-body1 text-weight-medium",style:{color:"#cce3fe"}},"для высших учебных заведений",-1),We={class:"col column justify-center q-gutter-y-xs no-wrap"},He=(0,m._)("div",{class:"text-white text-left",style:{"font-size":"8pt",padding:"0 15px 15px 15px"}},[(0,m.Uk)(" Регистрируясь в приложении, вы даете "),(0,m._)("a",{class:"text-white",href:"https://obr.so/wp-content/themes/obrsouz/assets/docs/consent-personal-data.pdf"},"Согласие на обработку персональных данных"),(0,m.Uk)(" и принимаете "),(0,m._)("a",{class:"text-white",href:"https://obr.so/wp-content/themes/obrsouz/assets/docs/policy-personal-data.pdf"},"Политику в отношении обработки персональных данных")],-1);function Re(e,t,s,i,o,a){const r=(0,m.up)("DefaultButton"),n=(0,m.up)("q-space"),l=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(l,{class:"relative-position",style:{"background-color":"#E6F1FE"}},{default:(0,m.w5)((()=>[Qe,Ze,Be,(0,m._)("div",Ye,[Fe,Ve,(0,m._)("div",We,[(0,m.Wm)(r,{label:"Войти",onClick:a.login},null,8,["onClick"]),(0,m.Wm)(r,{label:"Регистрация",onClick:a.register},null,8,["onClick"]),(0,m.Wm)(r,{label:"Войти через ВКонтакте",onClick:a.loginVk,class:"bg-white","text-color":"black"},null,8,["onClick"])]),(0,m.Wm)(n),He])])),_:1})}var Ge=s(32851),Je=s.n(Ge);const Ke={name:"PageLogin",components:{BasePage:H.Z,DefaultButton:ze.Z},mounted(){this.isCodeSent=!1,this.dontAllow=!0},watch:{tel(e){this.dontAllow=e&&e.length<=10}},data(){return{loading:!1,isCodeSent:!1,tel:void 0,code:void 0,inputCode:void 0,user:void 0,isRegistration:!1,dontAllow:!0,codeHint:void 0}},computed:{pureTel(){let{tel:e}=this;return e=e.replaceAll("+",""),e=e.replaceAll("(",""),e=e.replaceAll(")",""),e=e.replaceAll("-",""),e=e.replaceAll(" ",""),e}},methods:{getCode(){if(!this.tel)return this.$refs.phone.select(),void this.$q.notify("Укажите номер телефона");this.loading=!0,this.isCodeSent=!1,this.loading=!0,this.$db.users.findByTel(this.pureTel).then((e=>{if(!e)return this.loading=!1,void this.confirmRegister();this.createCode(e)}))},createCode(e){this.$db.users.createCode(this.pureTel).then((t=>{this.code=t,this.loading=!1,this.isCodeSent=!0,this.user=e,(0,u.sendSmsMessage)(this.pureTel,`Ваш код: ${t}`),setTimeout((()=>{this.inputCode=t.toString()}),18e4),this.$nextTick((()=>{this.$refs.code.select()}))}))},loginOld(){if(!this.inputCode)return this.$refs.code.select(),void this.$q.notify("Введите код из СМС-сообщения");if(+this.inputCode!==+this.code)return this.$refs.code.select(),void this.$q.notify("Неправильный код подтверждения");if(this.isRegistration)return void this.register();this.$db.users.removeFromPreregister(this.pureTel);const e=Je()(this.user.chat_id).substring(0,12);localStorage.setItem("key",e),this.$store.commit("pages/setUser",{...this.user}),this.$db.users.validateTel(this.user.id,this.pureTel),this.$pages.back()},confirmRegister(){this.loading=!1,this.$q.notify({message:"Вы хотите зарегистрироваться?",color:"primary",timeout:3e4,actions:[{label:"Зарегистрироваться",color:"yellow",handler:()=>{this.createCode(),this.isRegistration=!0}},{label:"Нет",color:"white",handler:()=>{}}]})},registerOld(){const e={shownname:"",region_name:"",school_number:"",position:"",tel:this.pureTel};this.$db.users.create(e).then((()=>{const t=Je()(e.chat_id).substring(0,12);localStorage.setItem("key",t),this.$store.commit("pages/setUser",{...e}),this.$pages.back()})).catch((()=>{this.$q.notify("Во время регистрации произошла ошибка")}))},loginTg(){let e="https://t.me/Kurs1TBot?start=from_club";this.$route.fullPath.startsWith("/go/")&&(e=`https://t.me/Kurs1TBot?start=from_club=go_${this.$route.fullPath.replace("/go/","")}`),window.open(e,"_blank")},loginVk(){let e="0";this.$route.href.startsWith("/next")&&(e="1");let t=`${window.location.origin}/sot.bot/vk_app/api/auth.php?next=${e}`;this.$route.fullPath.startsWith("/go/")&&(t=`${window.location.origin}/sot.bot/vk_app/api/auth.php?state=go_${this.$route.fullPath.replace("/go/","")}&next=${e}`),window.open(t,"_blank")},login(){this.$router.push({path:"/d/login"})},register(){this.$router.push({path:"/d/register"})}}},Xe=(0,Z.Z)(Ke,[["render",Re]]),et=Xe;F()(Ke,"components",{QSpace:le.Z});var tt=s(82506),st=s.n(tt),it=s(91530),ot=s.n(it);const at={style:{"background-color":"#FDFBF5",color:"#85371F",height:"calc(100vh - 0px)",overflow:"hidden"},class:"q-gutter-y-md"},rt={style:{position:"relative"}},nt=(0,m._)("div",{class:"sot-font",style:{position:"absolute",top:"25px",left:"20px"}},"Клуб СОТ",-1),lt={style:{padding:"15px","padding-top":"0"},class:"text-center q-gutter-y-md"},ut=(0,m._)("div",{class:"text-weight-bold text-subtitle1"},[(0,m.Uk)(" Здесь ещё удобнее"),(0,m._)("br"),(0,m.Uk)("обучаться и участвовать"),(0,m._)("br"),(0,m.Uk)(" в проектах Обрсоюза ")],-1),ct=(0,m._)("div",null,[(0,m.Uk)(" Для "),(0,m._)("strong",null,"авторизации"),(0,m.Uk)(" давайте подтвердим Ваш актуальный номер телефона. ")],-1),dt={style:{position:"absolute",bottom:"40px","margin-left":"20px"}};function ht(e,t,s,i,o,a){const r=(0,m.up)("q-img"),n=(0,m.up)("PhoneInput"),l=(0,m.up)("TextInput"),u=(0,m.up)("DefaultButton");return(0,m.wg)(),(0,m.iD)("div",at,[(0,m._)("div",rt,[(0,m.Wm)(r,{src:st(),fit:"contain"}),nt]),(0,m._)("div",lt,[ut,ct,(0,m._)("div",null,[(0,m.Wm)(n,{ref:"phone",modelValue:o.tel,"onUpdate:modelValue":t[0]||(t[0]=e=>o.tel=e),onKeydown:(0,f.D2)(a.getSms,["enter"])},null,8,["modelValue","onKeydown"])]),(0,m._)("div",null,[(0,m.wy)((0,m.Wm)(l,{ref:"code",modelValue:o.inputCode,"onUpdate:modelValue":t[1]||(t[1]=e=>o.inputCode=e),label:"Код из СМС сообщения",icon:"vpn_key"},null,8,["modelValue"]),[[f.F8,o.isCodeSent]])]),(0,m._)("div",null,[(0,m.Wm)(u,{disabled:o.isCodeSent,label:"Подтвердить номер по СМС",onClick:a.getSms},null,8,["disabled","onClick"])]),(0,m._)("div",null,[(0,m._)("div",{class:"text-subtitle1 cursor-pointer",onClick:t[2]||(t[2]=(...e)=>a.skip&&a.skip(...e))}," Пропустить ")])]),(0,m._)("div",dt,[(0,m.Wm)(r,{src:ot(),height:"33px",width:"33px"})])])}const pt={name:"PageConfirmTel",components:{TextInput:_e.Z,DefaultButton:ze.Z,PhoneInput:Te.Z},mounted(){const{user:e}=this.$store.state.pages;if(this.user=e,e){const{tel:t}=e;this.tel=t}},watch:{inputCode(e){e&&4===e.length&&this.$nextTick((()=>{this.confirm()}))}},computed:{pureTel(){let{tel:e}=this;return e=e.replaceAll("+",""),e=e.replaceAll("(",""),e=e.replaceAll(")",""),e=e.replaceAll("-",""),e=e.replaceAll(" ",""),e}},data(){return{user:void 0,tel:void 0,isCodeSent:!1,loading:!1,code:void 0,inputCode:void 0}},methods:{getSms(){this.tel||(this.$refs.tel.select(),this.$q.notify("Введите номер телефона")),this.createCode()},createCode(){this.$db.users.createCode(this.pureTel).then((e=>{this.code=e,this.loading=!1,this.isCodeSent=!0,(0,u.sendSmsMessage)(this.pureTel,`Ваш код: ${e}`),this.$nextTick((()=>{this.$refs.code.select()}))}))},confirm(){if(!this.inputCode)return this.$refs.code.select(),void this.$q.notify("Введите код из СМС-сообщения");if(+this.inputCode!==+this.code)return this.$refs.code.select(),void this.$q.notify("Неправильный код подтверждения");const{user:e}=this.$store.state.pages;this.$db.users.validateTel(e.id,this.pureTel).then((()=>{this.saveUrlQuery(),window.removeEventListener("beforeunload",this.$q.onClosePage),window.location.reload()}))},skip(){localStorage.setItem("skip-tel-validation","1"),this.saveUrlQuery(),window.removeEventListener("beforeunload",this.$q.onClosePage),window.location.reload()},saveUrlQuery(){const e=this.$route.query;e.key&&localStorage.setItem("key",e.key),e.task_id&&localStorage.setItem("task_id",e.task_id),e.p&&localStorage.setItem("p",e.p)}}},gt=(0,Z.Z)(pt,[["render",ht]]),Mt=gt;F()(pt,"components",{QImg:B.Z});const mt={style:{"background-color":"#FDFBF5",color:"#85371F",height:"calc(100vh - 0px)",overflow:"hidden"},class:"q-gutter-y-md"},yt={style:{position:"relative"}},ft=(0,m._)("div",{class:"sot-font",style:{position:"absolute",top:"25px",left:"20px"}},"1T Спринт",-1),It={style:{padding:"15px","padding-top":"0"},class:"text-center q-gutter-y-md"},wt=(0,m._)("div",{class:"text-weight-bold text-subtitle1"}," В качестве канала связи у Вас выбран ВКонтакте, но нам не удалось отправить Вам сообщение. Скорее всего у Вас отключена возможность получать сообщения от сообщества клуба СОТ. Нажмите кнопку «Получать уведомления» чтобы мы могли писать Вам сообщени в ВКонтакте. ",-1),Dt=(0,m._)("iframe",{src:"https://debug.sot.club/sot.bot/vk_app/api/request_access2.html",frameborder:"0",style:{height:"60px"}},null,-1),Nt=(0,m._)("div",null," После того как Вы разрешите получать сообщение ВКонтакте от Клуба СОТ - нажмите кнопку «Продолжить» ",-1),jt={style:{position:"absolute",bottom:"40px","margin-left":"20px"}};function bt(e,t,s,i,o,a){const r=(0,m.up)("q-img"),n=(0,m.up)("DefaultButton");return(0,m.wg)(),(0,m.iD)("div",mt,[(0,m._)("div",yt,[(0,m.Wm)(r,{src:st(),fit:"contain"}),ft]),(0,m._)("div",It,[wt,(0,m._)("div",null,[Dt,Nt,(0,m.Wm)(n,{label:"Продолжить",onClick:a.skip,style:{"margin-top":"20px"}},null,8,["onClick"])])]),(0,m._)("div",jt,[(0,m.Wm)(r,{src:ot(),height:"33px",width:"33px"})])])}const kt={name:"PageConfirmVk",components:{DefaultButton:ze.Z},mounted(){const{user:e}=this.$store.state.pages;this.user=e},data(){return{user:void 0}},methods:{skip(){(0,u.queryBot)(`delete from user_info where user_id = ${this.user.id} and type like "request-vk"`),window.removeEventListener("beforeunload",this.$q.onClosePage),this.$pages.back()}}},xt=(0,Z.Z)(kt,[["render",bt]]),vt=xt;F()(kt,"components",{QImg:B.Z});var Tt=s(46132),_t=s.n(Tt),zt=s(93088),At=s.n(zt),St=s(71305),Lt=s.n(St),Ot=s(71736),Ct=s.n(Ot),$t=s(44570),Et=s.n($t);const Pt={key:0,class:"base-page-content",style:{"padding-top":"30px","padding-bottom":"10px"}},qt={style:{"margin-top":"-20px","padding-bottom":"15px"}},Ut={class:"q-gutter-y-lg",style:{"margin-bottom":"0",padding:"0 15px 0 15px"}},Qt={key:0,style:{height:"200px"}},Zt={class:"flex flex-center full-height"},Bt={class:"flex flex-center"},Yt={class:"text-weight-bold"},Ft={class:"text-caption"},Vt=["innerHTML"],Wt=(0,m._)("div",null,"Описание",-1),Ht=["innerHTML"],Rt=(0,m._)("div",null,"Вы научитесь",-1),Gt={class:"column q-gutter-y-xs"},Jt=["innerHTML"],Kt=(0,m._)("div",null,"Этот курс подойдёт",-1),Xt={class:"column q-gutter-y-xs"},es=["innerHTML"],ts=(0,m._)("div",null,"Преимущества курса",-1),ss={class:"column q-gutter-y-xs"},is=["innerHTML"],os=(0,m._)("div",null,"Преподаватели курса",-1),as={class:"column q-gutter-y-xs"},rs=["innerHTML"],ns={key:1},ls=(0,m._)("div",{class:"text-caption"},"Стоимость курса",-1),us={key:2},cs=(0,m._)("div",null,"Данный курс входит в подписку",-1),ds={class:"text-weight-bold"},hs={key:3},ps=(0,m._)("div",null,"Вы купили этот курс",-1),gs={class:"text-weight-bold"},Ms={key:4},ms={key:5},ys={class:"q-gutter-y-md column fit",style:{"margin-top":"60px",padding:"10px"}},fs={class:"col column flex-center",style:{"margin-bottom":"0px"}},Is={key:0,class:"col-auto"},ws={key:1,class:"col-auto"},Ds={key:2,class:"col-auto"},Ns={class:"col column flex-center",style:{"max-height":"120px","margin-bottom":"30px"}},js={key:1},bs=(0,m._)("div",null,"О курсе",-1),ks=(0,m._)("div",null,"Темы",-1),xs=(0,m._)("div",null,"Результат",-1);function vs(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("q-img"),l=(0,m.up)("q-circular-progress"),u=(0,m.up)("q-video"),c=(0,m.up)("DefaultButton"),d=(0,m.up)("q-tab-panel"),h=(0,m.up)("PageTasks"),p=(0,m.up)("PageModules"),g=(0,m.up)("q-tab-panels"),M=(0,m.up)("q-space"),I=(0,m.up)("q-tab"),w=(0,m.up)("q-tabs"),D=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(D,{loading:o.loading,error:o.error,params:s.params,style:{overflow:"hidden"}},{default:(0,m.w5)((()=>[(0,m.wy)((0,m.Wm)(r,{label:a.title,onBack:a.backClick},null,8,["label","onBack"]),[[f.F8,"0"!==s.params.back_button_visible]]),o.loading?(0,m.kq)("",!0):((0,m.wg)(),(0,m.j4)(g,{key:0,modelValue:o.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>o.tab=e),class:"sot-page2 fit",animated:""},{default:(0,m.w5)((()=>[(0,m.Wm)(d,{name:"info",class:"no-padding2",style:{"margin-top":"0px","padding-left":"0","padding-right":"0"}},{default:(0,m.w5)((()=>[o.course?((0,m.wg)(),(0,m.iD)("div",Pt,[(0,m.wy)((0,m._)("div",qt,[(0,m.Wm)(n,{src:o.course.image_url,fit:"cover",style:{width:"100%"}},null,8,["src"])],512),[[f.F8,o.course.image_url]]),(0,m._)("div",Ut,[o.youtubeVideoUrl||o.preloadingVideo?((0,m.wg)(),(0,m.iD)("div",Qt,[(0,m.wy)((0,m._)("div",Zt,[(0,m.Wm)(l,{indeterminate:"",size:"sm",color:"primary"})],512),[[f.F8,o.preloadingVideo]]),o.youtubeVideoUrl?((0,m.wg)(),(0,m.j4)(u,{key:0,src:o.youtubeVideoUrl,style:{"border-radius":"12px"},ratio:16/9},null,8,["src"])):(0,m.kq)("",!0)])):(0,m.kq)("",!0),(0,m.wy)((0,m._)("div",Bt,[(0,m.Wm)(l,{indeterminate:"",color:"primary",size:"sm"})],512),[[f.F8,o.redirectsLoading]]),(0,m._)("div",null,[(0,m._)("div",Yt,(0,y.zw)(o.course.title),1),(0,m._)("div",Ft,(0,y.zw)(o.course.author),1)]),(0,m._)("div",{class:"text-subtitle1",innerHTML:o.course.adv_text},null,8,Vt),Wt,(0,m._)("div",{innerHTML:o.course.short_description},null,8,Ht),Rt,(0,m._)("div",Gt,[(0,m._)("div",{innerHTML:o.course.you_will_learn},null,8,Jt)]),Kt,(0,m._)("div",Xt,[(0,m._)("div",{innerHTML:o.course.suitable_for},null,8,es)]),ts,(0,m._)("div",ss,[(0,m._)("div",{innerHTML:o.course.benefits},null,8,is)]),os,(0,m._)("div",as,[(0,m._)("div",{innerHTML:o.course.teachers},null,8,rs)]),o.hasBought?(0,m.kq)("",!0):(0,m.wy)(((0,m.wg)(),(0,m.iD)("div",ns,[ls,(0,m.Wm)(l,{indeterminate:"",color:"primary",size:"sm"})],512)),[[f.F8,o.loadingPrice]]),o.hasBought&&o.subscription?(0,m.wy)(((0,m.wg)(),(0,m.iD)("div",us,[cs,(0,m._)("div",ds,(0,y.zw)(o.subscription.title),1)],512)),[[f.F8,!o.loadingPrice]]):(0,m.kq)("",!0),!o.hasBought||o.subscription||o.isFreeCourse?(0,m.kq)("",!0):(0,m.wy)(((0,m.wg)(),(0,m.iD)("div",hs,[ps,(0,m._)("div",gs,(0,y.zw)(o.hasBought.title),1)],512)),[[f.F8,!o.loadingPrice]]),o.hasBought?(0,m.kq)("",!0):(0,m.wy)(((0,m.wg)(),(0,m.iD)("div",Ms,[(0,m.Wm)(c,{label:"Купить курс",class:"col",onClick:a.buyCourse},null,8,["onClick"])],512)),[[f.F8,!o.loadingPrice]]),o.course?(0,m.wy)(((0,m.wg)(),(0,m.iD)("div",ms,[(0,m.Wm)(c,{label:o.course.button_title,class:"col",onClick:t[0]||(t[0]=e=>a.openUrl(o.course.button_url))},null,8,["label"])],512)),[[f.F8,"1"===o.course.button_visible&&o.course.button_title&&o.course.button_url]]):(0,m.kq)("",!0)])])):(0,m.kq)("",!0)])),_:1}),(0,m.Wm)(d,{name:"tasks",class:"overflow-hidden no-margin2 no-padding"},{default:(0,m.w5)((()=>[o.tasksParams&&!o.hasModules?((0,m.wg)(),(0,m.j4)(h,{key:0,params:o.tasksParams,style:{"padding-bottom":"0px"}},null,8,["params"])):(0,m.kq)("",!0),o.tasksParams&&o.hasModules?((0,m.wg)(),(0,m.j4)(p,{key:1,params:o.tasksParams,style:{"padding-bottom":"0px"}},null,8,["params"])):(0,m.kq)("",!0)])),_:1}),(0,m.Wm)(d,{name:"certificate",class:"overflow-hidden no-margin no-padding2 text-subtitle1"},{default:(0,m.w5)((()=>[(0,m._)("div",ys,[(0,m._)("div",fs,[(0,m.Wm)(n,{src:_t(),style:{"max-width":"90%"},fit:"contain"})]),o.activeCourse?((0,m.wg)(),(0,m.iD)("div",Is,[(0,m.Uk)("Набрано звезд: "+(0,y.zw)(a.stars)+" ",1),(0,m.Wm)(n,{src:At(),style:{width:"22px","margin-top":"-5px"},fit:"contain"})])):(0,m.kq)("",!0),a.buttonCertificateVisible?(0,m.kq)("",!0):((0,m.wg)(),(0,m.iD)("div",ws,"Для получения удостоверения необходимо набрать не менее "+(0,y.zw)(o.course.min_stars_for_certificate)+" звезд.",1)),a.buttonCertificateVisible?((0,m.wg)(),(0,m.iD)("div",Ds,"Поздравляем! Вы набрали достаточное количество звёзд для получения удостоверения.")):(0,m.kq)("",!0),(0,m._)("div",Ns,[a.buttonCertificateVisible?((0,m.wg)(),(0,m.j4)(c,{key:0,class:"col-auto full-width",label:"Удостоверение",onClick:a.makeCert},null,8,["onClick"])):(0,m.kq)("",!0)])])])),_:1})])),_:1},8,["modelValue"])),(0,m.Wm)(M),o.loading?(0,m.kq)("",!0):((0,m.wg)(),(0,m.iD)("div",js,[(0,m.Wm)(w,{modelValue:o.tab,"onUpdate:modelValue":t[2]||(t[2]=e=>o.tab=e),align:"justify","no-caps":"",dense:"",class:"text-caption","switch-indicator":"","indicator-color":"primary"},{default:(0,m.w5)((()=>[(0,m.Wm)(I,{name:"info",style:{width:"90px"}},{default:(0,m.w5)((()=>[(0,m._)("div",null,[(0,m.Wm)(n,{src:Lt(),style:{width:"15px","padding-bottom":"3px"},fit:"contain"})]),bs])),_:1}),(0,m.Wm)(I,{name:"tasks",style:{width:"90px"}},{default:(0,m.w5)((()=>[(0,m._)("div",null,[(0,m.Wm)(n,{src:Ct(),style:{width:"15px","padding-bottom":"3px"},fit:"contain"})]),ks])),_:1}),(0,m.wy)((0,m.Wm)(I,{name:"certificate",style:{width:"90px"}},{default:(0,m.w5)((()=>[(0,m._)("div",null,[(0,m.Wm)(n,{src:Et(),style:{width:"15px","padding-bottom":"3px"},fit:"contain"})]),xs])),_:1},512),[[f.F8,o.showResultsButton]])])),_:1},8,["modelValue"])]))])),_:1},8,["loading","error","params"])}var Ts=s(56851);function _s(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("SotButton"),l=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(l,{loading:o.loading,error:o.error,params:s.params},{default:(0,m.w5)((()=>[s.params&&!s.params.hide_header?((0,m.wg)(),(0,m.j4)(r,{key:0,params:s.params},null,8,["params"])):(0,m.kq)("",!0),(0,m._)("div",{class:"column q-gutter-y-sm no-wrap base-page-content",onScroll:t[0]||(t[0]=(...t)=>e.onScroll&&e.onScroll(...t))},[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o.modules,(e=>((0,m.wg)(),(0,m.iD)("div",{key:e.id},[(0,m.Wm)(n,{label:e.title,onClick:t=>a.openModule(e),params:{},style:{padding:"0 10px 0 20px"},class:"full-width"},null,8,["label","onClick"])])))),128))],32)])),_:1},8,["loading","error","params"])}const zs={name:"PageModules",components:{SotButton:W,SotHeader:S.Z,BasePage:H.Z},mixins:[R.Z],props:{params:{type:Object,default:void 0}},mounted(){this.init()},data(){return{loading:!1,error:void 0,modules:void 0,courseId:void 0}},methods:{async init(){this.loading=!0,this.courseId=this.params.course_id,await(0,u.queryBot)(`select * from modules where course_id = ${this.courseId} order by pos_index`).then((e=>{this.modules=[].concat(e.data)})),this.loading=!1},openModule(e){const t={to:"tasks",...this.params};t.title=e.title,t.hide_header=!1,t.module_id=e.id,this.$pages.push(t)}}},As=(0,Z.Z)(zs,[["render",_s]]),Ss=As,Ls=s(85679),Os={name:"PageCourse",components:{PageModules:Ss,DefaultButton:ze.Z,PageTasks:Ts.Z,SotHeader:S.Z,BasePage:H.Z},props:{params:{type:Object,default:void 0}},data(){return{tab:"info",loading:!1,starting:!1,error:void 0,course:void 0,activeCourse:void 0,youtubeVideoUrl:void 0,description:void 0,redirectsLoading:!1,preloadingVideo:!1,tasksParams:void 0,loadingPrice:!1,prices:void 0,hasBought:void 0,hasModules:!1,isFreeCourse:!1,subscription:void 0,showResultsButton:!1}},computed:{courseId(){return this.params.course_id},user(){return this.$store.state.pages.user},title(){const{title:e}=this.params;return e},stars(){return this.activeCourse?+this.activeCourse.stars+ +this.activeCourse.extra_stars:0},buttonCertificateVisible(){return this.activeCourse&&this.stars>=+this.course.min_stars_for_certificate}},watch:{tab(e){sessionStorage.setItem(`course-${this.courseId}-tab`,e)}},mounted(){this.load()},methods:{async load(){this.loading=!0,this.pretask_text=void 0,this.description=void 0,this.course=void 0,this.tab=sessionStorage.getItem(`course-${this.courseId}-tab`)||"info",this.isFreeCourse=!1,this.activeCourse=void 0;const{user:e}=this.$store.state.pages;e&&(this.showResultsButton=!0,await this.$db.tasks.getUserCourse(e.id,this.courseId).then((e=>{this.activeCourse=e;const t=this.$route.query.cert_course_id;t&&(this.tab="certificate")}))),await this.$db.tasks.getCourses(`id = ${this.courseId}`).then((async e=>{const t=e[0];this.course=t,this.redirectsLoading=!0,t.description&&t.description.includes("youtube")&&(this.preloadingVideo=!0),t.description&&this.makeLinks(t.description,"description"),this.redirectsLoading=!1,this.tasksParams={course_id:this.courseId,show_all_tasks:!1,hide_header:!0}})),this.hasBought=void 0,await this.$db.users.getBoughtCourseInfo(this.courseId).then((async e=>{this.hasBought=e,e||await this.loadCoursePrice()})),this.hasModules=!1,await(0,u.queryBot)(`select count(id) as cnt from modules where course_id = ${this.courseId}`).then((e=>{this.hasModules=e.data[0]&&+e.data[0].cnt>0})),this.tasksParams.tasksEnabled=void 0!==this.hasBought,this.loading=!1},loadSubscription(e){this.$db.tasks.getSubscriptions(`id = ${e}`).then((e=>{this.subscription=e[0]}))},async makeLinks(e,t){e=await this.extractYoutubeVideo(e);const s=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi,i=e.replace(s,"<a href='$1'>$1</a>"),o=/(^|[^/])(www\.[\S]+(\b|$))/gim;e=i.replace(o,'$1<a target="_blank" href="https://$2">$2</a>'),e=e.replaceAll("\n","<br/>"),"pretask_text"===t?this.pretask_text=e:this.description=e},async extractYoutubeVideo(e){const t=Ls(e);if(this.youtubeVideoUrl=void 0,t&&t.length>0)for(let s=0;s<t.length;s+=1){let i,o=t[s];if(!o)continue;if(this.youtubeVideoUrl)continue;const a=o.indexOf("\n");a>0&&(o=o.slice(0,a));const r=new FormData;r.append("url",o),await u.api.post("bypass_url.php",r).then((t=>{i=t.data.url,i&&!this.youtubeVideoUrl&&i.includes("youtube.com")&&(i=this.trimUrl(i),i.includes("embed")?this.youtubeVideoUrl=i:this.youtubeVideoUrl=this.makeYoutubeVideoEmbed(i),this.preloadingVideo=!1,this.redirectsLoading=!1,e=e.replace(o,""))}))}else this.redirectsLoading=!1;return e},makeYoutubeVideoEmbed(e){e=e.replaceAll("https://www.youtube.com/watch?","");const t=new URLSearchParams(e),s=t.get("v");let i=t.get("t")||"0";return i=i.replace(".",""),i=i.replace("s",""),e=`https://www.youtube.com/embed/${s}?autoplay=0&fs=1&start=${i}`,e},trimUrl(e){const t=[".",",","!","?",";",'"',"`","'",")"];for(let s=0;s<t.length;s+=1){const i=t[s];e.slice(-1)===i&&(e=e.slice(0,-1))}return e},makeCert(){this.$pages.push({to:"cert2",title:`Удостоверение по курсу "${this.course.title}"`,params:{course_id:this.course.id,title:this.course.title}})},async loadCoursePrice(){this.loadingPrice=!0,this.prices=void 0,await this.$db.tasks.getCoursePrices(this.courseId).then((e=>{this.prices=e,(!e||e&&0===e.length)&&(this.hasBought=!0,this.isFreeCourse=!0),this.loadingPrice=!1}))},buyCourse(){this.$pages.push({to:"buy-course",title:"Покупка курса",params:{course_id:this.courseId,title:this.course.title}})},openUrl(e){window.open(e,"_blank")},splitText(e){if(!e)return;const t=e.split("\r\n");return t},backClick(e){const{user:t}=this;return!!t||(e.cancelBubble=!0,this.$pages.push({to:"login"}),!1)}}};var Cs=s(1419);const $s=(0,Z.Z)(Os,[["render",vs]]),Es=$s;F()(Os,"components",{QTabPanels:re.Z,QTabPanel:ne.Z,QImg:B.Z,QCircularProgress:X.Z,QVideo:Cs.Z,QSpace:le.Z,QTabs:ue.Z,QTab:ce.Z});var Ps=s(44508),qs=s(30990),Us=s(26147),Qs=s(33424),Zs=s.n(Qs),Bs=s(30204),Ys=s.n(Bs);const Fs={style:{overflow:"auto"}},Vs={key:0,class:"q-pa-md base-page-content q-gutter-y-sm"},Ws={key:0,class:"text-center text-weight-bold",style:{"margin-bottom":"20px"}},Hs={class:"q-gutter-y-md q-pa-sm"},Rs={class:"text-caption text-center"},Gs=(0,m._)("div",null,"Номер отправления:",-1),Js={style:{"padding-top":"5px","padding-bottom":"20px"},class:"q-gutter-y-sm q-pa-md text-center"},Ks={style:{"margin-bottom":"20px","margin-top":"20px"}};function Xs(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("q-img"),l=(0,m.up)("q-file"),u=(0,m.up)("q-select"),c=(0,m.up)("TextInput"),d=(0,m.up)("DefaultButton"),h=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(h,null,{default:(0,m.w5)((()=>[(0,m.Wm)(r,{label:a.title},null,8,["label"]),"1"!==o.info.transferred||o.certUrl?(0,m.kq)("",!0):((0,m.wg)(),(0,m.j4)(n,{key:0,src:Zs(),style:{"padding-top":"90px"},fit:"contain"})),"1"===o.info.transferred&&o.certUrl?((0,m.wg)(),(0,m.j4)(n,{key:1,src:Ys(),style:{"padding-top":"90px"},fit:"contain"})):(0,m.kq)("",!0),(0,m._)("div",Fs,["1"!==o.info.transferred?((0,m.wg)(),(0,m.iD)("div",Vs,[o.courseTitle?((0,m.wg)(),(0,m.iD)("div",Ws,(0,y.zw)(o.courseTitle),1)):(0,m.kq)("",!0),(0,m.Wm)(l,{label:"Скан первой страницы паспорта",class:"sot-select",style:{"padding-left":"23px"},borderless:"",modelValue:o.passportFile,"onUpdate:modelValue":t[0]||(t[0]=e=>o.passportFile=e),"display-value":o.passport,loading:o.loadingPassport,"input-style":"color: #85371F"},null,8,["modelValue","display-value","loading"]),(0,m.Wm)(l,{label:"Скан диплома",class:"sot-select",borderless:"",modelValue:o.diplomaFile,"onUpdate:modelValue":t[1]||(t[1]=e=>o.diplomaFile=e),"display-value":o.diploma,loading:o.loadingDiploma,style:{"padding-bottom":"10px","padding-left":"23px"},"input-style":"color: #85371F"},null,8,["modelValue","display-value","loading"]),(0,m.Wm)(u,{ref:"eduLevel",class:"sot-select",borderless:"",label:"Уровень образования",options:["СПО","ВО"],modelValue:o.info.eduLevel,"onUpdate:modelValue":t[2]||(t[2]=e=>o.info.eduLevel=e),style:{"padding-left":"23px",color:"#85371F"},"input-style":"color: #85371F"},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"profName",label:"Наименование квалификации, профессии",modelValue:o.info.profName,"onUpdate:modelValue":t[3]||(t[3]=e=>o.info.profName=e)},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"diplomFio",label:"Фамилия указанная в дипломе",modelValue:o.info.diplomFio,"onUpdate:modelValue":t[4]||(t[4]=e=>o.info.diplomFio=e)},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"docSerial",label:"Серия документа о ВО/СПО",modelValue:o.info.docSerial,"onUpdate:modelValue":t[5]||(t[5]=e=>o.info.docSerial=e)},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"docNum",label:"Номер документа о ВО/СПО",modelValue:o.info.docNum,"onUpdate:modelValue":t[6]||(t[6]=e=>o.info.docNum=e)},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"fioDat",label:"Фамилия в дательном падеже",modelValue:o.info.fioDat,"onUpdate:modelValue":t[7]||(t[7]=e=>o.info.fioDat=e)},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"nameDat",label:"Имя в дательном падеже",modelValue:o.info.nameDat,"onUpdate:modelValue":t[8]||(t[8]=e=>o.info.nameDat=e)},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"patrnameDat",label:"Отчество в дательном падеже",modelValue:o.info.patrnameDat,"onUpdate:modelValue":t[9]||(t[9]=e=>o.info.patrnameDat=e)},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"birthday",label:"Дата рождения получателя (дд.мм.гггг)",modelValue:o.info.birthday,"onUpdate:modelValue":t[10]||(t[10]=e=>o.info.birthday=e),mask:"##.##.####"},null,8,["modelValue"]),(0,m.Wm)(u,{ref:"gender",class:"sot-select",borderless:"",label:"Пол получателя",options:["мужской","женский"],modelValue:o.info.gender,"onUpdate:modelValue":t[11]||(t[11]=e=>o.info.gender=e),style:{"padding-left":"23px",color:"#85371F"},"input-style":"color: #85371F"},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"snils",label:"СНИЛС",modelValue:o.info.snils,"onUpdate:modelValue":t[12]||(t[12]=e=>o.info.snils=e),mask:"###-###-### ##"},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"postIndex",label:"Почтовый индекс",modelValue:o.info.postIndex,"onUpdate:modelValue":t[13]||(t[13]=e=>o.info.postIndex=e),mask:"######"},null,8,["modelValue"]),(0,m.Wm)(c,{ref:"postAddress",label:"Почтовый адрес",modelValue:o.info.postAddress,"onUpdate:modelValue":t[14]||(t[14]=e=>o.info.postAddress=e),autogrow:"",type:"textarea"},null,8,["modelValue"])])):(0,m.kq)("",!0),(0,m._)("div",Hs,[(0,m.wy)((0,m._)("div",{class:"text-caption"}," Ответ оператора для паспорта: "+(0,y.zw)(o.commentPassport),513),[[f.F8,o.commentPassport&&!o.certUrl]]),(0,m.wy)((0,m._)("div",{class:"text-caption"}," Ответ оператора для диплома: "+(0,y.zw)(o.commentDiploma),513),[[f.F8,o.commentDiploma&&!o.certUrl]]),(0,m.wy)((0,m._)("div",Rs,[Gs,(0,m._)("strong",null,(0,y.zw)(o.info.trackingNumber),1)],512),[[f.F8,o.info.trackingNumber]])]),(0,m._)("div",Js,[(0,m.wy)((0,m.Wm)(d,{label:"Передать оператору",onClick:a.doProcess,loading:o.loading},null,8,["onClick","loading"]),[[f.F8,"1"!==o.info.transferred]]),(0,m.wy)((0,m.Wm)(d,{label:"Скачать удостоверение",onClick:a.get,loading:o.loading},null,8,["onClick","loading"]),[[f.F8,o.certUrl]]),(0,m.wy)((0,m._)("div",Ks,[(0,m._)("a",{href:"#",onClick:t[15]||(t[15]=(0,f.iM)(((...e)=>a.doRepeat&&a.doRepeat(...e)),["stop","prevent"]))},"Отправить данные повторно")],512),[[f.F8,"1"===o.info.transferred]])])])])),_:1})}var ei=s(51791),ti=s(44062);const si={name:"PageCertificate2",components:{TextInput:_e.Z,DefaultButton:ze.Z,SotHeader:S.Z,BasePage:H.Z},mixins:[ti.Z],computed:{title(){const{title:e}=this.params.params;return`Удостоверение по курсу "${e}"`},allowGet(){if(this.passport){const e=this.passport.replace(/[^0-9.]/g,"");if(10!==e.length)return!1}return this.diploma?this.diploma.length>=10:this.passport&&this.diploma}},beforeUnmount(){this.saveInfo()},watch:{passportFile(e){e||(this.passport=void 0),this.loadingPassport=!0,this.passport=e.name,this.uploadAttachment("passport",e)},diplomaFile(e){e||(this.diploma=void 0),this.loadingDiploma=!0,this.diploma=e.name,this.uploadAttachment("diploma",e)}},mounted(){this.init()},data(){return{passport:void 0,diploma:void 0,passportFile:void 0,diplomaFile:void 0,loading:!1,loadingPassport:!1,loadingDiploma:!1,commentPassport:void 0,commentDiploma:void 0,certUrl:void 0,courseId:void 0,courseTitle:void 0,info:{eduLevel:void 0,profName:void 0,diplomFio:void 0,docSerial:void 0,docNum:void 0,fioDat:void 0,nameDat:void 0,patrnameDat:void 0,birthday:void 0,gender:void 0,snils:void 0,postIndex:void 0,postAddress:void 0,transferred:void 0,trackingNumber:void 0}}},methods:{init(){this.courseId=this.params.params.course_id,this.courseTitle=this.params.params.title;const{user:e}=this.$store.state.pages;this.loadingPassport=!0,this.loadingDiploma=!0,(0,u.queryBot)(`select type, filename, url, comment from user_attachments where user_id = ${e.id}`).then((e=>{this.loadingPassport=!1,this.loadingDiploma=!1;for(let t=0;t<e.data.length;t+=1)"passport"===e.data[t].type&&(this.passport=e.data[t].filename,this.commentPassport=e.data[t].comment),"diploma"===e.data[t].type&&(this.diploma=e.data[t].filename,this.commentDiploma=e.data[t].comment)})),(0,u.queryBot)(`select cert_url from user_cert2 where user_id = ${e.id} and course_id = ${this.courseId}`).then((e=>{const t=e.data[0];t&&(this.certUrl=t.cert_url)})),this.loadInfo()},loadInfo(){const{user:e}=this.$store.state.pages;(0,u.queryBot)(`select id, type, value from user_info where user_id = ${e.id}`).then((e=>{for(let t=0;t<e.data.length;t+=1){const s=e.data[t];"eduLevel"===s.type&&(this.info.eduLevel=s.value),"profName"===s.type&&(this.info.profName=s.value),"diplomFio"===s.type&&(this.info.diplomFio=s.value),"docSerial"===s.type&&(this.info.docSerial=s.value),"docNum"===s.type&&(this.info.docNum=s.value),"fioDat"===s.type&&(this.info.fioDat=s.value),"nameDat"===s.type&&(this.info.nameDat=s.value),"patrnameDat"===s.type&&(this.info.patrnameDat=s.value),"birthday"===s.type&&(this.info.birthday=s.value),"gender"===s.type&&(this.info.gender=s.value),"snils"===s.type&&(this.info.snils=s.value),"postIndex"===s.type&&(this.info.postIndex=s.value),"postAddress"===s.type&&(this.info.postAddress=s.value),s.type===`transferred-${this.courseId}`&&(this.info.transferred=s.value),s.type===`trackingNumber-${this.courseId}`&&(this.info.trackingNumber=s.value)}}))},saveInfo(){this.saveInfoField("eduLevel",this.info.eduLevel),this.saveInfoField("profName",this.info.profName),this.saveInfoField("diplomFio",this.info.diplomFio),this.saveInfoField("docSerial",this.info.docSerial),this.saveInfoField("docNum",this.info.docNum),this.saveInfoField("fioDat",this.info.fioDat),this.saveInfoField("nameDat",this.info.nameDat),this.saveInfoField("patrnameDat",this.info.patrnameDat),this.saveInfoField("birthday",this.info.birthday),this.saveInfoField("gender",this.info.gender),this.saveInfoField("snils",this.info.snils),this.saveInfoField("postIndex",this.info.postIndex),this.saveInfoField("postAddress",this.info.postAddress)},saveInfoField(e,t){const{user:s}=this.$store.state.pages;t||(t=""),t=(0,ei.Z)(t),(0,u.queryBot)(`insert into user_info (user_id, type, value) values (${s.id}, '${e}', '${t}')  on duplicate key update value = '${t}'`)},get(){window.open(this.certUrl,"_blank")},uploadAttachment(e,t){const{user:s}=this.$store.state.pages;(0,u.uploadFile)(t,this).then((i=>{(0,u.queryBot)(`insert into user_attachments (user_id, type, filename, url) values (${s.id}, '${e}', '${t.name}', '${i}')  on duplicate key update filename = '${t.name}', url = '${i}'`).then((()=>{"passport"===e&&(this.loadingPassport=!1),"diploma"===e&&(this.loadingDiploma=!1)}))}))},async doProcess(){if(this.saveInfo(),!this.passport)return void this.$q.notify("Прикрепите скан паспорта");if(!this.diploma)return void this.$q.notify("Прикрепите скан диплома");if(!this.info.eduLevel)return this.$q.notify("Укажите уровень образования"),void this.$refs.eduLevel.select();if(!this.info.profName)return this.$q.notify("Укажите наименование квалификации"),void this.$refs.profName.select();if(!this.info.diplomFio)return this.$q.notify("Укажите фамилия указанную в дипломе"),void this.$refs.diplomFio.select();if(!this.info.docSerial)return this.$q.notify("Укажите серию документа о ВО/СПО"),void this.$refs.docSerial.select();if(!this.info.docNum)return this.$q.notify("Укажите номер документа о ВО/СПО"),void this.$refs.docNum.select();if(!this.info.fioDat)return this.$q.notify("Укажите фамилию в дательном падеже"),void this.$refs.fioDat.select();if(!this.info.nameDat)return this.$q.notify("Укажите имя в дательном падеже"),void this.$refs.nameDat.select();if(!this.info.patrnameDat)return this.$q.notify("Укажите отчество в дательном падеже"),void this.$refs.patrnameDat.select();if(!this.info.birthday||this.info.birthday&&10!==this.info.birthday.length)return this.$q.notify("Укажите корректную дату рождения"),void this.$refs.birthday.select();if(!this.info.gender)return this.$q.notify("Укажите пол"),void this.$refs.gender.select();if(!this.info.snils)return this.$q.notify("Укажите СНИЛС"),void this.$refs.snils.select();if(!this.info.postIndex)return this.$q.notify("Укажите почтовый индекс"),void this.$refs.postIndex.select();if(!this.info.postAddress)return this.$q.notify("Укажите почтовый адрес"),void this.$refs.postAddress.select();if("1"===this.info.transferred)return;this.$q.notify("Передано в обработку"),this.saveInfoField(`transferred-${this.courseId}`,"1"),this.info.transferred="1";const{user:e}=this.$store.state.pages,t=`Спасибо, Ваши данные для удостоверения по курсу "${this.courseTitle}" получены и находятся на проверке, мы постараемся обработать их в течение суток`;(0,u.sendTelegramMessage)(e.chat_id,t);const s=()=>new Promise((e=>{(0,u.queryBot)(`select title from courses where id = '${this.courseId}'`).then((t=>{t.data[0]?e(t.data[0].title):e(void 0)}))}));let i;await s().then((e=>{i=e})),this.$db.users.sendChatQuestion(e.chat_id,0,`Отправлены документы для создания удостоверения по курсу ${i}`)},doRepeat(){this.info.transferred="0"}}};var ii=s(64974);const oi=(0,Z.Z)(si,[["render",Xs]]),ai=oi;F()(si,"components",{QImg:B.Z,QFile:ii.Z,QSelect:Se.Z});const ri={class:"q-pa-md base-page-content",style:{"padding-top":"35px"}},ni={class:"column text-color-sot",style:{"margin-bottom":"10px"}},li=(0,m._)("div",{class:"text-subtitle1 q-pa-sm text-center",style:{"padding-bottom":"30px"}},"Выбери свой тариф и возможность сэкономить до 100%",-1),ui={class:"column q-gutter-y-md text-subtitle1"},ci={class:"row items-center q-gutter-x-sm no-wrap"},di=["innerHTML","onClick"],hi={class:"flex flex-center"},pi={style:{height:"80px"},class:"relative-position row items-center"},gi=(0,m._)("img",{src:"new-icons/gosuslugi.png",style:{width:"160px","object-fit":"cover","background-color":"white","z-index":"1"}},null,-1),Mi=(0,m._)("div",{class:"text-subtitle1 text-center",style:{"padding-bottom":"30px"}},[(0,m._)("div",null,"Специальное предложение"),(0,m._)("div",null,"Количество ограничено")],-1),mi={class:"column q-gutter-y-md text-subtitle1"},yi={class:"row items-center q-gutter-x-sm no-wrap"},fi=["innerHTML","onClick"],Ii={class:"flex flex-center"};function wi(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("q-radio"),l=(0,m.up)("DefaultButton"),u=(0,m.up)("q-separator"),c=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(c,{loading:o.loading,error:o.error,params:s.params,style:{overflow:"hidden"}},{default:(0,m.w5)((()=>[(0,m.Wm)(r,{label:"Выбери свой тариф"}),(0,m._)("div",ri,[(0,m.wy)((0,m._)("div",ni,[li,(0,m._)("div",ui,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(e.tariffs,((s,i)=>((0,m.wg)(),(0,m.iD)("div",{key:i,class:"row q-gutter-x-sm items-center"},[(0,m._)("div",ci,[(0,m.Wm)(n,{modelValue:e.activeTariff,"onUpdate:modelValue":t[0]||(t[0]=t=>e.activeTariff=t),val:s},null,8,["modelValue","val"]),(0,m._)("div",{innerHTML:s.description,class:"cursor-pointer",onClick:t=>e.activeTariff=s},null,8,di)])])))),128)),(0,m._)("div",hi,[(0,m.Wm)(l,{label:"Оплатить",onClick:a.pay,style:{width:"200px"}},null,8,["onClick"])])]),(0,m._)("div",pi,[gi,(0,m.Wm)(u,{color:"primary",style:{position:"absolute",left:"0",top:"40px",width:"100%"}})]),Mi,(0,m._)("div",mi,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(e.extraTariffs,((s,i)=>((0,m.wg)(),(0,m.iD)("div",{key:i,class:"row q-gutter-x-sm items-center"},[(0,m._)("div",yi,[(0,m.Wm)(n,{modelValue:e.activeExtraTariff,"onUpdate:modelValue":t[1]||(t[1]=t=>e.activeExtraTariff=t),val:s},null,8,["modelValue","val"]),(0,m._)("div",{innerHTML:s.description,class:"cursor-pointer",onClick:t=>e.activeExtraTariff=s},null,8,fi)])])))),128)),(0,m._)("div",Ii,[(0,m.Wm)(l,{label:"Оставить заявку",onClick:a.submitApplication,style:{width:"200px"}},null,8,["onClick"])])])],512),[[f.F8,!o.loading]])])])),_:1},8,["loading","error","params"])}var Di=s(8108);const Ni={name:"PageBuyCourse",components:{DefaultButton:ze.Z,SotHeader:S.Z,BasePage:H.Z},mixins:[Di.Z],props:{params:{type:Object,default:void 0}},data(){return{loading:!1,saving:!1,error:void 0,balance:0}},computed:{courseId(){return this.params.params.course_id},courseTitle(){return this.params.course_title}},mounted(){this.load()},methods:{pay(){this.activeTariff?this.$pages.push({to:"pay-course",title:this.courseTitle,course_id:this.courseId}):this.$q.notify("Выберите тариф")},submitApplication(){if(!this.activeExtraTariff)return void this.$q.notify("Выберите специальное предложение");const{externalCourseId:e}=this.course,t=`https://www.gosuslugi.ru/600314/1/form?courseID=${e}`;window.open(t,"_blank")}}};var ji=s(77991),bi=s(65869);const ki=(0,Z.Z)(Ni,[["render",wi]]),xi=ki;F()(Ni,"components",{QRadio:ji.Z,QSeparator:bi.Z});var vi=s(64891);const Ti={class:"q-pa-md base-page-content",style:{"padding-top":"50px"}},_i={class:"q-gutter-y-lg",style:{"margin-bottom":"0"}},zi=(0,m._)("div",null,"Вы купили",-1),Ai={class:"text-weight-bold ellipsis-3-lines"},Si={class:"q-gutter-sm"};function Li(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("DefaultButton"),l=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(l,{loading:o.loading,error:e.error,params:s.params,style:{overflow:"hidden"}},{default:(0,m.w5)((()=>[(0,m.Wm)(r,{label:"Поздравляем!","hide-back-button":""}),(0,m._)("div",Ti,[(0,m.wy)((0,m._)("div",_i,[(0,m._)("div",null,[zi,(0,m._)("div",Ai,(0,y.zw)(a.title),1)]),(0,m._)("div",null,(0,y.zw)(s.params.hint),1),(0,m._)("div",Si,[(0,m.Wm)(n,{label:"Готово",onClick:a.close},null,8,["onClick"])])],512),[[f.F8,!o.loading]])])])),_:1},8,["loading","error","params"])}const Oi={name:"PageBuySuccess",components:{DefaultButton:ze.Z,SotHeader:S.Z,BasePage:H.Z},props:{params:{type:Object,default:void 0}},data(){return{loading:!1,balance:0}},computed:{productId(){return this.params.product_id},productType(){return+this.params.product_type},title(){return this.params.title}},mounted(){this.load()},methods:{load(){},close(){this.$pages.backToRoot(),1===this.productType&&this.$pages.push({to:"course_page",course_id:this.productId,label:this.title}),2===this.productType&&this.$pages.push({to:"subscription_page",subscription_id:this.productId,label:this.title})}}},Ci=(0,Z.Z)(Oi,[["render",Li]]),$i=Ci,Ei={class:"q-pa-md base-page-content",style:{"padding-top":"50px"}},Pi={class:"q-gutter-y-lg",style:{"margin-bottom":"0"}};function qi(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("SotButton"),l=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(l,{loading:o.loading,error:o.error,params:s.params,style:{overflow:"hidden"}},{default:(0,m.w5)((()=>[(0,m.Wm)(r,{label:"Мои курсы"}),(0,m._)("div",Ei,[(0,m.wy)((0,m._)("div",Pi,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o.courses,((e,t)=>((0,m.wg)(),(0,m.iD)("div",{key:t},[(0,m.Wm)(n,{label:e.title,params:{},class:"full-width",onClick:t=>a.openCourse(e)},null,8,["label","onClick"])])))),128))],512),[[f.F8,!o.loading]])])])),_:1},8,["loading","error","params"])}const Ui={name:"PageMyCourses",components:{SotButton:W,SotHeader:S.Z,BasePage:H.Z},props:{params:{type:Object,default:void 0}},data(){return{loading:!1,error:void 0,courses:void 0}},mounted(){this.load()},methods:{load(){this.loading=!0,this.$db.users.getMyBoughtCourses().then((e=>{this.courses=e,this.loading=!1}))},openCourse(e){this.$pages.push({to:"course_page",course_id:e.course_id,label:e.title})}}},Qi=(0,Z.Z)(Ui,[["render",qi]]),Zi=Qi,Bi={key:0,class:"column q-gutter-y-md",style:{"padding-bottom":"20px"}},Yi={class:"text-weight-bold"},Fi={key:0},Vi=(0,m._)("div",{class:"text-weight-bold"},"Подписка оформлена",-1),Wi={key:1,class:"column q-gutter-y-md"},Hi={class:"row text-weight-bold"},Ri={key:0,class:"column q-gutter-y-md",style:{"padding-bottom":"20px"}},Gi=(0,m._)("div",{class:"text-weight-bold"},"Состав подписки",-1),Ji=(0,m._)("div",null,"Курсы",-1),Ki={key:1};function Xi(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("q-space"),l=(0,m.up)("DefaultButton"),u=(0,m.up)("q-tab-panel"),c=(0,m.up)("SotButton"),d=(0,m.up)("q-tab-panels"),h=(0,m.up)("q-tab"),p=(0,m.up)("q-tabs"),g=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(g,{loading:o.loading,error:o.error,params:s.params,style:{overflow:"hidden"}},{default:(0,m.w5)((()=>[(0,m.wy)((0,m.Wm)(r,{label:"Подписка"},null,512),[[f.F8,"0"!==s.params.back_button_visible]]),o.loading?(0,m.kq)("",!0):((0,m.wg)(),(0,m.j4)(d,{key:0,modelValue:o.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>o.tab=e),class:"sot-page fit",animated:"",style:{"padding-top":"60px"}},{default:(0,m.w5)((()=>[(0,m.Wm)(u,{name:"info"},{default:(0,m.w5)((()=>[o.subscription?((0,m.wg)(),(0,m.iD)("div",Bi,[(0,m._)("div",Yi,(0,y.zw)(o.subscription.title),1),(0,m._)("div",null,(0,y.zw)(o.subscription.description),1),o.subsBought?((0,m.wg)(),(0,m.iD)("div",Fi,[Vi,(0,m._)("div",null,"Дата окончания подписки: "+(0,y.zw)(e.formatDateShort(o.subsBought.valid_until_date)),1)])):(0,m.kq)("",!0),o.subsBought?(0,m.kq)("",!0):((0,m.wg)(),(0,m.iD)("div",Wi,[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o.prices,((t,s)=>((0,m.wg)(),(0,m.iD)("div",{key:s,class:"column q-gutter-md"},[(0,m._)("div",Hi,[(0,m._)("div",null,[(0,m.Uk)(" Тариф "),(0,m.wy)((0,m._)("span",null,(0,y.zw)(e.formatMonths(t.duration_months)),513),[[f.F8,+t.duration_months>0]]),(0,m.Uk)(),(0,m.wy)((0,m._)("span",null,(0,y.zw)(e.formatDays(t.duration_days)),513),[[f.F8,+t.duration_days>0]])]),(0,m.Wm)(n),(0,m._)("div",null,(0,y.zw)(t.price_personal)+" ₽",1)]),(0,m.Wm)(l,{label:`Купить за ${t.price_personal} ₽`,onClick:e=>a.buySubscription(t)},null,8,["label","onClick"])])))),128))]))])):(0,m.kq)("",!0)])),_:1}),(0,m.Wm)(u,{name:"tasks"},{default:(0,m.w5)((()=>[o.subscription?((0,m.wg)(),(0,m.iD)("div",Ri,[Gi,Ji,((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o.courses,((e,t)=>((0,m.wg)(),(0,m.iD)("div",{key:t},[(0,m.Wm)(c,{label:e.title,params:{author:e.author},onClick:t=>a.courseClick(e),class:"full-width"},null,8,["label","params","onClick"])])))),128))])):(0,m.kq)("",!0)])),_:1})])),_:1},8,["modelValue"])),(0,m.Wm)(n),o.loading?(0,m.kq)("",!0):((0,m.wg)(),(0,m.iD)("div",Ki,[(0,m.Wm)(p,{modelValue:o.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>o.tab=e),align:"justify","no-caps":"",dense:""},{default:(0,m.w5)((()=>[(0,m.Wm)(h,{name:"info",icon:"home",label:"Описание",style:{width:"90px"}}),(0,m.Wm)(h,{name:"tasks",icon:"list",label:"Состав",style:{width:"90px"}})])),_:1},8,["modelValue"])]))])),_:1},8,["loading","error","params"])}var eo=s(70091);const to={name:"PageSubscription",components:{SotButton:W,DefaultButton:ze.Z,SotHeader:S.Z,BasePage:H.Z},mixins:[eo.Z],props:{params:{type:Object,default:void 0}},data(){return{tab:"info",loading:!1,error:void 0,subscription:void 0,prices:void 0,courses:void 0,subsBought:void 0}},computed:{subscriptionId(){return this.params.subscription_id},title(){const{title:e}=this.params;return e}},mounted(){this.load()},methods:{load(){this.loading=!0,this.subscription=void 0,this.prices=void 0,this.products=void 0,this.subsBought=void 0,this.$db.users.getSubscriptionBought(this.subscriptionId).then((e=>{this.subsBought=e})),this.$db.tasks.getSubscriptions(`id = ${this.subscriptionId}`).then((e=>{this.subscription=e[0],this.loadTariffs()}))},loadTariffs(){(0,u.queryBot)(`select * from subscriptions_prices where subscription_id = ${this.subscription.id} order by duration_months, duration_days`).then((e=>{this.prices=e.data,this.loadProducts()}))},loadProducts(){this.loadCourses()},loadCourses(){const e=` SELECT  courses.id as course_id,  courses.title,  courses.author,  subscription_products.*  FROM  subscription_products  INNER JOIN courses ON courses.id = product_id  WHERE  subscription_id = ${this.subscription.id} AND TYPE = 1`;(0,u.queryBot)(e).then((e=>{this.courses=e.data,this.loading=!1}))},courseClick(e){this.$pages.push({to:"course_page",course_id:e.course_id,label:e.title})},buySubscription(e){this.$pages.push({to:"buy-subscription",subscription:this.subscription,tariff:e})}}},so=(0,Z.Z)(to,[["render",Xi]]),io=so;F()(to,"components",{QTabPanels:re.Z,QTabPanel:ne.Z,QSpace:le.Z,QTabs:ue.Z,QTab:ce.Z});const oo={class:"q-pa-md base-page-content",style:{"padding-top":"50px"}},ao={class:"q-gutter-y-lg",style:{"margin-bottom":"0"}},ro=(0,m._)("div",null,"Название подписки",-1),no={class:"text-weight-bold ellipsis-3-lines"},lo={class:"text-weight-bold"},uo=(0,m._)("div",null,"К оплате",-1),co={class:"text-weight-bold"},ho=(0,m._)("div",null,"Ваш баланс:",-1),po={class:"text-weight-bold"},go=(0,m._)("div",null,"Выберите способ оплаты",-1),Mo={class:"q-gutter-sm"};function mo(e,t,s,i,o,a){const r=(0,m.up)("SotHeader"),n=(0,m.up)("DefaultButton"),l=(0,m.up)("BasePage");return(0,m.wg)(),(0,m.j4)(l,{loading:o.loading,error:o.error,params:s.params,style:{overflow:"hidden"}},{default:(0,m.w5)((()=>[(0,m.Wm)(r,{label:"Купить подписку"}),(0,m._)("div",oo,[(0,m.wy)((0,m._)("div",ao,[(0,m._)("div",null,[ro,(0,m._)("div",no,(0,y.zw)(a.title),1)]),(0,m._)("div",lo,[(0,m.Uk)(" Тариф "),(0,m.wy)((0,m._)("span",null,(0,y.zw)(e.formatMonths(s.params.tariff.duration_months)),513),[[f.F8,+s.params.tariff.duration_months>0]]),(0,m.Uk)("  "),(0,m.wy)((0,m._)("span",null,(0,y.zw)(e.formatDays(s.params.tariff.duration_days)),513),[[f.F8,+s.params.tariff.duration_days>0]])]),(0,m._)("div",null,[uo,(0,m._)("div",co,(0,y.zw)(o.price)+" ₽",1)]),(0,m._)("div",null,[ho,(0,m._)("div",po,(0,y.zw)(o.balance)+" ₽",1)]),go,(0,m._)("div",Mo,[(0,m.Wm)(n,{label:"Личный счет в Клубе СОТ",disabled:o.balance<o.price,onClick:a.payFromBalance,loading:o.saving},null,8,["disabled","onClick","loading"]),(0,m.Wm)(n,{label:"Банковская карта",onClick:a.payFromCard},null,8,["onClick"])])],512),[[f.F8,!o.loading]])])])),_:1},8,["loading","error","params"])}const yo=s(11488),fo={name:"PageBuySubscription",components:{DefaultButton:ze.Z,SotHeader:S.Z,BasePage:H.Z},mixins:[eo.Z],props:{params:{type:Object,default:void 0}},data(){return{loading:!1,saving:!1,error:void 0,price:0,discount:0,balance:0}},computed:{subscriptionId(){if(this.params.subscription)return this.params.subscription.id},title(){if(this.params.subscription)return this.params.subscription.title}},mounted(){this.load()},methods:{load(){this.price=this.params.tariff.price_personal,this.loading=!0,this.$db.users.getMyBalance().then((e=>{this.balance=e.replaceAll(".00",""),this.loading=!1}))},payFromBalance(){this.$q.dialog({title:"Подтверждение",message:`Вы хотите оформить подписку и оплатить с баланса Вашего личного счета в Клубе СОТ? <br/><br/>Будет списана сумма: <b>${this.price} ₽</b>`,html:!0,persistent:!0,ok:{label:"Оплатить",color:"primary"},cancel:{label:"Отмена",flat:!0}}).onOk((()=>{const e=+this.params.tariff.duration_months,t=+this.params.tariff.duration_days,s=yo().add(e,"month").add(t,"day");this.saving=!0,this.$db.users.buySubscription(this.price,this.subscriptionId,s,this.title).then((e=>{if(this.saving=!1,e){const e="Поздравляем! Подписка оформлена успешно.";this.$pages.push({to:"buy-success",title:this.title,product_type:2,product_id:this.subscriptionId,hint:e})}}))}))},payFromCard(){this.$q.notify("TODO: Перейти на страницу оплаты картой")}}},Io=(0,Z.Z)(fo,[["render",mo]]),wo=Io;function Do(e,t,s,i,o,a){return(0,m.wg)(),(0,m.j4)((0,m.LL)(a.type),{label:a.label,onClick:a.click,params:e.params,"no-caps":"",align:"left",style:(0,y.j5)("image"!==this.params.type?"margin: 0px 15px 10px 15px":"")},null,8,["label","onClick","params","style"])}var No=s(25349);function jo(e,t,s,i,o,a){const r=(0,m.up)("q-img"),n=(0,m.up)("q-video");return(0,m.wg)(),(0,m.iD)("div",{onClickCapture:t[0]||(t[0]=(0,f.iM)(((...e)=>a.click&&a.click(...e)),["stop"])),class:"cursor-pointer"},[(0,m._)("div",null,[(0,m.wy)((0,m.Wm)(r,{src:e.params.image_url},null,8,["src"]),[[f.F8,!o.videoUrl]]),o.videoUrl?((0,m.wg)(),(0,m.j4)(n,{key:0,src:o.videoUrl,ratio:16/9},null,8,["src"])):(0,m.kq)("",!0)])],32)}const bo={name:"ButtonImage",mixins:[ti.Z],data(){return{videoUrl:void 0}},mounted(){this.params.image_url||(this.videoUrl=this.params.video)},methods:{click(){"video"!==this.params.to?this.$emit("click"):this.videoUrl=this.params.video}}},ko=(0,Z.Z)(bo,[["render",jo]]),xo=ko;F()(bo,"components",{QImg:B.Z,QVideo:Cs.Z});
//! import VueSocketIO from 'vue-3-socket.io';
const vo={name:"Button",mixins:[ti.Z],components:{ButtonTask:No.Z,ButtonImage:xo,SotButton:W},computed:{type(){return"task"===this.params.to?"ButtonTask":"create_cert3"===this.params.to?"DefaultButton":"image"===this.params.type?"ButtonImage":"SotButton"},label(){return this.params.label??"Button"}},mounted(){},data(){return{locked:!1}},methods:{click(){this.locked||(this.locked=!0,setTimeout((()=>{this.params.id=this.view.id,this.$pages.push(this.params),this.locked=!1}),300))}}},To=(0,Z.Z)(vo,[["render",Do]]),_o=To,zo={style:{overflow:"auto"},class:"row items-center"},Ao={class:"col-auto",style:{"padding-right":"10px"}};function So(e,t,s,i,o,a){const r=(0,m.up)("ButtonLike");return(0,m.wg)(),(0,m.iD)("div",zo,[(0,m._)("div",{ref:"text",class:"col",style:{"margin-right":"15px","white-space":"pre-line"}},(0,y.zw)(a.text),513),(0,m.wy)((0,m._)("div",Ao,[(0,m.Wm)(r,{view:e.view,page:e.page},null,8,["view","page"])],512),[[f.F8,!0===e.params.accept_like]])])}function Lo(e,t,s,i,o,a){const r=(0,m.up)("q-btn"),n=(0,m.up)("q-circular-progress");return(0,m.wg)(),(0,m.iD)("div",null,[(0,m.wy)((0,m.Wm)(r,{icon:o.is_like?"favorite":"favorite_border",style:{color:"#800000"},size:"md",flat:"",round:"",onClick:a.like},null,8,["icon","onClick"]),[[f.F8,!o.loading]]),(0,m.wy)((0,m.Wm)(n,{indeterminate:"",color:"primary"},null,512),[[f.F8,o.loading]])])}const Oo={name:"ButtonLike",mixins:[ti.Z],mounted(){this.init()},data(){return{is_like:!1,loading:!1}},computed:{userId(){const{user:e}=this.$store.state.pages;if(e)return e.id}},methods:{init(){this.loading=!0,this.$db.users.getUserLike(this.userId,this.page.id,this.view.id).then((e=>{this.is_like="1"===e,this.loading=!1}))},like(){this.is_like=!this.is_like;const e={user_id:this.userId,page_id:this.page.id,view_id:this.view.id,is_like:this.is_like?"1":"0",page_title:this.page.title,view_name:this.view.name};this.$db.users.sendUserLike(e).then((()=>{}))}}},Co=(0,Z.Z)(Oo,[["render",Lo]]),$o=Co;F()(Oo,"components",{QBtn:ee.Z,QCircularProgress:X.Z});const Eo={name:"Text",components:{ButtonLike:$o},mixins:[ti.Z],computed:{text(){return this.params.text??""}},mounted(){const{textAlign:e}=this.params;if(e)switch(e){case"left":this.$refs.text.classList.add("text-left");break;case"center":this.$refs.text.classList.add("text-center");break;case"right":this.$refs.text.classList.add("text-right");break;default:}}},Po=(0,Z.Z)(Eo,[["render",So]]),qo=Po,Uo={style:{overflow:"auto"},class:"row items-center"},Qo={ref:"text",class:"col",style:{"margin-right":"15px","white-space":"pre-line"}},Zo=["innerHTML"],Bo={class:"col-auto",style:{"padding-right":"10px"}};function Yo(e,t,s,i,o,a){const r=(0,m.up)("ButtonLike");return(0,m.wg)(),(0,m.iD)("div",Uo,[(0,m._)("div",Qo,[(0,m._)("div",{innerHTML:a.html},null,8,Zo)],512),(0,m.wy)((0,m._)("div",Bo,[(0,m.Wm)(r,{view:e.view,page:e.page},null,8,["view","page"])],512),[[f.F8,!0===e.params.accept_like]])])}s(80812);const Fo={name:"Text",components:{ButtonLike:$o},mixins:[ti.Z],computed:{html(){return decodeURI(window.atob(this.params.html??""))}}},Vo=(0,Z.Z)(Fo,[["render",Yo]]),Wo=Vo;function Ho(e,t,s,i,o,a){const r=(0,m.up)("q-img");return(0,m.wg)(),(0,m.j4)(r,{src:a.url,fit:"cover",class:"col-auto",style:{"border-radius":"12px"}},null,8,["src"])}const Ro={name:"Image",mixins:[ti.Z],computed:{url(){return this.params.url}}},Go=(0,Z.Z)(Ro,[["render",Ho]]),Jo=Go;function Ko(e,t,s,i,o,a){const r=(0,m.up)("q-space");return(0,m.wg)(),(0,m.j4)(r)}F()(Ro,"components",{QImg:B.Z});const Xo={name:"Space",mixins:[ti.Z],computed:{height(){return this.params.height||0}}},ea=(0,Z.Z)(Xo,[["render",Ko]]),ta=ea;function sa(e,t,s,i,o,a){const r=(0,m.up)("q-video");return(0,m.wg)(),(0,m.j4)(r,{src:a.url,style:{"border-radius":"12px","margin-left":"15px","margin-right":"15px"},ratio:16/9},null,8,["src"])}F()(Xo,"components",{QSpace:le.Z});const ia={name:"Video",mixins:[ti.Z],computed:{url(){return this.params.url}}},oa=(0,Z.Z)(ia,[["render",sa]]),aa=oa;function ra(e,t,s,i,o,a){return(0,m.wg)(),(0,m.iD)("div",{class:"row q-gutter-x-sm items-center",style:(0,y.j5)({overflow:a.overflow})},[((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o.components,((e,t)=>((0,m.wg)(),(0,m.j4)((0,m.LL)(e.name),{class:"col",key:t,params:e.params},null,8,["params"])))),128))],4)}F()(ia,"components",{QVideo:Cs.Z});const na={name:"Container",mixins:[ti.Z],props:{view:{type:Object,default:void 0}},mounted(){const{uuid:e}=this.view;this.load(e)},computed:{overflow(){return this.params.overflow??""}},data(){return{components:[]}},methods:{load(e){this.$factory.loadViews(e).then((e=>{this.components=e,this.error=0===e.length}))}}},la=(0,Z.Z)(na,[["render",ra]]),ua=la,ca={class:"column q-gutter-y-sm",style:{"margin-right":"15px"}};function da(e,t,s,i,o,a){const r=(0,m.up)("q-img"),n=(0,m.up)("q-input"),l=(0,m.up)("DefaultButton");return(0,m.wg)(),(0,m.iD)("div",ca,[(0,m.Wm)(n,{class:"input",readonly:this.isSent,label:e.params.label,ref:"input",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),type:"text",borderless:"","input-style":"color: #85371F",debounce:400,autogrow:o.autogrow,maxlength:o.autogrow?o.maxLength:-1,onKeydown:(0,f.D2)((0,f.iM)(a.send,["ctrl","prevent"]),["enter"])},{prepend:(0,m.w5)((()=>[(0,m.wy)((0,m.Wm)(r,{src:e.params.icon_url,style:{color:"#EAB191",height:"38px",width:"38px"}},null,8,["src"]),[[f.F8,e.params.icon_url]])])),_:1},8,["readonly","label","modelValue","autogrow","maxlength","onKeydown"]),(0,m.wy)((0,m.Wm)(l,{label:"Отправить",onClick:a.send,loading:o.loading},null,8,["onClick","loading"]),[[f.F8,o.inited&&!this.isSent]])])}const ha={name:"Input",components:{DefaultButton:ze.Z},mixins:[ti.Z],props:{tag:{type:String,default:void 0},icon:{type:String,default:void 0}},mounted(){this.init()},data(){return{loading:!1,inited:!1,value:void 0,autogrow:!0,maxLength:-1,isSent:!1}},methods:{init(){this.loading=!0,this.isSent=!1,this.value=void 0;const{user:e}=this.$store.state.pages;this.loading=!0,this.$db.users.getUserInput(e.id,this.page.id,this.params.tag).then((e=>{e&&(this.value=e,this.isSent=!0),this.loading=!1,this.inited=!0}))},select(){this.$refs.input.select()},send(){const{user:e}=this.$store.state.pages;this.loading=!0;const t=this.page.title,{label:s}=this.params;this.$db.users.sendUserInput(e.id,this.page.id,this.params.tag,this.value||"",t,s).then((()=>{this.isSent=!0,this.loading=!1,this.$q.notify("Отправлено")}))}}};var pa=s(64689);const ga=(0,Z.Z)(ha,[["render",da],["__scopeId","data-v-5f9165be"]]),Ma=ga;F()(ha,"components",{QInput:pa.Z,QImg:B.Z});const ma={class:"column q-gutter-y-sm",style:{"margin-right":"15px"}},ya={class:"text-weight-bold"},fa={class:"row q-gutter-x-md"},Ia={class:"col"};function wa(e,t,s,i,o,a){const r=(0,m.up)("q-radio"),n=(0,m.up)("q-linear-progress"),l=(0,m.up)("DefaultButton");return(0,m.wg)(),(0,m.iD)("div",ma,[(0,m._)("div",ya,(0,y.zw)(e.params.label),1),((0,m.wg)(!0),(0,m.iD)(m.HY,null,(0,m.Ko)(o.options,((e,t)=>((0,m.wg)(),(0,m.iD)("div",{key:t},[(0,m.wy)((0,m.Wm)(r,{label:e,"model-value":o.optionIndex===t,val:!0,onClick:e=>a.clickRadio(t)},null,8,["label","model-value","onClick"]),[[f.F8,!o.isSent]]),(0,m.wy)((0,m._)("div",fa,[(0,m._)("div",{class:(0,y.C_)({"text-weight-bold":+o.optionIndex===t}),style:{width:"35px"}},(0,y.zw)(o.resultPercents[t])+"% ",3),(0,m._)("div",Ia,[(0,m.wy)((0,m._)("div",{class:"text-weight-bold"},(0,y.zw)(e),513),[[f.F8,+o.optionIndex===t]]),(0,m.wy)((0,m._)("div",null,(0,y.zw)(e),513),[[f.F8,+o.optionIndex!==t]]),(0,m.Wm)(n,{value:o.resultPercents[t]/100,dark:""},null,8,["value"]),(0,m.wy)((0,m.Wm)(n,{value:.01,dark:""},null,8,["value"]),[[f.F8,0===+o.resultPercents[t]]])])],512),[[f.F8,o.isSent]])])))),128)),(0,m.wy)((0,m._)("div",{class:"text-caption"},(0,y.zw)(a.getVotesCount()),513),[[f.F8,o.totalVotes]]),(0,m.wy)((0,m.Wm)(l,{label:"Проголосовать",onClick:a.send,loading:o.loading},null,8,["onClick","loading"]),[[f.F8,o.inited&&!this.isSent]])])}const Da={name:"Poll",components:{DefaultButton:ze.Z},mixins:[ti.Z],mounted(){this.init()},data(){return{loading:!1,inited:!1,isSent:!1,options:[],resultPercents:[],optionIndex:void 0,totalVotes:void 0}},methods:{init(){this.loading=!0,this.isSent=!1;const{user:e}=this.$store.state.pages;this.loading=!0,this.view.options&&(this.options=this.view.options.split("\n"),this.resultPercents=new Array(this.options.length).fill(0)),this.$db.users.getUserPoll(e.id,this.page.id,this.view.id).then((e=>{e&&e.option_index&&(this.optionIndex=e.option_index,this.isSent=!0),this.loadStats()}))},send(){if(!this.optionIndex&&0!==this.optionIndex)return void this.$q.notify("Выберите один вариант");const{user:e}=this.$store.state.pages;this.loading=!0;const t=this.page.title,{label:s}=this.params,i=this.options[this.optionIndex],o={user_id:e.id,page_id:this.page.id,poll_id:this.view.id,option_index:this.optionIndex,option_label:i,page_title:t,poll_title:s};this.totalVotes||(this.totalVotes=0),this.totalVotes+=1,this.$db.users.sendUserPoll(o).then((()=>{this.isSent=!0,this.loading=!1,this.$q.notify("Спасибо за Ваш голос!"),this.loadStats()}))},clickRadio(e){this.optionIndex=e},loadStats(){this.$db.users.getPollStats(this.page.id,this.view.id).then((e=>{const t=new Array(this.options.length).fill(0);for(let i=0;i<e.length;i+=1){const s=e[i];t[s.option_index]+=1}const s=e.length;for(let i=0;i<t.length;i+=1)t[i]=(100*t[i]/s).toFixed(1);this.resultPercents=t,this.totalVotes=s,this.loading=!1,this.inited=!0}))},getVotesCount(){if(!this.totalVotes)return;const e=+this.totalVotes%20;let t="голосов";return 1===e&&(t="голос"),e>=2&&e<5&&(t="голоса"),`${this.totalVotes} ${t}`}}};var Na=s(51598);const ja=(0,Z.Z)(Da,[["render",wa],["__scopeId","data-v-613e9550"]]),ba=ja;F()(Da,"components",{QRadio:ji.Z,QLinearProgress:Na.Z});var ka=s(80687);const xa=(0,i.xr)((async({app:e})=>{window._=ge(),e.config.globalProperties.$pages=new d(e.config.globalProperties),e.config.globalProperties.$billing=new p(e.config.globalProperties),e.config.globalProperties.$factory=new M(e.config.globalProperties),e.config.globalProperties.$db=new g.Db(e),e.config.globalProperties.$host=()=>{let e="http://";return"sot.club"===window.location.hostname&&(e="https://"),`${e}${window.location.hostname}`},e.config.globalProperties.$q.isMobile=e.config.globalProperties.$q.platform.is.mobile,e.config.globalProperties.$emitter=(0,ka.Z)(),e.component("Page",ie),e.component("PageBio",Oe),e.component("PageLogin",et),e.component("PageConfirmTel",Mt),e.component("PageConfirmVk",vt),e.component("PageCourse",Es),e.component("PageTask",Ps.Z),e.component("PageTasks",Ts.Z),e.component("PageQuiz",qs.Z),e.component("PageQuizResult",Us.Z),e.component("Tabs",he),e.component("PageCertificate2",ai),e.component("PageBuyCourse",xi),e.component("PagePayForCourse",vi.Z),e.component("PageBuySuccess",$i),e.component("PageMyCourses",Zi),e.component("PageSubscription",io),e.component("PageBuySubscription",wo),e.component("Button",_o),e.component("DefaultButton",ze.Z),e.component("Text",qo),e.component("Html",Wo),e.component("Image",Jo),e.component("Space",ta),e.component("Video",aa),e.component("Container",ua),e.component("Textinput",Ma),e.component("Poll",ba)}))},91352:()=>{Array.range=function(e){return Array.apply(null,Array(e)).map(((e,t)=>t))},Object.defineProperty(Array.prototype,"chunk",{value:function(e){return Array.range(Math.ceil(this.length/e)).map(((t,s)=>this.slice(s*e,s*e+e)))}}),Math.hRandom=function(e,t=!1){let s="",i=-1;t&&(i=Math.floor(Math.random()*e)+1);for(let o=0;o<e;o+=1)o===i&&(s+="."),s+=Math.floor(10*Math.random());return s}},72496:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});class i{static getTaskResultText(e,t,s,o,a,r=0){let n="",l=!1;const u=+t.success_score;if(+a>=+u||0===u){const e=+t.add_stars+r;n=`⭐ Ваш результат по теме: ${e} ${i.getStarsWordCount(+e)}`,l=!0}else n=i.getTextNotSuccess(t,+o.stars+ +o.extra_stars,o.title);return{text:n,positive:l}}static getTextNotSuccess(e,t,s){return`Вы не набрали достаточное количество баллов для получения звезды по результатам темы ${e.num}. ${e.title}. Итого у Вас звезд: ${t} по курсу ${s}`}constructor(e,t,s,i){this.context=e,this.task=t,this.user=s,this.course=i}getText(e,t=!0){const s=+this.task.add_stars,o=this.getStarsCount(t),a=`${s} ${this.getStarsWordTo(s)}`,r=`${o} ${i.getStarsWordCount(o)}`;return e=e.replaceAll("$test_stars",a),e=e.replaceAll("$total_stars",r),e=e.replaceAll("$task",this.task.title.trim()),this.course&&this.course.title&&(e=e.replaceAll("$course",this.course.title.trim())),e}getStarsCount(e=!0){const t=+this.task.add_stars;return e?+this.course.stars+ +this.course.extra_stars+t:+this.course.stars+ +this.course.extra_stars}static getStarsWordTo(e){return e>20&&(e%=10),1===e?"звезду":e>1&&e<5?"звезды":"звезд"}static getStarsWordCount(e){return e>20&&(e%=10),1===e?"звезда":e>1&&e<5?"звезды":"звезд"}}},70091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var i=s(16345),o=s(28443);const a=s(11488),r={methods:{formatTel(e){return e?(0===e.length||("7"!==e[0]&&(e=`7${e}`),"7"===e[0]&&11===e.length&&(e=`+7 (${e.slice(1,4)}) ${e.slice(4,7)}-${e.slice(7,9)}-${e.slice(9,11)}`)),e):e},formatMonths(e){if(!e)return;e=+e;let t=`${e} месяцев`;const s=e%20;return 1===s&&(t=`${e} месяц`),s>=2&&s<5&&(t=`${e} месяца`),s>=5&&s<20&&(t=`${e} месяцев`),t},formatDays(e){if(!e)return;e=+e;let t=`${e} дней`;const s=e%20;return 1===s&&(t=`${e} день`),s>=2&&s<5&&(t=`${e} дня`),s>=5&&s<20&&(t=`${e} дней`),t},formatDateShort(e){const t=a(e);return t.isValid()?t.format("DD.MM.YYYY"):""},formatDateTimeShort(e){const t=a(e);return t.isValid()?"00:00"===t.format("HH:mm")?t.format("DD.MM.YYYY"):t.format("DD.MM.YYYY HH:mm"):""},formatDateShortNoYear(e){const t=a(e),s=a();if(t.isValid())return t.format("YYYY")===s.format("YYYY")?t.locale("ru").format("DD MMM"):t.format("DD.MM.YYYY")},formatDateShortNoYearTime(e){const t=a(e),s=a();return t.isValid()?t.format("YYYY")===s.format("YYYY")?t.locale("ru").format("DD MMM HH:mm"):t.format("DD.MM.YYYY HH:mm"):""},formatDateTime(e){if(e&&"0000-00-00 00:00:00"!==e)return a(e).format("DD.MM.YYYY HH:mm")},formatPrice(e){if(!e)return"0 ₽";const t=parseFloat(e).toFixed(2),s=(+t).toLocaleString();return`${s} ₽`},formatPriceNoZero(e){if(!e)return"";const t=parseFloat(e).toFixed(0),s=(+t).toLocaleString();return`${s} ₽`},formatPriceNoRub(e){if(!e)return"";const t=parseFloat(e).toFixed(2),s=(+t).toLocaleString();return`${s}`},formatSeconds(e){return a.utc(1e3*e).format("HH:mm:ss")},formatSec(e){e=+e;const t=Math.floor(e/60).toString().padStart(2,"0"),s=Math.round(e-60*t).toString().padStart(2,"0");return`${t} м ${s} с`},formatSecOnlyMin(e){e=+e;const t=Math.floor(e/60).toString().padStart(2,"0");return`${t} мин`},getAge(e){const t=a(e),s=a(),i=s.diff(t,"year");return this.ageToStr(i)},getGender(e){return"1"===e?"мужской":"женский"},ageToStr(e){if(_.isNaN(e))return"";const t=["год","года","лет"],s=[2,0,1,1,1,2],i=t[e%100>4&&e%100<20?2:s[e%10<5?e%10:5]];return`${e} ${i}`},statusShown(e){const t=+e;switch(t){case 0:return"Новый";case 1:return"Обучение";case 2:return"Отказ";case 3:return"Диплом";case 4:return"Успех";default:return""}},statusIcon(e){const t=+e;switch(t){case 0:return"schedule";case 1:return"school";case 2:return"block";case 3:return"stars";case 4:return"attach_money";default:return""}},statusColor(e){const t=+e;switch(t){case 0:return"grey";case 1:return"primary";case 2:return"negative";case 3:return"#726ba7";case 4:return"info";default:return""}},categoryName(e){switch(e){case"1.100":return"инвалид";case"2.100":return"безработный";case"3.75":return"безработный";case"4.75":return"родитель";case"5.50":return"родитель";case"6.50":return"студент";case"7.50":return"бюджет";case"8.50":return"малоимущий";case"100.0":return"герой";default:return""}},formatDateTimeQuoted(e){const t=a(e,"DD.MM.YYYY HH:mm");if(!t.isValid())return"NULL";const s=t.format("YYYY-MM-DD HH:mm");return`'${s}'`},getDocTypeShown(e){switch(e){case"retrain":return"Диплом о профессиональной переподготовке";case"advance":return"Удостоверение о повышении квалификации";default:return""}},getAddProgShown(e){switch(e){case"advance":return"Повышение квалификации";case"retrain":return"Профессиональная переподготовка";default:return""}},getFilename(e){return e&&e.startsWith("http")?e.replace(/^.*[\\\/]/,""):e},humanFileSize(e){if(!e)return"";const t=0===e?0:Math.floor(Math.log(e)/Math.log(1024));return`${1*(e/Math.pow(1024,t)).toFixed(2)} ${["байт","КБ","МБ","ГБ","ТБ"][t]}`},formatDateIntervalHint(e){if(!e)return;if(e.from&&e.to){const t=a(e.from).format("DD.MM.YYYY"),s=a(e.to).format("DD.MM.YYYY");return`${t} - ${s}`}const t=a(e,"YYYY/MM/DD",!0);return t.isValid()?t.format("DD.MM.YYYY"):e},getDefaultAvatar(e){const t=["Capricorn.svg","Aqvarius.svg","Pisces.svg","Aries.svg","Taurus.svg","Gemini.svg","Cancer.svg","Leo.svg","Virgo.svg","Libra.svg","Scorpio.svg","Sagittarius.svg"];if(!e)return"new-icons/User Male.svg";const{birthday:s}=e,{gender:i}=e;if(!s&&!i)return"new-icons/User Male.svg";const o=a(s,"YYYY-MM-DD");if(o.isValid()){const e=o.month()+1,s=o.date();let i;if((3===e&&s>=21||4===e&&s<=20)&&(i=t[3]),(4===e&&s>=21||5===e&&s<=21)&&(i=t[4]),(5===e&&s>=22||6===e&&s<=21)&&(i=t[5]),(6===e&&s>=22||7===e&&s<=22)&&(i=t[6]),(7===e&&s>=23||8===e&&s<=21)&&(i=t[7]),(8===e&&s>=22||9===e&&s<=23)&&(i=t[8]),(9===e&&s>=24||10===e&&s<=23)&&(i=t[9]),(10===e&&s>=24||11===e&&s<=22)&&(i=t[10]),(11===e&&s>=23||12===e&&s<=22)&&(i=t[11]),(12===e&&s>=23||1===e&&s<=20)&&(i=t[0]),(1===e&&s>=21||2===e&&s<=19)&&(i=t[1]),(2===e&&s>=20||3===e&&s<=20)&&(i=t[2]),!i)return;return`new-icons/horoscope/${i}`}return 1===+i?"new-icons/User Male.svg":"new-icons/User Female.svg"},getStatusShown(e){let t="ОК";return"empty"===e&&(t="Пусто"),"dup-internal"===e&&(t="Дубляж внутренний"),"dup-external"===e&&(t="Дубляж внешний"),"rich"===e&&(t="Обогащен"),t},getQuestionTypeShown(e){switch(e){case"input":return"Строка";case"options":return"Выбор";case"t-poll-single":return"Т-одиночный";case"t-poll-multi":return"Т-множественный";case"photo":return"Картинка";case"file":return"Файл";case"chat":return"Операторский";default:return e}},stripTags(e){return(0,i.ju)(e)},formatProvider(e){const[t]=o.o.filter((t=>t.value===e));return t?.label||e},validateNumber(e,t,s){if(!e)return!0;const i=Number(e);return!Number.isNaN(i)&&(!t&&!s||!(void 0!==t&&i<t)&&!(void 0!==s&&i>s))}}},n=r},8108:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});s(65663);var i=s(10798);const o={data(){return{loading:!1,course:void 0,tariffs:void 0,activeTariff:void 0,extraPrice:0,extraTariffs:void 0}},methods:{async load(){this.loading=!0;const{alias:e}=this.$route.params;e&&(this.courseId=await i.h.locateCourseId(e)),this.$refs.bar&&this.$refs.bar.start(),await this.$db.tasks.getCoursePrices(this.courseId).then((e=>{this.tariffs=e})),await this.$db.tasks.getCourses(`id = '${this.courseId}'`).then((e=>{this.course=e[0]})),this.loadExtraTariffs(),this.$refs.bar&&this.$refs.bar.stop(),this.loading=!1},loadExtraTariffs(){this.extraPrice=0,this.extraTariffs=void 0;const e=this.tariffs.filter((e=>"0"===e.tariff))[0];e&&(this.extraPrice=parseFloat(e.price));const t=[];let s=.5*this.extraPrice;t.push({type:0,description:`${s} ₽ для студентов, бюджетников, малообеспеченных граждан, родителей с детьми до 3х лет, с заработной платой выше среднего по региону`,price:s}),s=.25*this.extraPrice,t.push({type:1,description:`${s} ₽ для безработных, не стоящих на учете в центре занятости и родителей с детьми до 3х лет, с заработной платой ниже среднего по региону`,price:s}),s=0*this.extraPrice,t.push({type:2,description:`${s} ₽ для безработных, стоящих на учете в центре занятости для инвалидов`,price:s}),this.extraTariffs=t}}},a=o},49790:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const i={mounted(){setTimeout((()=>{this.restoreScroll(!0)}),300)},methods:{onScroll(e){const{page:t}=this.$store.state.pages,s=t.uuid||t.to;e.target?(sessionStorage.setItem(`scroll-source-${s}`,"div"),sessionStorage.setItem(`scroll-target-id-${s}`,e.target.id),sessionStorage.setItem(`scroll-target-scrollTop-${s}`,e.target.scrollTop)):e.verticalPosition&&(sessionStorage.setItem(`scroll-source-${s}`,"scrollArea"),sessionStorage.setItem(`scroll-verticalPosition-${s}`,e.verticalPosition))},restoreScroll(e=!0,t=void 0){const{page:s}=this.$store.state.pages;if(t||(t=s),this.loading)return void setTimeout((()=>{this.restoreScroll(!0)}),300);const i=t.uuid||t.to,o=sessionStorage.getItem(`scroll-source-${i}`);if(o){if("scrollArea"===o)if(this.$refs.scrollArea){const e=sessionStorage.getItem(`scroll-verticalPosition-${i}`);this.$refs.scrollArea.setScrollPosition("vertical",e)}else e&&setTimeout((()=>{this.restoreScroll(!1)}),300);if("div"===o){const e=sessionStorage.getItem(`scroll-target-scrollTop-${i}`);this.$refs.pageMainDiv?this.$refs.pageMainDiv.scrollTop!==e&&(this.$refs.pageMainDiv.scrollTop=e,setTimeout((()=>{this.$refs.pageMainDiv.scrollTop=e}),300)):setTimeout((()=>{this.restoreScroll(!1)}),300)}}else e&&setTimeout((()=>{this.restoreScroll(!1)}),500)}}},o=i},28443:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});const i=[{label:"1T",value:"1t"},{label:"Росноу",value:"rosnou"},{label:"Финка",value:"fin"},{label:"Обрсоюз",value:"obr"},{label:"Тест",value:"test"}]},73488:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const i={props:{question:{type:Object,default:void 0}},computed:{q(){return this.question.question},persistId(){const{question:e}=this;if(!e)return;const{id:t}=e;return`persist-${t}`}},data(){return{optionsVisible:!0,response:void 0,incorrectMessage:void 0}}},o=i},44062:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const i={props:{params:{type:Object,default:void 0},page:{type:Object,default:void 0},view:{type:Object,default:void 0}}},o=i},42699:(e,t,s)=>{"use strict";s.d(t,{$6:()=>u,F2:()=>M,Ju:()=>l,ZP:()=>n,_A:()=>d,iq:()=>g,lO:()=>c,ov:()=>p,pd:()=>a,qL:()=>r,uj:()=>h});s(65663);var i=s(16345);const o=s(11488);function a(e){return e=e.replaceAll("\r\n",""),e=e.replaceAll("\n",""),e=e.replaceAll("\t",""),e}function r(e){return e?e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t"):e}function n(e){return e?"string"!==typeof e?e:e.replace(/[\0\x08\x09\x1a\n\r"'\\\%]/g,(e=>{switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\t":return"\\t";case"":return"\\z";case"\n":return"\\n";case"\r":return"\\r";case'"':case"'":case"\\":return`\\${e}`;case"%":return e}})):""}function l(e){const t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/;return""!==e&&!!t.test(e)}function u(e){if(e&&(e=e.replace(/[^0-9]/g,""),e&&"+"===e[0]&&(e=e.slice(1,e.length)),11===e.length))return 11===e.length&&"8"===e[0]&&(e=e.slice(1,e.length),e=`7${e}`),e}function c(e){const t="ёйцукенгшщзхъфывапролджэячсмитьбю";if(!e)return 0;let s=0;for(let o=0;o<e.length;o+=1){const i=e[o];t.includes(i.toLowerCase())?s+=2:s+=1}const i=Math.ceil(s/144);return i}function d(e){return e?(e=e.replace(/\n/g,""),e=e.replace(/\r/g,""),e):e}function h(e,t=8,s=19){const a=(0,i.XF)(t,s).toString(),r=(0,i.XF)(0,59).toString(),n=(0,i.XF)(0,59).toString();if(e.includes("{")){const t=JSON.parse(e);if(t&&t.from&&t.to){const e=o(t.from),s=o(t.to),l=s.diff(e,"days"),u=(0,i.XF)(0,l),c=e.add(u,"day").set({hours:a,minutes:r,seconds:n});return c.format("YYYY-MM-DD HH:mm:ss")}}const l=o(e).set({hours:a,minutes:r,seconds:n});return l.format("YYYY-MM-DD HH:mm:ss")}function p(e){const t=[],s=e.split(" ");return s.every((e=>(t.includes(e)||t.push(e),!0))),t.join(" ").trim()}function g(e){if(e)return e=e||"",e=e.replaceAll("&amp;","&"),e=e.replaceAll("&laquo;","«"),e=e.replaceAll("&raquo;","»"),e=e.replaceAll("&#171;","«"),e=e.replaceAll("&#187;","»"),e=e.replaceAll("&ndash;","–"),e=e.replaceAll("&#124;","|"),e=e.replaceAll("&amp;","&"),e=e.replaceAll("\r\n"," "),e=e.replaceAll('"','""'),`"${e}"`}function M(e=8){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="";for(let i=0;i<e;i+=1){const e=Math.floor(Math.random()*t.length);s+=t.charAt(e)}return s}},16257:(e,t,s)=>{"use strict";s.d(t,{accessInfo:()=>a,ji:()=>n,pW:()=>r});var i=s(42214);class o{constructor(){this.loaded=!1,this.accessRows=[],this.accessRowsByTags=[],this.isSuperadmin=!1,this.operatorId=void 0,this.logout=void 0,this.operator=void 0}async load(){localStorage.removeItem("operator-hashtags");const e=localStorage.getItem("operatorId");let t=!1;if(e?await(0,i.queryBot2)("get-operator-info",{operatorId:e}).then((e=>{const[s]=e.data;if(this.operator=s,s){let e=1;const{isSuperadmin:t}=s;e="1"===t?3:1,localStorage.setItem("sprint-is-admin-logged",e),localStorage.setItem("operator-hashtags",s.tags)}else this.logout&&this.logout(),t=!0})):(this.logout&&this.logout(),t=!0),t)return;const s=localStorage.getItem("sprint-is-admin-logged");this.operatorId=localStorage.getItem("operatorId"),3!==+s?(s&&(this.isSuperadmin="1"===localStorage.getItem("isSuperadmin"),await(0,i.queryBot2)("get-operator-acc",{operatorId:e}).then((e=>{this.accessRows=e.data})),await(0,i.queryBot2)("get-tags-acc").then((e=>{this.accessRowsByTags=e.data}))),this.loaded=!0):this.isSuperadmin=!0}}const a=new o,r={None:0,Read:1,Modify:2,Add:3,Remove:4,Access:5},n=[{label:"Нет",value:r.None,icon:"lock"},{label:"Видеть",value:r.Read,icon:"visibility"},{label:"Менять",value:r.Modify,icon:"edit"},{label:"Добавлять",value:r.Add,icon:"add"},{label:"Удалять",value:r.Remove,icon:"delete"},{label:"Права",value:r.Access,icon:"key"}]},2438:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u,a:()=>c});var i=s(32851),o=s.n(i),a=s(63339),r=s(42214);async function n(e){function t(e){const t=o()(`${e}`).substring(0,12);return t}const s=`select users.chat_id, TIMESTAMPDIFF(HOUR, createdAt, NOW()) AS hours, uuid, lifeHours\n        from temporary_urls\n        inner join users on users.id = temporary_urls.userId\n        having temporary_urls.uuid = '${e}' and hours < lifeHours    \n    `;let i;if(await(0,r.queryBot)(s).then((e=>{const[t]=e.data;i=t?.chat_id,t||(window.location.href=`${window.location.origin}/incorrect_url`)})),i)return t(i)}function l({store:e,query:t}){return new Promise((async s=>{let{key:i}=t;const{t:o}=t;if(o?i=await n(o):i||(i=localStorage.getItem("key"),localStorage.setItem("key",i)),!i)return void s(!1);if("null"===i)return void s(!1);const r=new a.Db;r.auth(i).then((t=>{t?localStorage.setItem("key",i):localStorage.removeItem("key"),e.commit("pages/setUser",t),s(t)}))}))}const u=l;function c(){localStorage.removeItem("key"),localStorage.removeItem("unti.accessToken"),localStorage.removeItem("unti.expiresIn"),localStorage.removeItem("unti.refreshToken"),localStorage.removeItem("unti.scope"),localStorage.removeItem("unti.tokenType")}},63339:(e,t,s)=>{"use strict";s.d(t,{Db:()=>M});var i=s(42214),o=s(43904),a=s.n(o),r=s(31680),n=s(67160),l=s(42699),u=s(16345),c=s(91870);const d=s(11488);class h{constructor(e){this.app=e,this.error=void 0,this.context=this.app.config.globalProperties,this.$q=this.context.$q}createCode(e){const t=Math.floor(8999*Math.random()+1e3);return new Promise(((s,o)=>{(0,i.query)(`delete from preregister where tel = '${e}'`).then((()=>{const a=`insert into preregister ( tel,  code  ) values ( '${e}',  '${t}'  )`;(0,i.query)(a).then((e=>{e.data.id?s(t):(console.error(e.data),o(e.data))})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}))}update(e){return this.error=void 0,new Promise(((t,s)=>{const o=`update users set  shownname = '${(0,l.ZP)(e.shownname)}',  region_name = '${(0,l.ZP)(e.region_name)}',  region_number = '${(0,l.ZP)(e.region_number)}',  school_number = '${(0,l.ZP)(e.school_number)}',  position = '${(0,l.ZP)(e.position)}',  bio = '${(0,l.ZP)(e.bio)}',  tel = '${(0,l.ZP)(e.tel)}',  chat_channel = '${e.chat_channel}'  where id = ${e.id}`;(0,i.queryBot)(o).then((i=>{"OK"===i.data.id?t(e):s(i.data)})).catch((e=>{this.error=e,s(e.toString())}))}))}update2(e,t){return this.error=void 0,new Promise(((s,o)=>{let a="";for(const e in t){const s=t[e];a+="NULL"===s?`${e} = NULL,`:`${e} = '${(0,l.ZP)(s)}',`}a.length>1&&(a=a.substring(0,a.length-1));const r=`update users set  ${a}  where id = ${e}`;(0,i.queryBot)(r).then((t=>{"OK"===t.data.id?s(e):o(t.data)})).catch((e=>{this.error=e,o(e.toString())}))}))}updateRef(e,t){return this.error=void 0,new Promise(((s,o)=>{const a=`update users set  ref_url = '${(0,l.ZP)(t)}'  where id = ${e}`;(0,i.queryBot)(a).then((e=>{"OK"===e.data.id?s():o(e.data)})).catch((e=>{this.error=e,o(e.toString())}))}))}updateFrom(e,t){return this.error=void 0,new Promise(((s,o)=>{const a=`update users set  from_url = '${(0,l.ZP)(t)}'  where id = ${e}`;(0,i.queryBot)(a).then((e=>{"OK"===e.data.id?s():o(e.data)})).catch((e=>{this.error=e,o(e.toString())}))}))}create(e){this.error=void 0;const t=new(a())({length:16})();return new Promise(((s,o)=>{const a=`insert into users ( shownname,  region_name,  region_number,  school_number,  position,  chat_id,  tel,  disable_sending  ) values ( '${e.shownname}',  '${e.region_name}',  "",  '${e.school_number}',  '${e.position}',  '${t}',  '${e.tel}',  1  )`;(0,i.queryBot)(a).then((i=>{this.removeFromPreregister(e.tel),i.data.id?(e.id=i.data.id,e.chat_id=t,e.stars=0,e.extra_stars=0,s(e)):(console.error(i),o(i.data))})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}findUser(e){return new Promise(((t,s)=>{e&&(e=`where ${e}`),(0,i.queryBot)(`select * from users ${e}`).then((e=>{t(e.data[0])})).catch((e=>{this.error=e,console.error(e),s(e.toString())}))}))}findByTel(e){return new Promise(((t,s)=>{(0,i.queryBot)(`select * from users where tel = '${e}'`).then((e=>{t(e.data[0])})).catch((e=>{this.error=e,console.error(e),s(e.toString())}))}))}removeFromPreregister(e){(0,i.query)(`delete from preregister where tel = '${e}'`)}sendChatQuestion(e,t,s,o,a){return new Promise(((r,n)=>{(0,i.queryBot2)("send-question-to-chat",{userId:e,taskId:t,courseId:o,questionId:a,text:s}).then((e=>{e.data.id?r():(console.error(e),n(e.data))})).catch((e=>{this.error=e,console.error(e),n(e.toString())}))}))}addStars(e,t){return this.error=void 0,new Promise(((s,o)=>{const a=`update users set  stars = stars + ${t}  where id = ${e}`;(0,i.queryBot)(a).then((e=>{"OK"===e.data.id?s():o(e.data)})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}updateStars(e){return this.error=void 0,new Promise(((t,s)=>{(0,i.queryBot2)("get-user-stars",{chatId:e}).then((o=>{const{sum:a}=o.data[0];(0,i.queryBot2)("update-user-stars",{stars:a,chatId:e}).then((()=>{t()})).catch((e=>{this.error=e,console.error(e),s(e.toString())}))}))}))}updateStarsForCourse(e,t){this.error=void 0;const s=e=>new Promise((s=>{(0,i.queryBot2)("get-user-stars-course",{chatId:t,courseId:e}).then((e=>{const{sum:t}=e.data[0];s(t)}))})),o=()=>new Promise((e=>{(0,i.queryBot2)("get-userid-by-chatid",{chatId:t}).then((t=>{if(t.data[0]){const{id:s}=t.data[0];e(s)}else e(null)}))})),a=()=>new Promise((t=>{(0,i.queryBot2)("get-course-id",{taskId:e}).then((e=>{if(console.log("r:",e),e.data[0]){const s=e.data[0].course_id;t(s)}else t(null)}))}));return new Promise(((e,t)=>{a().then((a=>{s(a).then((s=>{o().then((o=>{(0,i.queryBot)("update-user-cour-stars",{stars:s,userId:o,courseId:a}).then((()=>{e()})).catch((e=>{this.error=e,console.error(e),t(e.toString())}))}))}))}))}))}getUserChatTaskStars(e,t){return this.error=void 0,new Promise(((s,o)=>{const a=`select sum(stars_count) from chat  where has_star = 1 and user_id = '${e}' and task_id = '${t}'`;(0,i.queryBot)(a).then((e=>{const t=e.data[0];s(t?t["sum(stars_count)"]:0)})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}getLastUserChatTaskAnswer(e,t,s){return this.error=void 0,new Promise(((o,a)=>{(0,i.queryBot2)("get-last-chat-answer",{chatId:e,taskId:t,createdAt:s}).then((e=>{const t=e.data[0];t?o(t.message):o()})).catch((e=>{this.error=e,console.error(e),a(e.toString())}))}))}validateTel(e,t){return this.error=void 0,new Promise(((s,o)=>{const a=`update users set  tel = '${t}',  is_tel_validated = 1  where id = ${e}`;(0,i.queryBot)(a).then((e=>{"OK"===e.data.id?s():(console.error(e),o(e.data))})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}updateUserHashtags(e,t){return this.error=void 0,new Promise(((s,o)=>{const a=`update users set  hashtags = '${t}'  where id = ${e}`;(0,i.queryBot)(a).then((e=>{"OK"===e.data.id?s():(console.error(e),o(e.data))})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}updateUserField(e,t,s){return new Promise(((o,a)=>{const r=`update users set  ${t} = '${(0,l.ZP)(s)}'  where id = ${e}`;(0,i.queryBot)(r).then((e=>{"OK"===e.data.id?o():(console.error(e),a(e.data))})).catch((e=>{this.error=e,console.error(e),a(e.toString())}))}))}sendUserInput(e,t,s,o,a,r){return this.error=void 0,new Promise(((n,u)=>{const c=`insert into user_input  (page_id, user_id, tag, value, page_title, label)  values ( ${t},  ${e},  '${(0,l.ZP)(s)}',  '${(0,l.ZP)(o)}',  '${(0,l.ZP)(a)}',  '${(0,l.ZP)(r)}' )`;(0,i.queryBot)(c).then((e=>{e.data.id?n():(console.error(e),u(e))})).catch((e=>{this.error=e,console.error(e),u(e.toString())}))}))}getUserInput(e,t,s){return this.error=void 0,new Promise(((o,a)=>{const r=`select value from user_input  where tag = '${s}' and user_id = '${e}' and page_id = '${t}'`;(0,i.queryBot)(r).then((e=>{const t=e.data[0];t?o(t.value):o()})).catch((e=>{this.error=e,console.error(e),a(e.toString())}))}))}sendUserPoll(e){return this.error=void 0,new Promise(((t,s)=>{const o=`insert into user_poll  (page_id, user_id, poll_id, option_index, option_label, page_title, poll_title)  values ( ${e.page_id},  ${e.user_id},  ${e.poll_id},  ${e.option_index},  '${(0,l.ZP)(e.option_label)}',  '${(0,l.ZP)(e.page_title)}',  '${(0,l.ZP)(e.poll_title)}' )`;(0,i.queryBot)(o).then((e=>{e.data.id?t():s(e)})).catch((e=>{this.error=e,console.error(e),s(e.toString())}))}))}getUserPoll(e,t,s){return this.error=void 0,new Promise(((o,a)=>{const r=`select option_index from user_poll  where poll_id = ${s} and user_id = ${e} and page_id = ${t}`;(0,i.queryBot)(r).then((e=>{const t=e.data[0];t?o(t):o()})).catch((e=>{this.error=e,console.error(e),a(e.toString())}))}))}getPollStats(e,t){return this.error=void 0,new Promise(((s,o)=>{const a=`select * from user_poll  where poll_id = ${t} and page_id = ${e}`;(0,i.queryBot)(a).then((e=>{const t=e.data;t?s(t):s()})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}sendUserLike(e){return this.error=void 0,new Promise(((t,s)=>{const o=`insert into user_like  (user_id, page_id, view_id, is_like, page_title, view_name)  values ( ${e.user_id},  ${e.page_id},  ${e.view_id},  ${e.is_like},  '${(0,l.ZP)(e.page_title)}',  '${(0,l.ZP)(e.view_name)}' )  on duplicate key update is_like = ${e.is_like}`;(0,i.queryBot)(o).then((e=>{e.data.id?t():s(e)})).catch((e=>{this.error=e,console.error(e),s(e.toString())}))}))}getUserLike(e,t,s){return this.error=void 0,new Promise(((o,a)=>{const r=`select is_like from user_like  where view_id = ${s} and user_id = ${e} and page_id = ${t}`;(0,i.queryBot)(r).then((e=>{const t=e.data[0];t?o(t.is_like):o()})).catch((e=>{this.error=e,console.error(e),a(e.toString())}))}))}getUserCertificate(e,t){return this.error=void 0,new Promise(((s,o)=>{const a=`select created_at, user_id, url from user_certificates  where user_id = ${e} and button_id = ${t}`;(0,i.queryBot)(a).then((e=>{const t=e.data[0];t?s(t):s()})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}saveUserCertificate(e){return this.error=void 0,new Promise(((t,s)=>{const o=`insert into user_certificates  (user_id, button_id, url)  values ( ${e.user_id},  ${e.button_id},  '${(0,l.ZP)(e.url)}' )  on duplicate key update url = '${e.url}'`;(0,i.queryBot)(o).then((e=>{e.data.id?t():s(e)})).catch((e=>{this.error=e,console.error(e),s(e.toString())}))}))}getMyBalance(){const{user:e}=this.context.$store.state.pages;return this.getBalance(e.id)}getBalance(e){return new Promise(((t,s)=>{(0,i.queryBot)(`select balance from users where id = '${e}'`).then((i=>{i.data[0]?t(i.data[0].balance):s("User not found, id:",e)})).catch((e=>{this.error=e,console.error(e),s(e.toString())}))}))}addBalanceTransaction(e,t,s,o,a,r){return new Promise(((n,u)=>{this.getBalance(e).then((c=>{const d=`INSERT INTO balance_transactions (user_id, amount, type, title, product_id, product_type, balance_after) VALUES (  ${e},  '${t}',  ${r},  '${(0,l.ZP)(s)}',  ${a},  ${o},  '${c}')`;(0,i.queryBot)(d).then((e=>{e.data.id?n(!0):u("addBalanceTransaction error:",e)})).catch((e=>{this.error=e,console.error(e),u(e.toString())}))}))}))}addToMyProducts(e,t,s,o,a=void 0,r=void 0){return new Promise(((n,l)=>{let u=`INSERT INTO user_products (user_id, type, product_id, price, tariff, valid_until_date) VALUES (  ${e},  ${t},  ${s},  '${o}',  '${r?r.tariff:"1"}', `;u+=a?` '${d(a).format("YYYY-MM-DD")}')`:" null)",(0,i.queryBot)(u).then((e=>{e.data.id,n(!0)})).catch((e=>{this.error=e,console.error(e),l(e.toString())}))}))}buyCourse(e,t,s,o){const{user:a}=this.context.$store.state.pages;return new Promise(((r,n)=>{(0,i.queryBot)(`update users set balance = balance - ${e} where id = '${a.id}'`).then((i=>{"OK"===i.data.id?this.addBalanceTransaction(a.id,e,`Покупка курса: ${s}`,1,t,200).then((s=>{s?this.addToMyProducts(a.id,1,t,e,void 0,o).then((e=>{r(e)})):n("Cannot add transaction")})):n("User not found, id:",a.id)})).catch((e=>{this.error=e,console.error(e),n(e.toString())}))}))}buySubscription(e,t,s,o){const{user:a}=this.context.$store.state.pages;return new Promise(((r,n)=>{(0,i.queryBot)(`update users set balance = balance - ${e} where id = '${a.id}'`).then((i=>{"OK"===i.data.id?this.addBalanceTransaction(a.id,e,`Покупка подписки: ${o}`,2,t,202).then((i=>{i?this.addToMyProducts(a.id,2,t,e,s).then((e=>{r(e)})):n("Cannot add transaction")})):n("User not found, id:",a.id)})).catch((e=>{this.error=e,console.error(e),n(e.toString())}))}))}getBoughtCourseInfo(e){return new Promise((t=>{const{user:s}=this.context.$store.state.pages;s?(0,i.queryBot2)("get-bought-course-info",{userId:s.id,courseId:e}).then((e=>{t(e.data[0])})):t(void 0)}))}isCourseBought(e){const{user:t}=this.context.$store.state.pages;return new Promise(((s,o)=>{const a=`select count(*) as count from user_products where user_id = '${t.id}' and type = 1 and product_id = ${e}`;(0,i.queryBot)(a).then((o=>{let a=!1;if(o.data[0]&&(a=o.data[0].count>0),a)s({hasBought:a});else{const o=`select count(*) as count, subscription_products.subscription_id from user_products  join subscription_products on subscription_products.product_id = '${e}' and subscription_products.type = 1  where user_id = '${t.id}' and DATE(valid_until_date) >= CURRENT_DATE() `;(0,i.queryBot)(o).then((e=>{e.data[0]&&(a=e.data[0].count>0,s({hasBought:a,subscription_id:e.data[0].subscription_id}))}))}})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}getSubscriptionBought(e){const{user:t}=this.context.$store.state.pages;return new Promise(((s,o)=>{(0,i.queryBot)(`select * from user_products where user_id = '${t.id}' and type = 2 and product_id = ${e}`).then((e=>{e.data[0]?s(e.data[0]):s(!1)})).catch((e=>{this.error=e,console.error(e),o(e.toString())}))}))}getMyBoughtCourses(){const{user:e}=this.context.$store.state.pages;return new Promise(((t,s)=>{const o=`select user_products.created_at, user_products.type, user_products.product_id, courses.title, courses.author, courses.id as id, courses.adv_text, courses.alias from user_products inner join courses on courses.id = user_products.product_id and user_products.type = 1 where user_id = ${e.id} order by created_at desc`;(0,i.queryBot)(o).then((e=>{t(e.data)})).catch((e=>{this.error=e,console.error(e),s(e.toString())}))}))}getQuestionResult(e,t,s,i){if(!e.response)return 0;if("input"===e.question.type)return 1;if("photo"===e.question.type)return 1;if("file"===e.question.type)return i&&this.sentToOperatorChat(`${e.question.text}: ${e.response}`,t,s),1;if("chat"===e.question.type)return i&&this.sentToOperatorChat(e.response,t,s,e.id),1;if(e.response&&("options"===e.question.type||"t-poll-single"===e.question.type))return+e.response.value;if("t-poll-multi"===e.question.type){let t=!1;return _.each(e.response,(e=>{"0"===e.value&&e.checked&&(t=!0),"1"!==e.value||e.checked||(t=!0)})),t?0:1}return 0}async sentToOperatorChat(e,t,s,i=0){const{user:o}=this.context.$store.state.pages,a=o.chat_id;await this.sendChatQuestion(a,t,e,s,i)}async getUser(e,t,s){let o;return await(0,i.queryBot2)("find-user",{untiId:e,leaderId:t,email:s}).then((e=>{[o]=e.data})),o}async getUserByEmail(e){let t;return await(0,i.queryBot2)("find-user-by-email",{email:e}).then((e=>{[t]=e.data})),t}async createFromUnti(e){const t=new(a())({length:8})();let s=`${e.lastname||""} ${e.firstname||""} ${e.secondname||""}`.trim().replace("  "," ");s=this.normalizeFio(s);const o={username:e.username,shownname:s,email:e.email,chatId:t,untiId:e.unti_id,leaderId:e.leader_id,partnerGuid:e.partner_guid,hashtags:e.hashtags,status:r.J0.New};let n;return await(0,i.queryBot2)("create-user-from-unti",o).then((e=>{n=e.data.id})),[n,t]}async updateFromUnti(e,t){let s=`${t.lastname} ${t.firstname} ${t.secondname}`.trim().replace("  "," ");s=this.normalizeFio(s);const o={chatId:e,username:t.username,shownname:s,email:t.email,untiId:t.unti_id,leaderId:t.leader_id,hashtags:t.hashtags,partnerGuid:t.partner_guid};return await(0,i.queryBot2)("update-user-from-unti",o),e}async getEntryTest(e,t){let s;return await(0,i.queryBot2)("get-user-entry-test",{userId:e,courseId:t}).then((e=>{[s]=e.data})),s}async updateEntryTestCourse(e,t,s){const o=`update user_course_entry set course_id = '${s}' where user_id = '${e}' and course_id = '${t}'`;return await(0,i.queryBot)(o),!0}async getUnpassedEntry(e){let t;return await(0,i.queryBot2)("get-unpassed-entry-diag",{userId:e}).then((e=>{[t]=e.data})),t}async setEntryPassed(e,t,s,o,a,r="0"){const n=`update user_course_entry set is_passed = '1', passed_at = NOW(), is_accepted = '${a}', accepted_at = NOW(),  score_real = '${s}', score_final = '${o}',  task_id = '${r}'  where user_id = '${e}' and course_id = '${t}'`;await(0,i.queryBot)(n)}async insertEntryTest(e,t,s,o,a,r){const n=`insert into user_course_entry (user_id, course_id, flow_id, lang, grade, task_id) values ('${e}', '${t}', '${s}', '${o}', '${a}', '${r}')`;await(0,i.queryBot)(n)}async getLastCourseId(e){let t;const{user:s}=this.context.$store.state.pages,o=e||s.id;return await(0,i.queryBot2)("get-user-last-course",{userId:o}).then((e=>{t=e.data[0]?e.data[0].last_course_id:void 0})),t}async getCourseUserTotalTasks(e,t){if(!e)return 0;const s=t||this.context.$store.state.pages.user;if(!s)return 0;const o=await this.context.$db.tasks.getUserCourseFlow(s.id,e);if(!o)return console.error("Flow not found, user id:",s.id,"course id:",e),0;let a=0;const r=`select tasks.*, modules.visibility as moduleVisibility from tasks  inner join modules on modules.id = tasks.module_id  where tasks.course_id = '${e}' and tasks.sending_allowed = '1'  and tasks.module_id not in (select id from modules where modules.course_id = tasks.course_id and is_entrance_testing = "1")  order by tasks.scheduled_date`;return await(0,i.queryBot)(r).then((e=>{let t=[].concat(e.data);t=t.filter((e=>(0,u.h5)(o.flow_num,e.visible_for_flows,s.hashtags)&&(0,u.h5)(o.flow_num,e.moduleVisibility,s.hashtags))),a=t.length})),a}async getCourseProgress(e,t){if(!e)return 0;const s=t||this.context.$store.state.pages.user;if(!s)return 0;if(s.status===r.J0.Diploma||s.status===r.J0.Success)return 100;let o;await(0,i.queryBot2)("get-mastercourse-id",{courseId:e}).then((e=>{o=e.data[0]?.masterCourseId}));let a=0,n=0,l=1;const c=await this.context.$db.tasks.getUserCourseFlow(s.id,e);c&&(l=c.flow_num),await(0,i.queryBot2)("calc-user-progr-1",{chatId:s.chat_id,courseId:o||s.last_course_id}).then((async e=>{const t=e.data.filter((e=>(0,u.h5)(l,e.visible_for_flows,s.hashtags)));n=t.length})),await(0,i.queryBot2)("get-tasks-total-cnt",{courseId:o||e}).then((e=>{this.tasks=e.data,this.tasks=this.tasks.filter((e=>(0,u.h5)(l,e.visible_for_flows,s.hashtags))),a=this.tasks.length})),+n>+a&&(n=a);const d=n/a*100;return d.toFixed(2)}async getCourseIsPaid(e,t){const s=t||this.context.$store.state.pages.user;let o;return await(0,i.queryBot)(`select is_paid from user_courses where course_id = '${e}' and user_id = '${s.id}'`).then((e=>{o=e.data[0].is_paid})),o}async updateStatus(e,t,s=!1){let o,a,n,l;e&&await(0,i.queryBot)(`select id, chat_id, email, has_gosuslugi from users where id = '${e}'`).then((e=>{[o]=e.data})),o||(o=this.context.$store.state.pages.user),console.log(s),await(0,i.queryBot)(`select last_course_id from users where id = '${o.id}'`).then((e=>{n=e.data[0].last_course_id})),await(0,i.queryBot)(`select status from user_courses where course_id = '${n}' and user_id = '${o.id}'`).then((e=>{e.data[0]&&(l=e.data[0].status)}));let u=0;n?(u=await this.getCourseProgress(n,o),u<99&&(a=r.J0.Study),99===u&&(a=r.J0.Diploma)):a=r.J0.Refusal,await(0,i.queryBot)(`update users set last_course_progress = '${u}' where id = '${o.id}'`),console.log(a),console.log(l)}getUserCourse(e){return new Promise((async t=>{let s;await(0,i.queryBot)(`select last_course_id from users where id = '${e}'`).then((e=>{s=e.data[0].last_course_id})),s||t(void 0);const o=`select courses.id, courses.title, courses.alias, courses.current_flow_num, user_courses.finance_info_json  from courses  left join user_courses on user_courses.course_id = courses.id and user_courses.user_id = '${e}'  where courses.id = '${s}'`;(0,i.queryBot)(o).then((e=>{t(e.data[0])}))}))}loadPages(){return new Promise((async e=>{const t="select * from users_pages order by title";(0,i.queryBot)(t).then((t=>{e(t.data)}))}))}loadTabs(e){return new Promise((async t=>{const s=`select * from users_tabs where users_pages_id = '${e}' order by title`;(0,i.queryBot)(s).then((e=>{t(e.data)}))}))}loadAnyTabs(e){return new Promise((async t=>{const s=`select * from ${e} order by title`;(0,i.queryBot)(s).then((e=>{t(e.data)}))}))}loadAppsTabs(){return new Promise((async e=>{const t="select * from apps_tabs order by title";(0,i.queryBot)(t).then((t=>{e(t.data)}))}))}loadStorageTabs(){return new Promise((async e=>{(0,i.queryBot2)("get-storage-tabs").then((t=>{e(t.data)}))}))}loadSchoolsTabs(){return new Promise((async e=>{const t="select * from schools_tabs order by title";(0,i.queryBot)(t).then((t=>{e(t.data)}))}))}insertTab(e){let t=(0,l.ZP)(e.expression||"");"null"===t&&(t="");const s=`insert into users_tabs (title, users_pages_id, description, tags, columns_json, actions_json, expression) values  ('${(0,l.ZP)(e.title)}', '${e.users_pages_id}', '${(0,l.ZP)(e.description||"")}', '${(0,l.ZP)(e.tags||"")}', '${JSON.stringify(e.columns_json||{})}', '${JSON.stringify(e.actions_json||{})}', '${t}') `;return(0,i.queryBot)(s)}insertAppsTab(e){let t=(0,l.ZP)(e.expression);"null"===t&&(t="");const s=`insert into apps_tabs (title, description, tags, columns_json, actions_json, expression) values  ('${(0,l.ZP)(e.title)}', '${(0,l.ZP)(e.description||"")}', '${(0,l.ZP)(e.tags||"")}', '${JSON.stringify(e.columns_json||{})}', '${JSON.stringify(e.actions_json||{})}', '${t}') `;return(0,i.queryBot)(s)}insertStorageTab(e){let t=(0,l.ZP)(e.expression);"null"===t&&(t="");const s=`insert into storage_tabs (title, description, tags, columns_json, actions_json, expression) values  ('${(0,l.ZP)(e.title)}', '${(0,l.ZP)(e.description||"")}', '${(0,l.ZP)(e.tags||"")}', '${JSON.stringify(e.columns_json||{})}', '${JSON.stringify(e.actions_json||{})}', '${t}') `;return(0,i.queryBot)(s)}insertSchoolsTab(e){let t=(0,l.ZP)(e.expression);"null"===t&&(t="");const s=`insert into schools_tabs (title, description, tags, columns_json, actions_json, expression) values  ('${(0,l.ZP)(e.title)}', '${(0,l.ZP)(e.description||"")}', '${(0,l.ZP)(e.tags||"")}', '${JSON.stringify(e.columns_json||{})}', '${JSON.stringify(e.actions_json||{})}', '${t}') `;return(0,i.queryBot)(s)}updateTab(e){const t=JSON.stringify(e.columns_json||{}),s=JSON.stringify(e.actions_json||{});let o=(0,l.ZP)(e.expression||"");"null"===o&&(o="");const a=e.users_pages_id;let r=` users_pages_id = '${a}', `;a&&0!==+a||(r="");const n=`update users_tabs set  title = '${(0,l.ZP)(e.title)}',  ${r}  description = '${(0,l.ZP)(e.description||"")}',  tags = '${(0,l.ZP)(e.tags||"")}',  columns_json = '${t}',  actions_json = '${s}',  expression = '${o}'  where id = '${e.id}' `;return(0,i.queryBot)(n)}updateAppsTab(e){const t=JSON.stringify(e.columns_json||{}),s=JSON.stringify(e.actions_json||{});let o=(0,l.ZP)(e.expression||"");"null"===o&&(o="");const a=`update apps_tabs set  title = '${(0,l.ZP)(e.title)}',  description = '${(0,l.ZP)(e.description||"")}',  tags = '${(0,l.ZP)(e.tags||"")}',  columns_json = '${t}',  actions_json = '${s}',  expression = '${o}'  where id = '${e.id}' `;return(0,i.queryBot)(a)}updateStorageTab(e){const t=JSON.stringify(e.columns_json||{}),s=JSON.stringify(e.actions_json||{});let o=(0,l.ZP)(e.expression||"");"null"===o&&(o="");const a=`update storage_tabs set  title = '${(0,l.ZP)(e.title)}',  description = '${(0,l.ZP)(e.description||"")}',  tags = '${(0,l.ZP)(e.tags||"")}',  columns_json = '${t}',  actions_json = '${s}',  expression = '${o}'  where id = '${e.id}' `;return(0,i.queryBot)(a)}updateSchoolsTab(e){const t=JSON.stringify(e.columns_json||{}),s=JSON.stringify(e.actions_json||{}),o=`update schools_tabs set  title = '${(0,l.ZP)(e.title)}',  description = '${(0,l.ZP)(e.description||"")}',  tags = '${(0,l.ZP)(e.tags||"")}',  columns_json = '${t}',  actions_json = '${s}'  where id = '${e.id}' `;return(0,i.queryBot)(o)}removeTab(e){return(0,i.queryBot)(`delete from users_tabs where id = '${e}'`)}removeAnyTab(e,t){return(0,i.queryBot)(`delete from ${e} where id = '${t}'`)}removeAppsTab(e){return(0,i.queryBot)(`delete from apps_tabs where id = '${e}'`)}removeStorageTab(e){return(0,i.queryBot)(`delete from storage_tabs where id = '${e}'`)}insertPage(e){const t=`insert into users_pages (title) values  ('${(0,l.ZP)(e.title)}') `;return(0,i.queryBot)(t)}updatePage(e){const t=`update users_pages set  title = '${(0,l.ZP)(e.title)}'  where id = '${e.id}' `;return(0,i.queryBot)(t)}removePage(e){return(0,i.queryBot)(`delete from users_pages where id = '${e}'`)}async findUserByApp(e,t,s){const o=new n.UL;let a,r;if(e&&(r=`select * from users where unti_id = '${e}'`,await(0,i.queryBot)(r).then((e=>{[a]=e.data})),a))return a;for(let l=0;l<=1;l+=1){let u;if(0===l&&(u=t),1===l&&(u=s),u&&(0===l&&(r=`select * from users where LOWER(email) = LOWER('${u}')`),1===l&&(u=u.replace(/[^0-9]/g,""),r=`select * from users where LOWER(tel) = LOWER('${u}')`),await(0,i.queryBot)(r).then((e=>{[a]=e.data})),a))return e&&a.unti_id&&e!==a.unti_id&&a.last_course_id&&(a.hashtags?a.hashtags=`${a.hashtags} #uid-alert`:a.hashtags="#uid-alert",await(0,i.queryBot)(`update users set hashtags = '${a.hashtags}' where id = '${a.id}'`),await o.writeUsersLog(a.id,n.bY.ErrorUid,`Обучался с неверным uid: ${a.unti_id}`)),a}}async updateUserCoursePrice(e,t,s,o){const{$db:a}=this.context,r=await a.tasks.getCoursePrice(t),n=await this.getUserPartner(e);let l=0,u=0;if(s){const e=s.split(".");2===e.length&&(l=r*+e[1]/100)}n&&"РСО"===n.super_partner_name&&(u=r-l);const c=r-l-u,d=`insert into user_course_price  (user_id, course_id, price, discount, sponsor, to_pay, paid)  values (  '${e}',  '${t}',  '${r}',  '${l}',  '${u}',  '${c}',  '${o}' ) on duplicate key update  price = '${r}',  discount = '${l}',  sponsor = '${u}',  to_pay = '${c}',  paid = '${o}' `;await(0,i.queryBot)(d)}async getUserPartner(e){let t;const s=`SELECT users.id, users.shownname, partner_id, p2.id as super_partner_id, p1.firstname as partner_name, p2.firstname as super_partner_name FROM \`users\` left join partners p1 on p1.id = users.partner_id LEFT join partners_relations pr on pr.child_id = p1.id left join partners p2 on p2.id = pr.parent_id WHERE users.id = '${e}'`;return await(0,i.queryBot)(s).then((e=>{[t]=e.data})),t}async updateUserPaid(e,t,s,o){const a=`select id, finance_info_json from user_courses where user_id = '${e}' and course_id = '${t}'`;await(0,i.queryBot)(a).then((async a=>{const[r]=a.data;if(r){const a=JSON.parse(r.finance_info_json||"{}");a.paid=o;const n=JSON.stringify(a);await(0,i.queryBot)(`update user_courses set finance_info_json = '${n}' where id = '${r.id}'`),this.updateUserCoursePrice(e,t,s,o)}}))}async hasNewMessages(e){let t=!1;return await(0,i.queryBot2)("get-chat-new-messages-count",{chatId:e}).then((async e=>{const[s]=e.data;s&&(t=+s.count>0)})),t}async getApplication(e){let t;const s=`select * from applications where uid = '${e}'`;return await(0,i.queryBot)(s).then((async e=>{const[s]=e.data;t=s})),t}async getStorage(e){let t;const s=`select * from storage where uid = '${e}'`;return await(0,i.queryBot)(s).then((async e=>{const[s]=e.data;t=s})),t}normalizeFio(e){let t="";const s=e.split(" ");return s.every((e=>{const s=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();return t+=`${s} `,!0})),t.trim()}async getUserAnswer(e,t){let s;const o=`select user_answers.type, user_answers.answer, user_answers.result, task_questions.question, task_questions.answers  from user_answers  inner join task_questions on task_questions.id = user_answers.question_id where user_id = '${e}' and question_id = '${t}'`;return await(0,i.queryBot)(o).then((async e=>{[s]=e.data})),s}async getMotivationAnswer(e,t){let s;return await(0,i.queryBot2)("get-motivation-answer",{userId:e}).then((async e=>{const[t]=e.data;t&&(s=t.value)})),!s&&t&&await(0,i.queryBot)(`select answer from user_answers where user_id = '${t}' and type = 'input' order by id limit 1`).then((t=>{const[i]=t.data;if(i&&(s=i.answer,s)){const t={userId:e,type:"motivationQuestion",value:s};this.context.$db.insertObject("users_cache",t)}})),s}async updateTracePercent(e,t){let s=0,o=0,a=0;const r=`select count(*) as count from digital_traces where user_id = '${e}' and course_id = '${t}' `;return await(0,i.queryBot)(r).then((e=>{s=+e.data[0].count})),await(0,i.queryBot)(`${r} and sent_at is not null and status = '${c.K.Принят}'`).then((e=>{o=+e.data[0].count})),s>0&&(a=100*o/s,a=a.toFixed(0)),(0,i.queryBot)(`update users set tracePercent = '${a}' where id = '${e}'`),a}}var p=s(10798);const g=s(11488);class M{constructor(e){e&&(this.app=e,this.users=new h(e),this.tasks=new p.h(e),this.logs=new n.UL(e)),this.error=void 0}auth(e){return this.error=void 0,new Promise(((t,s)=>{(0,i.queryBot2)("get-user-by-hash",{hash:e}).then((e=>{const s=e.data[0];for(const t in s)"null"!==s[t]&&null!==s[t]||(s[t]="");t(s)})).catch((e=>{this.error=e,s(e)}))}))}async serverNow(){let e=g();return await(0,i.queryBot2)("now").then((t=>{t.data[0]&&(e=g(t.data[0].now))})),e}async insertObject(e,t){let s;return await(0,i.queryBot3)("insert",e,t).then((e=>{e.data.id?s=e.data.id:console.error(e.data)})),s}async updateObject(e,t){return await(0,i.queryBot3)("update",e,t),!0}async debugLog(e){const t=`insert into debug_log (text) values ('${(0,l.ZP)(e)}')`;return await(0,i.queryBot)(t),!0}}},67160:(e,t,s)=>{"use strict";s.d(t,{TA:()=>c,UL:()=>d,a6:()=>u,bY:()=>l});var i=s(42214),o=s(42699),a=s(43904),r=s.n(a);const n=s(11488),l={Created:"created",Updated:"updated",Application:"application",Approved:"approved",Canceled:"canceled",Enrolled:"enrolled",Dismissed:"dismissed",Diploma:"diploma",FlowChanged:"flow-changed",CourseChanged:"course-changed",LoggedIn:"logged-in",EmailSent:"email-sent",SmsSent:"sms-sent",Activated:"activated",Deactivated:"deactivated",Removed:"removed",ErrorUid:"error-uid",ErrorCourse:"error-course",ErrorGu:"error-gu",AttachedToSchool:"attach-school",AttachedToPartner:"attach-partner",SchoolChanged:"school-changed",RefCommentChanged:"ref-com-changed",EntryPassed:"entry-passed",EntryAdded:"entry-added",EntryAutoAccept:"entry-auto",EntryAccept:"entry-accept",EntryDecline:"entry-decline",Payment:"entry-decline",StatusUpdated:"status-updated",PortfolioApproved:"portfolio-approved",UserCatChanged:"cat-changed",HashtagsChanged:"tags-changed",NameChanged:"name-changed",PreregPreset:"prereg-reset",FlagChanged:"flag-changed",Rich:"rich",UserOffer:"user-offer",AdminOffer:"admin-offer"},u={Sent:0,Error:1},c={Module:1,Task:2,Slide:3};class d{constructor(e){this.app=e,e&&(this.context=this.app.config.globalProperties,this.$q=this.context.$q)}writeUsersLog(e,t,s,o=""){const a=localStorage.getItem("operatorName")||"",r={userId:e,event:t,comment:s,author:a,extra:o};return(0,i.queryBot2)("insert-into-users-log",r)}writeEventsLog(e,t,s="0"){const a=localStorage.getItem("operatorName")||"",r=`insert into events_log (event, author, comment, is_error) values  ('${(0,o.ZP)(e)}', '${(0,o.ZP)(a)}', '${(0,o.ZP)(t)}', '${s}') `;return(0,i.queryBot)(r)}writeMessagesLog(e,t,s,a,n,l,u,c="",d=void 0){const h=localStorage.getItem("operatorName")||"";d||(d=new(r())({length:8})());const p=`insert into messages_log (type, uid, name, contact, subject, text, status, error, sent_at, message_id, author) values (  '${e}',  '${t}',  '${(0,o.ZP)(s)}',  '${(0,o.ZP)(a)}',  '${(0,o.ZP)(n)}',  '${(0,o.ZP)(l)}',  '${(0,o.ZP)(u)}',  '${(0,o.ZP)(c)}',  now(),  '${d}',  '${h}' )`;return(0,i.queryBot)(p)}writeActivityHistory(e,t,s){(0,i.queryBot2)("get-last-activity-log-datetime",{userId:e,pageType:t,pageId:s}).then((o=>{const[a]=o.data;if(a){const e=n(a.created_at),t=n().diff(e,"minute");if(t<5)return}(0,i.queryBot2)("add-to-user-activity",{userId:e,pageType:t,pageId:s})}))}}},10798:(e,t,s)=>{"use strict";s.d(t,{h:()=>n});s(65663);var i=s(42214),o=s(16345),a=s(11488),r=s.n(a);class n{constructor(e){this.app=e,this.error=void 0,this.$q=this.app.config.globalProperties.$q,this.$db=this.app.config.globalProperties.$db,this.context=this.app.config.globalProperties}getTask(e){return new Promise(((t,s)=>{const o=`select * from tasks where id = '${e}' limit 1`;(0,i.queryBot)(o).then((e=>{t(e.data[0])})).catch((e=>{this.error=e,s(e.toString()),this.$q.notify(e)}))}))}getTasks(e="",t=!1,s=!0){return new Promise(((o,a)=>{e=e?`where ${e}`:" where (1=1)";let r="";s&&(r="and sending_allowed = '1'");let n=`select * from tasks ${e} ${r}  and module_id not in (select id from modules where course_id = tasks.course_id and is_entrance_testing = "1")  order by scheduled_date`;t&&(n=`select * from tasks ${e} ${r}  and module_id not in (select id from modules where course_id = tasks.course_id and is_entrance_testing = "0")  order by scheduled_date`),(0,i.queryBot)(n).then((e=>{o(e.data)})).catch((e=>{this.error=e,a(e.toString())}))}))}getCourses(e=""){return new Promise(((t,s)=>{e&&(e=`where ${e}`);const o=`select * from courses ${e} order by title`;(0,i.queryBot)(o).then((e=>{t(e.data)})).catch((e=>{this.error=e,s(e.toString()),this.$q.notify(e)}))}))}getModules(e="",t="title"){return new Promise(((s,o)=>{e&&(e=`where ${e}`);const a=`select * from modules ${e} order by ${t}`;(0,i.queryBot)(a).then((e=>{s(e.data)})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}getUserCourse(e,t){return new Promise(((s,o)=>{(0,i.queryBot2)("get-user-course-record",{userId:e,courseId:t}).then((e=>{s(e.data[0])})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}getUserCourseInfo(e,t){return new Promise(((s,o)=>{const a=`select * from user_courses where user_id = ${e} and course_id = ${t}`;(0,i.queryBot)(a).then((e=>{s(e.data[0])})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}getUserCourseFlow(e,t){return new Promise(((s,o)=>{(0,i.queryBot2)("get-user-course-flow",{userId:e,courseId:t}).then((e=>{const[t]=e.data;s(t)})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}getUserCourseFlowNum(e,t){return new Promise(((s,o)=>{(0,i.queryBot2)("get-user-flow-num",{userId:e,courseId:t}).then((e=>{const[t]=e.data;s(t?.flow_num)})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}getQuestions(e){return new Promise(((t,s)=>{(0,i.queryBot2)("get-task-questions",{taskId:e}).then((e=>{t(e.data)})).catch((e=>{this.error=e,s(e.toString()),this.$q.notify(e)}))}))}getTaskQuestions(e){return new Promise(((t,s)=>{const o=`select * from task_questions where ${e} order by index_number`;(0,i.queryBot)(o).then((e=>{t(e.data)})).catch((e=>{this.error=e,s(e.toString()),this.$q.notify(e)}))}))}isCourseActive(e,t){return new Promise(((s,o)=>{const a=`select count(*) as count from user_courses where course_id = ${e} and user_id = ${t}`;(0,i.queryBot)(a).then((e=>{const t=e.data[0];t&&t.count>0?s(!0):s(!1)})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}startCourseAutoFlow(e,t){return new Promise((async s=>{const o=await this.getActiveFlow(this.context,e);o?(await(0,i.queryBot)(`update users set last_course_id = '${e}' where id = '${t}'`),await this.startCourse(e,t,o.id),s(!0)):s(!1)}))}startCourse(e,t,s){return new Promise(((o,a)=>{(0,i.queryBot2)("insert-user-course",{courseId:e,userId:t,flowId:s}).then((e=>{o(e)})).catch((e=>{this.error=e,a(e.toString()),this.$q.notify(e)}))}))}removeAnswers(e,t){return new Promise(((s,o)=>{const a=`delete from user_answers where user_id = '${e}' and task_id = '${t}'`;(0,i.queryBot)(a).then((()=>{s()})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}async insertAnswer(e,t,s,o){const a=s.index_number,{type:r}=s.question,{result:n}=s;return new Promise(((l,u)=>{(0,i.queryBot2)("add-user-answer",{taskId:t,userId:e,questionId:s.id,questionIndex:a,type:r,answer:o,result:n}).then((()=>{l()})).catch((e=>{this.error=e,u(e.toString()),this.$q.notify(e)}))}))}hasAnswers(e){return new Promise(((t,s)=>{(0,i.queryBot2)("get-user-answers-count",{userId:e}).then((e=>{t(+e.data[0].count>0)})).catch((e=>{this.error=e,s(e.toString()),this.$q.notify(e)}))}))}getAnswers(e,t){return new Promise(((s,o)=>{(0,i.queryBot2)("get-user-task-answers",{userId:e,taskId:t}).then((e=>{s(e.data)})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}removeCompletedTask(e,t){return new Promise(((s,o)=>{(0,i.queryBot2)("remove-compl-tasks",{taskId:e,userId:t}).then((()=>{s()})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}async insertCompletedTask(e,t,s,o,a){return await this.removeCompletedTask(e,t),new Promise(((r,n)=>{(0,i.queryBot2)("insert-compl-task",{taskId:e,chatId:t,result:s,score:o}).then((()=>{a.$db.users.updateStars(t),a.$db.users.updateStarsForCourse(e,t),r()})).catch((e=>{this.error=e,n(e.toString()),this.$q.notify(e)}))}))}async skipTask(e,t){return await this.removeCompletedTask(e,t),new Promise(((s,o)=>{const a=`insert into completed_tasks ( task_id, user_id, is_skipped ) values ( '${e}', '${t}', "1" ) `;(0,i.queryBot)(a).then((()=>{s()})).catch((e=>{this.error=e,o(e.toString()),this.$q.notify(e)}))}))}getTaskCompleted(e,t){return new Promise(((s,o)=>{(0,i.queryBot2)("get-user-completed-tasks2",{taskId:e,chatId:t}).then((e=>{s(e.data[0])})).catch((e=>{console.error(e),o(e.toString())}))}))}getTaskCompletedAll(e,t){return new Promise(((s,o)=>{(0,i.queryBot2)("get-user-completed-tasks",{chatId:e,courseId:t}).then((e=>{s(e.data)})).catch((e=>{console.error(e),o(e.toString())}))}))}getPrevTask(e,t){return new Promise(((s,o)=>{const a=`SELECT * FROM tasks WHERE course_id = ${e} and scheduled_date < '${t}' and sending_allowed = 1  and module_id not in (select id from modules where course_id = tasks.course_id and is_entrance_testing = "1")  order by scheduled_date desc  limit 1`;(0,i.queryBot)(a).then((e=>{s(e.data)})).catch((e=>{console.error(e),o(e.toString())}))}))}getUncompletedTasks(e,t){return new Promise(((s,o)=>{const a=`SELECT * FROM \`tasks\` WHERE num < ${e} and description is not null and description <> "" and sending_allowed = 1 and id not in (select task_id from completed_tasks where user_id = '${t}')`;(0,i.queryBot)(a).then((e=>{s(e.data)})).catch((e=>{console.error(e),o(e.toString())}))}))}getTelegramTaskMessageId(e,t){return new Promise(((s,o)=>{(0,i.queryBot)(`select start_message_id from sent_tasks_log where task_id = '${e}' and chat_id = '${t}'`).then((e=>{e&&e.data&&e.data.length>0&&s(e.data[0].start_message_id)})).catch((e=>{console.error(e),o(e)}))}))}getCoursePrices(e){return new Promise(((t,s)=>{(0,i.queryBot)(`select * from courses_price where course_id = '${e}' order by tariff`).then((e=>{t(e.data)})).catch((e=>{console.error(e),s(e)}))}))}getCoursePrice(e){return new Promise(((t,s)=>{(0,i.queryBot)(`select * from courses_price where course_id = '${e}' order by tariff limit 1`).then((e=>{const[s]=e.data;t(s?s.price:0)})).catch((e=>{console.error(e),s(e)}))}))}getSubscriptions(e=""){return new Promise(((t,s)=>{e&&(e=`where ${e}`);const o=`select * from subscriptions ${e} order by title`;(0,i.queryBot)(o).then((e=>{t(e.data)})).catch((e=>{this.error=e,s(e.toString()),this.$q.notify(e)}))}))}static locateCourseId(e){return new Promise(((t,s)=>{(0,i.queryBot2)("get-course-id-by-alias",{alias:e}).then((e=>{const s=e.data[0];s?t(s.id):t()})).catch((e=>{console.error(e),s(e)}))}))}async getActiveFlow(e,t){let s,o,a=0;if(await(0,i.queryBot2)("get-current-flow-num",{courseId:t}).then((e=>{const[t]=e.data;t&&(a=t.current_flow_num||0)})),await(0,i.queryBot2)("get-course-flows",{courseId:t,currentFlowNum:a}).then((e=>{s=e.data})),0!==s.length){for(let e=0;e<s.length;e+=1){const t=s[e];o=t;break}return o||([o]=s),+a!==+o.flow_num&&(0,i.queryBot)(`update courses set current_flow_num = '${o.flow_num}' where id = '${t}'`),o}}async getFlowUsersCount(e,t){let s=0;const o=`select count(*) as count from user_courses where flow_id = '${t}' and course_id = '${e}'`;return await(0,i.queryBot)(o).then((e=>{s=e.data[0].count})),s}async getFlow(e){let t;return await(0,i.queryBot2)("get-flow-by-id",{flowId:e}).then((e=>{[t]=e.data})),t}async getFlowIdByNum(e,t){let s;return await(0,i.queryBot2)("get-flow-id-by-num",{courseId:e,flowNum:t}).then((e=>{const[t]=e.data;t&&(s=t.id)})),s}async getTotalStars(e){let t;const s=`select sum(add_stars) as stars from tasks where course_id = '${e}'`;return await(0,i.queryBot)(s).then((e=>{const[s]=e.data;s&&(t=s.stars)})),t}async getCoursesTags(){const e=[],t="select tags from courses where tags is not null";return await(0,i.queryBot)(t).then((t=>{const{data:s}=t;s.every((t=>{if(!t.tags)return!0;const s=t.tags.split(",").map((e=>e.trim()));return s.every((t=>(e.includes(t)||e.push(t),!0))),!0}))})),e}async getCourseFlows(e){let t=[];const s=`select * from flows where course_id = '${e}' order by flow_num`;return await(0,i.queryBot)(s).then((e=>{t=e.data})),t}async getTaskMaxResult(e,t,s){let a,r=0;if(await(0,i.queryBot2)("get-task-questions",{taskId:e}).then((e=>{a=[].concat(e.data)})),!a)return 0;const n=e=>{let t=0;return e.every((e=>{try{const s=JSON.parse(e.answers);let i;try{i=JSON.parse(e.question)}catch{}const{options:o}=s;0===o.length&&i&&"slide"!==i.type&&(t+=1),o.every((e=>{const s=+e.value;return Number.isNaN(s)||(t+=s),!0}))}catch{}return!0})),t},l=a.filter((e=>+e.parent_question_id<=0));return l.every((e=>{try{const{question:i}=e,l=JSON.parse(i);if("questions"!==l.type&&"interactive"!==l.type)return e.slide_type||(r+=n([e])),!0;const u=JSON.parse(e.visibility_json);if(u){const{flows:i}=u;if((0,o.h5)(s,i,t)){if("interactive"===l.type)return r+=+(l.interTasksMaxResult||1),!0;const t=a.filter((t=>+t.parent_question_id===+e.id));r+=n(t)}}}catch{}return!0})),r}async hasTaskNumbers(e,t){let s=!1;return await(0,i.queryBot2)("get-user-has-task-numbers",{userId:e,moduleId:t}).then((e=>{const[t]=e.data,{count:i}=t;s=i>0})),s}async updateTaskNumber(e,t,s,o){await(0,i.queryBot2)("update-tasks-numbers",{userId:e,moduleId:t,taskId:s,number:o})}async getSupermoduleTasks(e,t){let s=0,o=0,a="";await(0,i.queryBot2)("get-modules-pos-index",{moduleId:t}).then((e=>{const[t]=e.data;t&&(s=t.pos_index)})),await(0,i.queryBot2)("get-modules-before",{modulePosIndex:s,courseId:e}).then((e=>{const[t]=e.data;t&&(o=t.pos_index)})),await(0,i.queryBot2)("get-modules-ids-sm",{courseId:e,prevPosIndex:o,modulePosIndex:s}).then((e=>{const[t]=e.data;t&&(a=t.moduleIds)}));const{data:r}=await(0,i.queryBot2)("get-modules-tasks",{moduleIds:a,courseId:e});return r}saveUserSupermoduleProgress(e,t,s,o,a){return new Promise(((r,n)=>{const l=(100*+a/+o).toFixed(0);(0,i.queryBot2)("insert-user-sm-progress",{userId:e,courseId:t,superModuleNum:s,totalTasks:o,doneTasks:a,progress:l}).then((e=>{r(e)})).catch((e=>{this.error=e,n(e.toString()),this.$q.notify(e)}))}))}async removeTelegramNotifications(e){await(0,i.queryBot)(`delete from tasks_tg_alerts where taskId = '${e}'`)}async createTelegramNotifications(e,t=void 0,s=void 0){let o,a,n;if(await(0,i.queryBot)(`select id, course_id, scheduled_date from tasks where id = '${e}'`).then((e=>{[a]=e.data})),!a)return;await(0,i.queryBot)(`select id, flow_num, starts_on from flows where course_id = '${a.course_id}'`).then((e=>{n=e.data}));const l=`select id, scheduled_date from tasks where course_id = '${a.course_id}' and sending_allowed = '1'  and module_id not in (select id from modules where course_id = tasks.course_id and is_entrance_testing = "1")  order by scheduled_date`;if(await(0,i.queryBot)(l).then((e=>{[o]=e.data})),await this.removeTelegramNotifications(e),t){let o;await(0,i.queryBot)(`select id from flows where course_id = '${a.course_id}' and flow_num = '${t}'`).then((e=>{o=e.data[0]?.id}));const n=r()(s).format("YYYY-MM-DD HH:mm"),l={notifyAt:n,taskId:e,flowId:o,courseId:a.course_id};return void await this.context.$db.insertObject("tasks_tg_alerts",l)}const u=r()(o.scheduled_date).set({hour:0,minute:0,second:0});for(let i=0;i<n.length;i+=1){const t=n[i],s=t.id,o=r()(t.starts_on).set({hour:0,minute:0,second:0}),l=o.diff(u,"days"),c=r()(a.scheduled_date).add(l,"days").format("YYYY-MM-DD HH:mm"),d={notifyAt:c,taskId:e,flowId:s,courseId:a.course_id};await this.context.$db.insertObject("tasks_tg_alerts",d)}}async loadTaskDates(e,t,s){const o=await(0,i.queryOne)(`select * from flows where flow_num = '${t}' and course_id = '${s}'`);if(!o)return e;const a=r()(o.starts_on).set({hour:0,minute:0,second:0}),[n]=e;let l=0;if(n){const e=r()(n.scheduledDateOriginal||n.scheduled_date).set({hour:0,minute:0,second:0});l=a.diff(e,"days")}for(let i=0;i<e.length;i+=1){const t=e[i];if(!t.fixedDate){t.scheduledDateOriginal||(t.scheduledDateOriginal=t.scheduled_date),t.scheduledDateShownOriginal||(t.scheduledDateShownOriginal=t.scheduled_date_shown),t.scheduled_date=t.scheduledDateOriginal,t.scheduled_date_shown=t.scheduledDateShownOriginal;const e=r()(t.scheduled_date);if(t.scheduled_date=e.add(l,"days").format("YYYY-MM-DD HH:mm"),t.scheduled_date_shown){const e=r()(t.scheduled_date_shown);t.scheduled_date_shown=e.add(l,"days").format("YYYY-MM-DD HH:mm")}}}return e.sort(((e,t)=>r()(e.scheduled_date)-r()(t.scheduled_date)))}}},51791:(e,t,s)=>{"use strict";function i(e){let t="";if(e&&e.length>0){for(let s=0;s<e.length-1;s+=1){const i=e[s],o=e[s+1];t+=i,0===s&&"#"!==o&&"#"!==i?t=`#${i}`:" "===i&&"#"!==o&&(t+="#")}t+=e[e.length-1],t=t.replaceAll("##","#")}return t}function o(e){return"string"!==typeof e?e:e?e.replace(/[\0\x08\x09\x1a\n\r"'\\\%]/g,(e=>{switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\t":return"\\t";case"":return"\\z";case"\n":return"\\n";case"\r":return"\\r";case'"':case"'":case"\\":case"%":return`${e}`}})):""}s.d(t,{M:()=>i,Z:()=>o})},16345:(e,t,s)=>{"use strict";s.d(t,{$A:()=>d,IV:()=>n,Rs:()=>h,Sy:()=>M,XF:()=>c,ah:()=>p,h5:()=>a,it:()=>g,ju:()=>u,pS:()=>m,sy:()=>r,vQ:()=>l});var i=s(32851),o=s.n(i);function a(e,t,s=""){if(!t)return!0;let i;e=+e;const o=t.indexOf("#");o>=0&&(i=t.slice(o,t.length),t=t.slice(0,o));let a=!1,r=!1;if(t){if(t.includes("...")){const s=t.split("...").map((e=>+e.trim()));if(2===s.length){const t=+(s[0]||1),i=+(s[1]||99999999);a=e>=t&&e<=i}}else if(t=t.trim(),t){const s=t.split(",").map((e=>+e.trim()));a=s.includes(e)}}else a=!0;if(i&&s){const e=i.split("#").map((e=>e.trim())),t=s.split("#").map((e=>e.trim())),o=e.filter((e=>t.includes(e))).filter((e=>e));r=o.length>0}else r=Boolean(!s)||Boolean(!i);return a&&r}function r(e,t){if(!e)return!1;if(!t)return!1;const s=t.split("#").map((e=>e.trim())),i=e.split("#").map((e=>e.trim())),o=s.filter((e=>i.includes(e))).filter((e=>e));return o.length>0}function n(e,t,s=","){if(!t)return!1;const i=e.split(s).map((e=>e.trim()));return i.includes(t.trim())}function l(e){navigator.clipboard.writeText(e).then((()=>{})).catch((()=>{const t=document.createElement("textarea");t.innerHTML=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}))}function u(e){if(!e)return"";let t=e?.replace(/<[^>]*>/g,"");return t=t.replaceAll("&nbsp;"," "),t}function c(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function d(e){const t=c(0,e.length-1);return e[t]}function h(e){if(!e)return!1;const t=e=>{const t=e.split("...").map((e=>+e.trim()));if(2===t.length&&!Number.isNaN(t[0])&&!Number.isNaN(t[1])){const e=+(t[0]||1),s=+(t[1]||99999999);return!Number.isNaN(e)&&!Number.isNaN(s)}return!1};e=e.trim();let s=!1;if(!e.includes(",")&&!e.includes("...")){if(e.includes("."))return!1;s=Number.isInteger(+e)}if(e.includes(",")){const i=e.split(",").map((e=>e.trim()));s=!0;for(let e=0;e<i.length;e+=1){const o=i[e];if(o.includes("...")){if(s=t(o),!s)break}else if(Number.isNaN(+i[e])){s=!1;break}}}return e.includes("...")&&!e.includes(",")&&(s=t(e)),s}function p(e,t){if(!e)return;if(!t)return;let s;const i=+e.slice(0,3),o=+e.slice(0,4);if(o>=7114&&o<=7117)s="71140000000";else if(711===i)s="71100000000";else if(111===i)s="11100000000";else{const i=e.slice(0,2),[o]=t.filter((e=>e.code.startsWith(i)));o&&(s=o.code)}return s}function g(){const e=navigator.userAgent,{buildID:t}=navigator,s=JSON.stringify(navigator.plugins),i=`${e}-${s}-${window.screen.width}-${window.screen.height}-${t}`;return o()(i)}function M(e){for(let t=e.length-1;t>0;t-=1){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function m(e){if(!e)return!1;const t="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890ёйцукенгшщзхъфывапролджэячсмитьбюЁЙЦУКЕНГШЩЗХЪФЫВАПРОЛДЖЭЯЧСМИТЬБЮ ";for(let s=0;s<e.length;s+=1)if(!t.includes(e[s]))return!1;return!0}},31680:(e,t,s)=>{"use strict";s.d(t,{Dr:()=>l,J0:()=>i,WQ:()=>a,du:()=>n,qH:()=>r,vV:()=>o});const i={New:0,Study:1,Refusal:2,Diploma:3,Success:4},o={Authorized:1,StartEntry:2,FinishEntry:3,AdmissionTrue:4,AdmissionFalse:5,TaskDone:6,FinishModule:7,EsseDone:8,FinishCourse:9,SkipTask:10,Paid:11};o.Authorized,o.StartEntry,o.FinishEntry,o.AdmissionTrue,o.AdmissionFalse,o.TaskDone,o.EsseDone,o.FinishModule,o.FinishCourse,o.SkipTask,o.Paid;function a(e,t,s,i,o){console.log(o)}function r(e,t,s){console.log(s)}function n(e,t){console.log(t?.test)}async function l(e,t,s){console.log(s)}},62120:(e,t,s)=>{"use strict";s.d(t,{Gw:()=>i,ZP:()=>a});const i=[{uuid:"bio",label:"Анкета пользователя",type:"PageBio"},{uuid:"login",label:"Вход в систему",type:"PageLogin"},{uuid:"course",label:"Курс",type:"PageCourse"},{uuid:"task",label:"Тема (задание)",type:"PageTask"},{uuid:"tasks",label:"Задания (список)",type:"PageTasks"},{uuid:"buy-course",label:"Покупка курса",type:"PageBuyCourse"},{uuid:"pay-course",label:"Оплата курса",type:"PagePayForCourse"},{uuid:"buy-success",label:"Поздравляем!",type:"PageBuySuccess"},{uuid:"my-courses",label:"Мои курсы",type:"PageMyCourses"},{uuid:"subscription_page",label:"Подписка",type:"PageSubscription"},{uuid:"buy-subscription",label:"Покупка подписки",type:"PageBuySubscription"},{uuid:"cert2",label:"Сертификат",type:"PageCertificate2",hidden:!0},{uuid:"quiz",label:"Опрос",type:"PageQuiz",hidden:!0},{uuid:"quiz-result",label:"Опрос",type:"PageQuizResult",hidden:!0},{uuid:"confirm-tel",label:"Страница подтверждения номера телефона",type:"PageConfirmTel",hidden:!0},{uuid:"confirm-vk",label:"Страница запроса разрешения на сообщения ВК",type:"PageConfirmVk",hidden:!0}];function o(e){for(let t=0;t<i.length;t+=1){const s=i[t];if(e===s.uuid)return s}}const a=o},89853:(e,t,s)=>{"use strict";s.d(t,{e3:()=>n,AH:()=>a,de:()=>o,WQ:()=>l,ht:()=>r,cf:()=>h,ux:()=>m,l9:()=>E,FH:()=>$,tT:()=>O,IX:()=>b,_V:()=>N,gB:()=>j,dp:()=>w,Uc:()=>C,I0:()=>x,B3:()=>k,Dp:()=>D,lw:()=>I,pt:()=>_,wZ:()=>z,ui:()=>T,hg:()=>f,ln:()=>y,He:()=>A,Ze:()=>S,Ke:()=>L,yc:()=>q,w5:()=>Q,gd:()=>U,Kb:()=>B,es:()=>P,oD:()=>Z,MY:()=>V,YX:()=>F,SF:()=>W,w3:()=>Y,i:()=>R,WJ:()=>H,gv:()=>se,xh:()=>te,NJ:()=>ee,ih:()=>X,NS:()=>K,WW:()=>oe,A0:()=>ie,N4:()=>J,jQ:()=>G,iF:()=>ue,xE:()=>ne,sp:()=>re,WR:()=>le,JR:()=>ce});s(65663);var i=s(42214);function o(e=void 0){return!e||null===e||""===e||0===e||"0"===e||"null"===e||"NULL"===e}function a(e=void 0){const t=o(e)?Date.now():Date.parse(e),s=new Date(t),i=s.getTimezoneOffset(),a=new Date(parseInt(s.getTime(),10)-6e4*i);return a.toISOString().replace(/[T]|.\d{3}Z/g," ").trim()}async function r(e){return(0,i.queryBot2)("calcUsersInProject",{projectId:e}).then((e=>{let t;const s=e.data;return s&&"object"===typeof s&&(t=Object.values(s).length),t}))}async function n(e){return(0,i.queryBot2)("calcCourseTitle",{id:e}).then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s.title),t}))}function l(e,t){return e&&"object"===typeof e?e.filter((e=>e===t)).length?e=e.filter((e=>e!==t)):e.push(t):e=[t],e}async function u({store:e}){await(0,i.queryBot2)("readDisableGlobal",{param:"platform-settings"}).then((async t=>{if(!t.data||"object"!==typeof t.data)return;const[s]=t.data,{value:i}=s;if(!i)return;const o=JSON.parse(i);"object"===typeof o&&await e.commit("projects/setDisable",!0!==o.projectsModule)}))}async function c({store:e,user:t}){let s=!0;if(t&&"object"===typeof t){const e="1"===t.is_superuser,o="1"===t.is_test,a=[40,41,42,43,44];await(0,i.queryBot2)("readDisableAddition",{courseId:t.last_course_id,userId:t.id}).then((t=>{const[i]=t.data;if(i){const t=a.filter((e=>e===parseInt(i.flow_id,10))).length>0;s=(!t||!e)&&!o}}))}const{isCreate:o,isShow:a}=e.state.projects.allows,r=!(s||o||a)||s;await e.commit("projects/setDisable",r)}async function d({store:e}){const{isCreate:t,isShow:s}=e.state.projects.allows;t||s||await e.commit("projects/setDisable",!0)}async function h({store:e,user:t}){const s=!1;await u({store:e}),!0===t||e.state.projects.disable||(s?await c({store:e,user:t}):await d({store:e}))}async function p({store:e,user:t}){parseInt(t.is_superuser,10)>0&&await e.commit("projects/setAllows",{isShow:"1",isCreate:"1"});const s={isShow:void 0,isCreate:void 0,atClose:void 0};if(await(0,i.queryBot2)("readAllows1",{courseId:t.last_course_id,userId:t.id}).then((async t=>{const[o]=t.data;if(!o||"object"!==typeof o)return;const a=parseInt(o.flow_id,10);a&&await(0,i.queryBot2)("readAllows2",{flowId:`%["${a}"]%`}).then((async t=>{const[i]=t.data;i&&"object"===typeof i&&(await e.commit("projects/setPortfolioId",i.id),s.isShow=i.isShow&&parseInt(i.isShow,10)>0,s.isCreate=i.isCreate&&parseInt(i.isCreate,10)>0,s.atClose=i.atClose&&parseInt(i.atClose,10)>0?Date.parse(i.atClose):void 0)}))})),parseInt(t.is_superuser,10)>0)return;const o=s.atClose&&Date.now()>s.atClose;await e.commit("projects/setAllows",{isShow:s.isShow&&!o,isCreate:s.isCreate})}async function g({store:e,user:t}){await(0,i.queryBot2)("readRole",{courseId:t.last_course_id}).then((async t=>{const[s]=t.data;s&&"object"===typeof s&&await e.commit("projects/setRole",s)}))}async function M({store:e,user:t}){await(0,i.queryBot2)("readUserProject",{userId:t.id}).then((async t=>{const[s]=t.data;s&&"object"===typeof s&&await e.commit("projects/setUserProject",s)}))}async function m({store:e,user:t}){await p({store:e,user:t}),await g({store:e,user:t}),await M({store:e,user:t})}async function y(e){return(0,i.queryBot2)("loadProjectDocuments",{projectId:e}).then((e=>{let t;const s=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function f(e){const{projectId:t,documentId:s}=e;return(0,i.queryBot2)("loadProjectDocument",{projectId:t,documentId:s}).then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function I(e){return(0,i.queryBot2)("loadPortfolioDocuments",{portfolioId:e}).then((e=>{let t;const s=e.data;return s&&"object"===typeof s&&(t={},s.forEach((e=>{t[e.document_id]=e}))),t}))}async function w(){return(0,i.queryBot2)("loadLastPortfolioDocument").then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function D(e){const{portfolioId:t,documentId:s}=e;return(0,i.queryBot2)("loadPortfolioDocument",{portfolioId:t,documentId:s}).then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function N(){return(0,i.queryBot2)("loadDocuments").then((e=>{let t;const s=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function j(){return(0,i.queryBot2)("loadLastDocument").then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function b(e){return(0,i.queryBot2)("loadDocumentById",{id:e}).then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function k(e){return(0,i.queryBot2)("loadPortfolioByUserId1",{userId:e}).then((async e=>{let t;const[s]=e.data;if(s&&"object"===typeof s){const e=s.flow_id;e&&await(0,i.queryBot2)("loadPortfolioByUserId2",{flowId:`%"${e}"%`}).then((e=>{const[s]=e.data;s&&"object"===typeof s&&(t=s)}))}return t}))}async function x(e){return(0,i.queryBot2)("loadPortfolioById",{id:e}).then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}function v(e){e&&"object"===typeof e&&(e.likes&&(e.likes=Object.values(JSON.parse(e.likes))),e.likes&&"object"===typeof e.likes||(e.likes=[]))}async function T(e,t=void 0){return(0,i.queryBot2)(t?"loadProjectByUserId2":"loadProjectByUserId1",{userId:e,portfolioId:t}).then((async e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(await v(s),t=s),t}))}async function _(e,t){return(0,i.queryBot2)(`loadProjectByField-${e}`,{value:t}).then((async e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(await v(s),t=s),t}))}async function z(e,t=void 0){return(0,i.queryBot2)(t?"loadProjectById2":"loadProjectById1",{id:e,portfolioId:t}).then((async e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(await v(s),t=s),t}))}async function A(e=void 0){return(0,i.queryBot2)("loadProjects",{portfolioId:e}).then((async e=>{let t;const s=e.data;return s&&"object"===typeof s&&(t={},await Object.values(s).forEach((async e=>{await v(e),t[e.id]=e}))),t}))}async function S(){return(0,i.queryBot2)("loadRoles").then((e=>{let t;const s=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function L(){return(0,i.queryBot2)("loadStatuses").then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=e.data),t}))}async function O(){return(0,i.queryBot2)("loadCourses").then((e=>{const t=e.data;if(!t||"object"!==typeof t)return;const s={};return t.forEach((e=>{s[e.id]=e})),s}))}async function C(e){return(0,i.queryBot2)("loadLimits",{portfolioId:e}).then((async e=>{const[t]=e.data;if(!t||"object"!==typeof t)return;const s=await S();if(!s||"object"!==typeof s)return;const i={};return await s.forEach((e=>{const s=e.name,o=t[`limit_${s}`];i[s]=o?parseInt(t[`limit_${s}`],10):void 0})),i}))}async function $(e){return(0,i.queryBot2)("loadAuthorsByPortfolioId",{portfolioId:e}).then((e=>{let t;const s=e.data;return s&&"object"===typeof s&&(t={},Object.values(s).forEach((e=>{t[e.project_id]=e}))),t}))}async function E(e){return(0,i.queryBot2)("loadAuthorByProjectId",{projectId:e}).then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function P(e){return(0,i.queryBot2)("loadUsersByProjectId",{projectId:e}).then((e=>{let t;const s=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function q(e){return(0,i.queryBot2)("loadUserById",{userId:e}).then((e=>{let t;console.log("sql:",e.data);const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function U(e){return(0,i.queryBot2)("loadUserInfoById",{userId:e}).then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function Q(e){return(0,i.queryBot2)("loadUserCourses",{userId:e}).then((e=>{let t;const[s]=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function Z(e,t){return(0,i.queryBot2)("loadUsersByProjectRoleId",{projectId:e,role:t}).then((e=>{let t;const s=e.data;return s&&"object"===typeof s&&(t=s),t}))}async function B(e,t){const s=await(0,i.queryBot2)("loadUsersByPortfolioCourseId1",{portfolioId:e}).then((async e=>{const[t]=e.data;if(t&&"object"===typeof t)return t}));if(!s||"object"!==typeof s||!s.flows_id)return;const o=s.flows_id.replace("[","(").replace("]",")").replaceAll('"',"").replaceAll(" ","");return(0,i.queryBot2)("loadUsersByPortfolioCourseId2",{courseId:t,flowsId:o}).then((e=>{const t=e.data;return t&&"object"===typeof t?t:void 0}))}async function Y(e){return(0,i.queryBot2)("removeProjectDocumentById",{id:e}).then((e=>(console.log("del >",e),!0)))}async function F(e){const{portfolioId:t,documentId:s}=e;return(0,i.queryBot2)("removePortfolioDocuments",{portfolioId:t,documentId:s}).then((e=>(console.log("del >",e),!0)))}async function V(e){return(0,i.queryBot2)("removePortfolioById",{portfolioId:e}).then((e=>(console.log("del >",e),!0)))}async function W(e){return(0,i.queryBot2)("removeProjectById",{projectId:e}).then((e=>(console.log("del >",e),!0)))}async function H(e){await(0,i.queryBot2)("removeUsersByProjectId",{projectId:e}).then((e=>{console.log("del >",e)}))}async function R(e){await(0,i.queryBot2)("removeUserById",{userId:e}).then((t=>{console.log("del >",t,e)}))}async function G(e){const{id:t,value:s}=e;t&&await(0,i.queryBot2)("saveProjectDocumentUrl",{value:s,id:t}).then((()=>{console.log("upd")}))}async function J(e){const{projectId:t,documentId:s,url:o}=e;return(0,i.queryBot2)("saveProjectDocumentParams",{projectId:t,documentId:s,url:o}).then((()=>!0))}async function K(e){const{id:t,key:s,value:o}=e;s&&t&&await(0,i.queryBot2)(`savePortfolioDocument-${s}`,{value:o,id:t}).then((()=>{console.log("upd")}))}async function X(){return(0,i.queryBot2)("savePortfolioDocument").then((()=>!0))}async function ee(e){const{id:t,value:s}=e;t&&await(0,i.queryBot2)("saveDocumentTitle",{value:s,id:t}).then((()=>{console.log("upd")}))}async function te(e){const{id:t,value:s}=e;t&&await(0,i.queryBot2)("saveDocumentDescription",{value:s,id:t}).then((()=>{console.log("upd")}))}async function se(){return(0,i.queryBot2)("saveDocument").then((()=>!0))}s(42699);async function ie(e){const{id:t,key:s,value:o}=e;s&&t&&await(0,i.queryBot2)(`savePortfolioItem-${s}`,{value:o,id:t}).then((()=>{console.log("upd")}))}async function oe(){return(0,i.queryBot2)("savePortfolioInsert").then((()=>!0))}var ae=s(51791);async function re(e){await(0,i.queryBot2)("saveProjectLikes",{likes:JSON.stringify(e.likes),id:e.id}).then((()=>{console.log("upd")}))}async function ne(e){const{id:t,key:s,value:o}=e;s&&t&&await(0,i.queryBot2)(`saveProjectItem-${s}`,{value:o,id:t}).then((e=>{console.log("upd",e)}))}async function le(e){if(e.id)return(0,i.queryBot2)("saveProjectUpdate",{customer:o(e.customer)?"":e.customer,portfolio:o(e.portfolio)?"0":e.portfolio,status:o(e.status)?"0":e.status,is_open:o(e.is_open)?"0":e.is_open,title:o(e.title)?"":(0,ae.Z)(e.title),description:o(e.description)?"":(0,ae.Z)(e.description),color:o(e.color)?"":e.color,icon:o(e.icon)?"":e.icon,community:o(e.community)?"":e.community,location:o(e.location)?"":e.location,url:o(e.url)?"":e.url,notes:o(e.notes)?"":(0,ae.Z)(e.notes),id:e.id}).then((()=>!0))}async function ue(e,t){const s=a();return(0,i.queryBot2)("saveProjectInsert",{userId:e,portfolioId:t,dt:s}).then((()=>_("author",e)))}async function ce(e,t,s=void 0){let o;await(0,i.queryBot2)("saveUser",{userId:e}).then((e=>{const[t]=e.data;t&&"object"===typeof t&&(o=t)}));const r=await S(),n=await Q(e);if(!n||"object"!==typeof n||!r||"object"!==typeof r)return;const l=await r.filter((e=>e.course_id===n.course_id)).shift(),u=o&&o.count?parseInt(o.count,10)+1:1,c=await a();let d;return s=s&&parseInt(s,10)>0?"1":"0",await(0,i.queryBot2)(o?"saveUserUpdate":"saveUserInsert",{projectId:t,role:l.name,date:c,count:o?u:"0",author:s,userId:e}).then((i=>{console.log("r",o?"saveUserUpdate":"saveUserInsert",i),d={id:"0",user_id:e,project_id:t,role:l.name,date:c,count:o?u:"0",isAuthor:s}})),s&&await ne({id:t,key:"author",value:e}),d}},71905:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});s(65663);var i=s(42214);const o={computed:{user(){const{user:e}=this.$store.state.pages;return e}},methods:{openUrl(e){window.open(e,"_blank")},loginTg(){let e="https://t.me/Kurs1TBot?start=from_club";this.$route.fullPath.startsWith("/go/")&&(e=`https://t.me/Kurs1TBot?start=from_club=go_${this.$route.fullPath.replace("/go/","")}`),window.open(e,"_blank")},loginVk(){let e="0";this.$route.href.startsWith("/next")&&(e="1");let t=`${window.location.origin}/sot.bot/vk_app/api/auth.php?next=${e}`;this.$route.fullPath.startsWith("/go/")&&(t=`${window.location.origin}/sot.bot/vk_app/api/auth.php?state=go_${this.$route.fullPath.replace("/go/","")}&next=${e}`),window.open(t,"_blank")},async loadCourses(){const e=[],t='select * from views where parent_uuid = "root" and type = "button" order by view_index',s=await this.$db.tasks.getCourses();return await(0,i.query)(t).then((t=>{const i=t.data;for(let o=0;o<i.length;o+=1){const t=i[o];if(!t.params)continue;const a=JSON.parse(t.params);if("course_page"===a.to&&"hidden"!==a.visibility){const t=s.filter((e=>+e.id===+a.course_id))[0];t&&(a.courseInfo=t),e.push(a)}}})),e}}},a=o},70583:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var i=s(42214),o=s(33317),a=s(99354),r=s(94237),n=s(77026),l=s(2805);const u=class extends l.Z{constructor(){super(),this.label="Новый блок",this.type="block",this.innertype="block",this.p_headline=null,this.fixd=!1,this.public=!1,this.about="",this.fields=[],this.activeField=null,this.views=[],this.activeView=null,this.activeTab="form",this.getInnerHTMLResultHeader=(0,o.Z)(this.pgetInnerHTMLResultHeader,100)}pgetInnerHTMLResultHeader(){let e='<section class="portfolio__contents contents"><h3 class="contents__title">Оглавление</h3><div class="contents__row">',t=this.getNext();const s=e=>{_.each(this.fields,(t=>{const s=_.find(e.fields,(e=>e.tag===t.tag));t.value=s?.value||""}))};while(t?.counting)t.visible&&(s(t),e+=`<div onclick="document.getElementById('${t.id}').scrollIntoView()">${this.p_getInnerHTML()}</div>`),t=t.getNext();return s({}),e+="</div></section>",e}getInnerHTML(e){let t=(0,n.p1)(this.activeView?.content);_.each(this.fields,(e=>{if(e.tag){const s="exmp"===e.tag&&e.value?`href="${e.value}"`:e.value;t=t.replaceAll(`$${e.tag}`,s||"")}})),_.each(Object.keys(this),(e=>{t=t.replaceAll(`$AA${e}`,this[e])}));let s="";if(e){const e=this.getParentBy("innertype","mockup");s=e?.css?.content}return t=t.replace("<pre>",""),t=t.replace("</pre>",""),t=t.replace("<code>",""),t=t.replace("</code>",""),t=`<div id="${this.id}" class="druid_block">${t}</div> ${s}`,t}save(){if("template"===this.parent.innertype)return this.parent.save();const e={fixd:this.fixd,public:this.public,visible:!0,about:this.about};return e.fields=_.map(this.fields,((e,t)=>{const{type:s,label:i,tag:o,key:a,value:r,hint:n}=e;return{type:s,label:i,tag:o,key:a,value:r,hint:n,position:t}})),this.saveData(e)}initData(e){this.data=_.clone(e),e&&(this.serverId=e.id,this.label=e.title,this.target=e.target,this.description=e.description,"5"===this.serverId&&(this.p_getInnerHTML=this.getInnerHTML,this.getInnerHTML=this.getInnerHTMLResultHeader,this.headline=this.label),this.fixd=this.dataJSON.fixd,this.counting=!this.fixd,this.about=this.dataJSON.about,this.public=this.dataJSON.public,_.each(this.dataJSON.fields,(e=>{const t=new a.Z(e.type);t.label=e?.label,t.tag=e?.tag,t.key=e?.key,t.value=e?.value||"",t.hint=e?.hint,t.position=e?.position||0,this.addNode(t,this.fields)})),this.activeField||(this.activeField=this.firstChild(this.fields)))}initViews(){if(!this.serverId)return this.addNode(new r.Z,this.views),this.activeView=this.firstChild(this.views),null;const e=`SELECT * FROM tree_nodes WHERE (type = "view") AND (target = ${this.serverId})`;return(0,i.queryBot)(e).then((e=>{_.each(e.data,(e=>{const t=new r.Z;t.initData(e),this.addNode(t,this.views)})),0===this.views.length&&this.addNode(new r.Z,this.views),this.activeView=this.firstChild(this.views)}))}get headline(){return this.p_headline||_.find(this.fields,(e=>"title"===e.tag))?.value}set headline(e){this.p_headline=e}}},44289:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});s(65663);var i=s(72505),o=s.n(i),a=s(42214),r=s(77026),n=s(70583),l=s(94237),u=s(2805);const c=class extends u.Z{constructor(){super(),this.label="Новый док",this.innertype="doc",this.css=null,this.activeTab="blocks",this.activeTabView="view"}getInnerHTML(){let e="",t=1;_.each(this.children,(s=>{s.visible&&(s.counting&&(s.index=t,t+=1),_.isFunction(s.getInnerHTML)&&(e+=s.getInnerHTML()))}));const s=this.css?.content||"";return e=`<html><body>${e} ${s}</body></html>`,e}save(){const e={blocks:[]};return _.each(this.children,((t,s)=>{const i={};i.id=t.serverId,i.visible=t.visible,i.about=t.about,i.position=s,_.each(t.fields,(e=>{i[e.key]=e.value,"file"!==e.type&&"img"!==e.type||(i[e.key]={value:e.value,filename:e.filename})})),i.activeViewId=t.activeView?.serverId,e.blocks.push(i)})),e.cssViewId=this.cssViewId,this.saveData(e)}saveData(e){let t=_.isObject(e)?JSON.stringify(e):String(e);return t=t.replaceAll('"',"'"),this.serverId?(0,a.queryBot2)("update-portfolio-doc",{descr:t,type:this.type}):(0,a.queryBot2)("insert-portfolio-doc",{title:this.headline,type:this.type,descr:t,target:this.target,mockupId:this.mockupId??0})}queryData(){const e=`SELECT * FROM tree_nodes WHERE type = "${this.type}"`;return(0,a.queryBot)(e).then((e=>{e.data.length>0&&this.initData(_.first(e.data))}))}initCSS(){const e=this.findChildren("mockup",this.superRoot,"innertype");if(this.css=e?.css||_.find(e?.children,(e=>e.css?.serverId===this.cssViewId))?.css,this.css)return console.log("find in tree css"),Promise.resolve();const t=`SELECT * FROM tree_nodes WHERE (type = "view") AND (id = ${this.cssViewId||-1})`;return(0,a.queryBot)(t).then((e=>{const t=new l.Z;t.label="css",this.css=t,0===e.data.length?this.css.save():t.initData(e.data[0])}))}initData(e){this.serverId=e.id,this.label=e.title,this.type=e.type,this.target=e.target,this.description=e.description,this.isPass=e.is_pass,this.mockupId=e.mockup_id,this.cssViewId=this.dataJSON?.cssViewId,this.initCSS();let t=this.findChildren("mockup",this.superRoot,"innertype");const s=_.find(t?.nTemplate?.children,(e=>e.target===this.last_course_id));_.each(this.dataJSON?.blocks,(e=>{const i=this.findChildren(String(e.id),this.superRoot,"serverId");if(!i)return!0;const o=new n.Z;return o.initData(i.data),o.initViews(),o.position=e.position,o.visible=!!_.isUndefined(e.visible)||e.visible,_.each(o.fields,(t=>{t.value=_.isObject(e[t.key])?e[t.key].value:e[t.key],t.filename=_.isObject(e[t.key])?e[t.key].filename:e[t.key]})),t=_.find(s?.children,(e=>e?.fields[0]?.value===o.fields[0]?.value)),o.about=t?.about||i?.about,o.activeViewId=e.activeViewId||o.activeViewId,this.addNode(o),1===this.children.length&&(this.activeBlock=o),this.children.sort(r.et),_.isFunction(this.tickTree)&&this.tickTree(),!0}))}getResourceLinkList(){const e=[];return _.each(this.children,(t=>{"5"!==t.serverId&&_.each(t.fields,(t=>{if(("img"===t.type||"file"===t.type)&&t.value){const{value:s,filename:i}=t;e.push({value:s,filename:i})}}))})),e}get headline(){const e=this.findChildren("1",this,"serverId"),t=_.find(e?.fields,(e=>"user.shownname"===e.tag)),s=_.find(e?.fields,(e=>"course.title"===e.tag));return`${t?.value}, ${s?.value}`}saveToHTML(){const e=this.getInnerHTML(),t=(e,t,s)=>{const i=new Blob([e],{type:s}),o=document.createElement("a"),a=URL.createObjectURL(i);o.href=a,o.download=t,document.body.appendChild(o),o.click(),setTimeout((()=>{document.body.removeChild(o),window.URL.revokeObjectURL(a)}),0)};t(e,`${this.headline}.html`,"text/plain")}imagesUrlToBase64(){const e=[];return _.each(this.children,(t=>{_.each(t.fields,(async t=>{"img"===t.type&&t.value&&e.push((0,r.ZJ)(t.value).then((e=>{t.value=e})))}))})),Promise.allSettled(e)}saveToPDF(){const e={margin:1,filename:`${this.headline}.pdf`,image:{type:"jpeg",quality:.9},html2canvas:{scale:1},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};this.imagesUrlToBase64().then((()=>{o()(this.getInnerHTML(),e)}))}}},99354:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var i=s(77026),o=s(2805);const a=class extends o.Z{constructor(e){super(),this.type=e,this.innertype="field",this.label=(0,i.zQ)(e),this.icon=(0,i.Hw)(e),this.value="",this.tag="",this.symbols="",this.min="",this.max="",this.hint="",this.fixd=!1,this.required=!1}}},94237:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var i=s(2805);const o=class extends i.Z{constructor(){super(),this.type="view",this.innertype="view",this.label="Новый вид",this.content=""}save(){return this.saveData(this.content)}initData(e){this.serverId=e.id,this.label=e.title,this.target=e.target,this.content=e.description?.replaceAll("'",'"')}}},2805:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});s(65663);var i=s(11185),o=s(42214),a=s(42699);const r=class{constructor(){this.key=(0,i.Z)(),this.id=(0,i.Z)(),this.label="Узел дерева",this.type="",this.level=0,this.hover=!1,this.iconColor="",this.img="",this.avatar="",this.p_children=[],this.disabled=!1,this.expandable=!0,this.selectable=!0,this.handler=null,this.tickable=!1,this.noTick=!1,this.tickStrategy="none",this.lazy=!1,this.header="",this.body="",this.parentId="",this.parent=null,this.position=1,this.visible=!0,this.editing=!1,this.editable=!0,this.expanded=!1,this.compareFunc=null}get hasChildren(){return this.children.length>0}get children(){return this.p_children}set children(e){this.p_children=e}firstChild(e=this.children){return _.first(e)}lastChild(e=this.children){return _.last(e)}addNode(e,t=this.children){_.find(t,(t=>t.id===e.id))||(e.parent=this,t.push(e),_.isFunction(this.compareFunc)&&t.sort(this.compareFunc))}moveAfter(e){if(e){const t=_.findIndex(e.parent.children,(t=>t.key===e.key));t&&(this.parent.removeNode(this.id),this.parent=e.parent,e.parent.children.splice(t,0,this),_.each(e.parent.children,((e,t)=>{e.position=t})),_.isFunction(this.compareFunc)&&e.parent.children.sort(this.compareFunc))}}removeNode(e,t=this.children){const s=_.findIndex(t,(t=>t.id===e));t.splice(s,1)}sortChildren(){_.isFunction(this.compareFunc)&&this.children.sort(this.compareFunc)}existChildren(e){return!!_.find(this.children,(t=>t.id===e))}applyChildren(e){_.each(e,(e=>{this.existChildren(e.id)||this.addNode(e)}))}findChildren(e,t=this,s="id"){let i=null;return _.each(t.children,(t=>(t[s]===e?i=t:t.hasChildren&&(i=this.findChildren(e,t,s)),!i))),i}getChild(e,t=this.children){return _.find(t,(t=>t.id===e))}getNext(){if(this.parent){const e=_.findIndex(this.parent.children,(e=>e.id===this.id));return e<this.parent.children.length-1?this.parent.children[e+1]:null}return null}getPrev(){if(this.parent){const e=_.findIndex(this.parent.children,(e=>e.id===this.id));return e>-1?this.parent.children[e-1]:null}return null}get superRoot(){let e=this;while(e?.parent)e=e.parent;return e}tickTree(){this.superRoot.key=(0,i.Z)()}getParentBy(e,t){let s=this;while(s[e]!==t&&s?.parent)s=s.parent;return s}save(){console.log("save default",this.label)}delete(){const e=`DELETE FROM tree_nodes WHERE id=${this.serverId}`;return(0,o.queryBot)(e)}saveData(e){let t=_.isObject(e)?JSON.stringify(e):String(e);t=(0,a.ZP)(t),t=t.replace(/[\n\r]/g,"");const s=this.getParentBy("innertype","mockup")?.serverId||0;if(this.serverId){const e=`UPDATE tree_nodes SET title = "${this.label}", description = "${t}", target = ${this.parent?.serverId||this.target}  WHERE id = ${this.serverId}`;return(0,o.queryBot)(e)}const i=`INSERT INTO tree_nodes (title, type, description, target, mockup_id) VALUES ("${this.label}", "${this.type}", "${t}", ${this.parent?.serverId||0}, ${s})`;return(0,o.queryBot)(i).then((e=>{this.serverId=e.data.id}))}get dataJSON(){this.p_dataJSON=null;try{this.p_dataJSON=JSON.parse(this.description.replaceAll("'",'"'))}catch{console.error("JSON.parse description error",this.type,this.description.replaceAll("'",'"')),this.p_dataJSON=null}return this.p_dataJSON}}},77026:(e,t,s)=>{"use strict";s.d(t,{XT:()=>z,et:()=>x,p1:()=>k,Hw:()=>b,zQ:()=>j,od:()=>v,ZJ:()=>T});var i=s(11417),o=s(83673),a=s(62323);const r=(0,o._)("span",{class:"text-center text-weight-bold q-px-xl",style:{"font-size":"24px","line-height":"30px","margin-bottom":"28px"}},"Создать портфолио?",-1),n={class:"row q-gutter-xs"};function l(e,t,s,i,l,u){const c=(0,o.up)("q-space"),d=(0,o.up)("q-btn"),h=(0,o.up)("q-card"),p=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(p,{ref:"dialog","content-class":"modal-sm","data-vue-component":"InitPortfolioDialog"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"portfolio_dialog column q-px-lg q-py-md play-font text-white",style:{background:"rgba(150, 0, 255, 0.2)","backdrop-filter":"blur(25px)","border-radius":"12px"}},{default:(0,o.w5)((()=>[r,(0,o.Wm)(c),(0,o._)("div",n,[(0,o.Wm)(d,{class:"col",style:(0,a.j5)([{"border-radius":"12px",height:"48px"},l.validName?"background: linear-gradient(90deg, #9600FF 0%, #0019FF 100%);":"background: rgba(181, 197, 252, 0.2);"]),disable:!l.validName,label:"Да",onClick:u.onCreate},null,8,["style","disable","onClick"]),(0,o.Wm)(d,{class:"col",style:{"border-radius":"12px",height:"48px",border:"1px solid #9070D5"},label:"Отмена",onClick:t[0]||(t[0]=t=>e.$refs.dialog.hide())})])])),_:1})])),_:1},512)}s(65663);var u=s(42214),c=s(44289),d=s(2805),h=s(70583);const p={name:"InitPortfolioDialog",data(){return{checking:!1,validName:!0,root:new d.Z,region:""}},computed:{state(){return this.checking?"sync":this.validName?"done":"close"},user(){return this.$store.state.pages.user||{}}},created(){this.loadRegions(),this.loadCourse();const e='SELECT * FROM tree_nodes WHERE type = "block"';return(0,u.queryBot)(e).then((e=>{_.each(e.data,(e=>{const t=new h.Z;t.initData(e),t.initViews(),this.root.addNode(t)}))}))},methods:{loadCourse(){(0,u.queryBot2)("get-course-by-id",{courseId:this.user.last_course_id}).then((e=>{[this.course]=e.data,this.loading=!1}))},loadRegions(){this.regions=void 0,(0,u.queryBot)(`select code, label from okato where code="${this.user.region_number}" order by label`).then((e=>{this.regions=e.data.map((e=>({label:e.label,value:e.code}))),this.region=_.find(this.regions,(e=>e.value===this.user.region_number.toString()))}))},onCreate(){const e=`SELECT * FROM tree_nodes WHERE type="template" AND target=${this.user.last_course_id}`;(0,u.queryBot)(e).then((e=>{const t=new c.Z;this.root.addNode(t),t.last_course_id=this.user.last_course_id,t.initData(e.data[0]),t.type=this.user.unti_id,t.label=this.user.unti_id,t.target=-1*e.data[0].id,t.serverId=null,t.mockupId=18;const s=t.findChildren("1",t,"serverId");let i=_.find(s.fields,(e=>"user.shownname"===e.tag));i&&(i.value=z(this.user.shownname)),i=_.find(s.fields,(e=>"course.title"===e.tag)),i&&(i.value=this.course.title),i=_.find(s.fields,(e=>"user.about"===e.tag)),i&&(i.value=z(this.user.bio)),i=_.find(s.fields,(e=>"user.avatar"===e.tag)),i&&(i.value=this.user.avatar_url,i.filename=this.user.avatar_url.split("/").pop()),i=_.find(s.fields,(e=>"user.region_name"===e.tag)),i&&(i.value=this.region?.label||this.user.region_name);const o=t.findChildren("9",t,"serverId");i=_.find(o.fields,(e=>"user.mail"===e.tag)),i&&(i.value=this.user.email),i=_.find(o.fields,(e=>"user.tel"===e.tag)),i&&(i.value=this.user.tel),t.save().then((e=>{200===e.status&&(this.$router.push("/user/portfolio"),this.$emit("ok"),this.$refs.dialog.hide())}))}))}}};var g=s(74260),M=s(46778),m=s(10151),y=s(62025),f=s(2165),I=s(7518),w=s.n(I);const D=(0,g.Z)(p,[["render",l]]),N=D;function j(e){switch(e){case"string":return"Текст";case"file":return"Файл";case"img":return"Изображение";default:return"что за тип"}}function b(e){switch(e){case"string":return"article";case"file":return"attach_file";case"img":return"image";default:return"что за тип"}}function k(e){if(!e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.value}function x(e,t){return+e.position>+t.position?1:+e.position<+t.position?-1:0}function v(){return i.Z.create({component:N})}function T(e){return new Promise((t=>{fetch(e).then((e=>e.blob())).then((e=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.readAsDataURL(e)}))}))}function z(e){let t=e;return t=t.replaceAll('"',"“"),t=t.replaceAll("'","`"),t=t.replaceAll(/[^a-zA-Zа-яёА-ЯЁ\d\\/ !,*)(@?.:;#№%&$_^+~<>`“\\-]/g,""),t}w()(p,"components",{QDialog:M.Z,QCard:m.Z,QSpace:y.Z,QBtn:f.Z})},91870:(e,t,s)=>{"use strict";s.d(t,{K:()=>i});const i={Нет:0,Собран:1,Ошибка:2,Отправлен:3,Отклонен:4,Принят:5}},45563:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var i=s(42214);const o={getKey:async()=>{let e=sessionStorage.getItem("k1");return e||await i.apiBot.get("hello.php").then((t=>{const{data:s}=t;sessionStorage.setItem("k1",s.kmsJs93d),sessionStorage.setItem("v2",s.nnzbxvVd3h),e=s.kmsJs93d})),e}},a=o},57481:()=>{},71333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>xe});var i={};s.r(i),s.d(i,{findUnsavedExercise:()=>w,getCachedExercise:()=>I,getFocusedNode:()=>y,getPage:()=>m,getShowStartDateThemes:()=>f});var o={};s.r(o),s.d(o,{addExerciseData:()=>$,clearCachedExercise:()=>P,removeExerciseData:()=>E,setDebug:()=>b,setFilterProvider:()=>S,setFilterTag:()=>A,setFocusedNode:()=>N,setIsEntryDiag:()=>O,setLeftMenu:()=>k,setLeftMenuActive:()=>x,setLms:()=>L,setPage:()=>D,setPageTitle:()=>v,setShowStartDateThemes:()=>C,setSlideTab:()=>z,setSlideTabs:()=>T,setUser:()=>j});var a={};s.r(a),s.d(a,{getUnreadCount:()=>Z,getUnreadTotal:()=>B});var r={};s.r(r),s.d(r,{incUnreadCount:()=>W,setChats:()=>F,setUnreadCount:()=>Y,setUnreadCountNew:()=>V,setUnreadTotal:()=>H});var n={};s.r(n),s.d(n,{setUnreadCount:()=>R});var l={};s.r(l),s.d(l,{setProgress:()=>X});var u={};s.r(u),s.d(u,{setSettings:()=>oe});var c={};s.r(c),s.d(c,{setAllows:()=>ue,setDisable:()=>de,setPortfolioId:()=>ce,setRole:()=>he,setUserProject:()=>pe});var d={};s.r(d),s.d(d,{getUnreadCount:()=>ye,getUnreadTotal:()=>fe});var h={};s.r(h),s.d(h,{changeLeftDrawerOpen:()=>Ie,changePreviewState:()=>Ne,changeRightPanelState:()=>we,changeToolbarState:()=>De,setParentId:()=>je});var p=s(23340),g=s(10741);function M(){return{page:{type:void 0,params:void 0},isEntryDiag:!1,focusedNode:void 0,user:void 0,isDebugMode:!1,leftMenu:void 0,leftMenuActive:void 0,pageTitle:void 0,slideTabs:void 0,slideTab:void 0,filterTag:void 0,filterProvider:void 0,lms:{loaded:!1,diagType:"",useSso:!1,ssoUrl:void 0},showStartDateThemes:void 0,exercisesData:[]}}function m(e){return e.page}function y(e){return e.focusedNode}function f(e){return e.showStartDateThemes}function I(e){return t=>_.find(e.exercisesData,(e=>e.exerciseId===t))}function w(e){return(t,s)=>_.find(e.exercisesData,(e=>e.taskId===t&&e.userId===s&&!e.saved))}s(65663);function D(e,t){e.page=t}function N(e,t){e.focusedNode=t}function j(e,t){e.user=t}function b(e,t){e.isDebugMode=t}function k(e,t){e.leftMenu=t}function x(e,t){e.leftMenuActive=t}function v(e,t){e.pageTitle=t}function T(e,t){e.slideTabs=t}function z(e,t){e.slideTab=t}function A(e,t){e.filterTag=t}function S(e,t){e.filterProvider=t}function L(e,t){e.lms=t}function O(e,t){e.isEntryDiag=t}function C(e,t){e.showStartDateThemes=t,localStorage.setItem("showStartDateThemes",t)}function $(e,t){_.remove(e.exercisesData,(e=>e.exerciseId===t.exerciseId)),e.exercisesData.push(t)}function E(e,t){_.remove(e.exercisesData,(e=>e.exerciseId===t))}function P(e){_.remove(e.exercisesData,(()=>!0))}var q=s(36444);const U={namespaced:!0,getters:i,mutations:o,actions:q,state:M},Q=()=>({unreadCount:0,chats:void 0,chatsUnread:{},unreadTotal:0});function Z(e){return e.unreadCount}function B(e){return e.unreadTotal}function Y(e,t){e.unreadCount=t}function F(e,t){e.chats=t}function V(e,{chatId:t,count:s}){e.chatsUnread[t]=s}function W(e,t){const{chatsUnread:s}=e;s[t]=(s[t]||0)+1}function H(e,t){e.unreadTotal=t}function R(e,t){e.setUnreadCount(t)}const G={namespaced:!0,getters:a,mutations:r,actions:n,state:Q};function J(){return{timeProgress:{value:void 0,max:void 0}}}var K=s(82730);function X(e,t){e.timeProgress=t}var ee=s(23546);const te={namespaced:!0,getters:K,mutations:l,actions:ee,state:J};function se(){return{settings:{adminPageTitle:void 0,defaultPageTitle:void 0,autoAcceptEntryDiag:void 0}}}var ie=s(8819);function oe(e,t){e.settings=t}var ae=s(67180);const re={namespaced:!0,getters:ie,mutations:u,actions:ae,state:se},ne=()=>({allows:void 0,portfolioId:void 0,disable:void 0,role:void 0,userProject:void 0});var le=s(59096);function ue(e,t){e.allows||(e.allows={}),e.allows=t}function ce(e,t){e.portfolioId=t}function de(e,t){e.disable=t}function he(e,t){e.role=t}function pe(e,t){e.userProject=t}var ge=s(48789);const Me={namespaced:!0,getters:le,mutations:c,actions:ge,state:ne},me=()=>({leftDrawerOpen:!0,rightPanelState:!1,toolbarState:!1,preview:!1,parentId:null});function ye(e){return e.unreadCount}function fe(e){return e.unreadTotal}function Ie(e){e.leftDrawerOpen=!e.leftDrawerOpen}function we(e){e.rightPanelState=!e.rightPanelState}function De(e){e.toolbarState=!e.toolbarState}function Ne(e,t){e.preview=t??!e.preview}function je(e,t=null){e.parentId=t}var be=s(57481);const ke={namespaced:!0,getters:d,mutations:h,actions:be,state:me},xe=(0,p.h)((()=>{const e=(0,g.MT)({modules:{pages:U,chat:G,testing:te,platform:re,projects:Me,adaptogen:ke},strict:!1});return e}))},36444:()=>{},67180:()=>{},8819:()=>{},48789:()=>{},59096:()=>{},23546:()=>{},82730:()=>{},38328:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var i=s(83673),o=s(62323);function a(e,t,s,a,r,n){const l=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.j4)(l,{class:(0,o.C_)({"text-body1":!0,button:!s.portfolioStyle,portfolio_btn:s.portfolioStyle}),label:s.label,loading:s.loading,disable:s.disable,"no-caps":"","text-color":"white",outline:s.outline},null,8,["class","label","loading","disable","outline"])}const r={name:"NextButton",props:{label:{type:String,default:void 0},loading:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},portfolioStyle:{type:Boolean,default:!1}}};var n=s(74260),l=s(2165),u=s(7518),c=s.n(u);const d=(0,n.Z)(r,[["render",a],["__scopeId","data-v-38b6ab28"]]),h=d;c()(r,"components",{QBtn:l.Z})},22292:(e,t,s)=>{"use strict";s.d(t,{X:()=>y,Z:()=>T});var i=s(83673),o=s(98880),a=s(62323);const r={class:"q-gutter-y-sm"},n={class:"text-subtitle2 row"},l=["innerHTML"],u={class:"column q-gutter-y-sm"},c={class:"col column q-gutter-md no-wrap",style:{"padding-top":"10px"}},d={class:"col column items-center",style:{"padding-top":"10px"}},h={style:{"padding-bottom":"8px"}};function p(e,t,s,p,g,M){const m=(0,i.up)("q-space"),y=(0,i.up)("q-tooltip"),f=(0,i.up)("q-btn"),I=(0,i.up)("q-file"),w=(0,i.up)("NextButton");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",n,[(0,i._)("div",{innerHTML:e.q.text},null,8,l),(0,i.Wm)(m),(0,i.wy)((0,i.Wm)(f,{icon:"edit",flat:"",round:"",size:"sm",color:"primary",onClick:M.select},{default:(0,i.w5)((()=>[(0,i.Wm)(y,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Заменить")])),_:1})])),_:1},8,["onClick"]),[[o.F8,!e.optionsVisible]])]),(0,i.wy)((0,i._)("div",u,[(0,i._)("div",c,[(0,i.Wm)(I,{borderless:"",ref:"qFile",modelValue:g.file,"onUpdate:modelValue":[t[0]||(t[0]=e=>g.file=e),M.onChangedFile],label:"Выбрать файл",accept:M.getFileExt,class:"next-input2 input-file1"},null,8,["modelValue","accept","onUpdate:modelValue"])]),(0,i.wy)((0,i._)("div",d,[(0,i.Wm)(w,{style:{"min-width":"200px"},label:"Далее",onClick:M.next,loading:g.loading},null,8,["onClick","loading"])],512),[[o.F8,g.file]])],512),[[o.F8,e.optionsVisible]]),(0,i.wy)((0,i._)("div",h,[e.response?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"text-weight-bold cursor-pointer text-blue",onClick:t[1]||(t[1]=t=>M.openUrl(e.response))},(0,a.zw)(e.response),1)):(0,i.kq)("",!0)],512),[[o.F8,!e.optionsVisible]])])}var g=s(73488),M=s(42214),m=s(38328);const y=["phtml","php","php3","php4","php5","php6","php7","phps","cgi","pl","asp","aspx","shtml","shtm","htaccess","htpasswd","ini","log","sh","js","html","htm","css","sql","spl","scgi","fcgi"],f={name:"qtFile",components:{NextButton:m.Z},mixins:[g.Z],data(){return{file:void 0,galleryFile:void 0,loading:!1,uploadProgress:0}},mounted(){this.checkResponse()},computed:{getFileExt(){return this.question.file_ext}},methods:{async next(e=!0){const t=this.file.name.split(".").pop();y.includes(t)?this.$q.notify(`Недопустимое расширение файла: ".${t}"`):(this.loading=!0,(0,M.uploadFile)(this.file,this).then((t=>{this.checkUpdateAnswer(t),this.response=t,this.loading=!1,this.response?(this.optionsVisible=!1,e&&this.$emit("next",this.response)):this.$q.notify("Ошибка отправки файла на сервер")})).catch((()=>{this.$q.notify("Ошибка отправки файла. Попробуйте позднее")})))},saveFile(e,t){const s=document.createElement("a");document.body.appendChild(s),s.setAttribute("href",e),s.setAttribute("download",t),s.click()},checkResponse(){const{response:e}=this.question;e&&(this.response=e,this.optionsVisible=!1)},openUrl(e){window.open(e,"_blank")},select(){this.$refs.qFile.pickFiles()},onChangedFile(){this.optionsVisible||this.next(!1)},checkUpdateAnswer(e){const{user:t}=this.$store.state.pages;if(!t)return;const{question:s}=this;s&&s.id&&this.response&&(0,M.queryBot2)("update-user-answer",{answer:e,questionId:s.id,chatId:t.chat_id})}}};var I=s(74260),w=s(62025),D=s(2165),N=s(5363),j=s(64974),b=s(86115),k=s(7518),x=s.n(k);const v=(0,I.Z)(f,[["render",p]]),T=v;x()(f,"components",{QSpace:w.Z,QBtn:D.Z,QTooltip:N.Z,QFile:j.Z,QField:b.Z})},37644:(e,t,s)=>{"use strict";s.d(t,{Z:()=>k});var i=s(83673),o=s(98880),a=s(62323);const r={class:"q-gutter-y-sm"},n={class:"text-subtitle2"},l=(0,i._)("base",{target:"_blank"},null,-1),u=["innerHTML"],c={class:"column q-gutter-y-sm"},d={class:"col column items-center",style:{"padding-top":"10px"}};function h(e,t,s,h,p,g){const M=(0,i.up)("q-space"),m=(0,i.up)("q-tooltip"),y=(0,i.up)("q-btn"),f=(0,i.up)("q-input"),I=(0,i.up)("NextButton");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",n,[l,(0,i._)("div",{innerHTML:e.q.text},null,8,u),(0,i.Wm)(M),(0,i._)("div",null,[(0,i.wy)((0,i.Wm)(y,{icon:"edit",flat:"",round:"",size:"sm",color:"primary",onClick:g.edit},{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Заменить")])),_:1})])),_:1},8,["onClick"]),[[o.F8,!e.optionsVisible]])])]),(0,i.wy)((0,i._)("div",c,[(0,i.Wm)(f,{ref:"input",modelValue:e.response,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.response=t),g.setPersistCache],label:"Введите ответ",autofocus:"",autogrow:"",style:{"max-height":"75vh",overflow:"auto"},class:"next-input2","input-style":"margin-top: 2px; margin-bottom: 2px;"},null,8,["modelValue","onUpdate:modelValue"]),(0,i._)("div",d,[(0,i.Wm)(I,{style:{"min-width":"200px"},label:"Далее",onClick:g.next,disabled:p.disabled},null,8,["onClick","disabled"])])],512),[[o.F8,e.optionsVisible]]),(0,i.wy)((0,i._)("div",{style:{"white-space":"pre-wrap"}},(0,a.zw)(e.response),513),[[o.F8,!e.optionsVisible]])])}var p=s(73488),g=s(38328),M=s(42214);const m={name:"qtInput",components:{NextButton:g.Z},mixins:[p.Z],data(){return{disabled:!1}},mounted(){this.checkResponse(),this.loadPersistentCache()},methods:{async next(){this.response&&this.validate(this.response)&&(this.disabled||(this.disabled=!0,this.optionsVisible=!1,this.clearPersistCache(),await this.checkUpdateAnswer(this.response),this.$emit("next",this.response)))},validate(e){const{answers:t}=this.question;if(t&&t.type){const{min:s}=t,{max:i}=t;if("string"===t.type){if(s&&e.length<+s)return this.$q.notify(`Минимальная допустимая длина строки: ${s}`),this.$refs.input.select(),!1;if(i&&e.length>+i)return this.$q.notify(`Максимальная допустимая длина строки: ${i}`),this.$refs.input.select(),!1}if("number"===t.type){const t=Number(e);if(!t)return this.$q.notify("Введите число"),!1;if(s&&t<+s)return this.$q.notify(`Минимальная допустимое значение: ${s}`),this.$refs.input.select(),!1;if(i&&t>+i)return this.$q.notify(`Максимальная допустимое значение: ${i}`),this.$refs.input.select(),!1}}return!0},checkResponse(){const{response:e}=this.question;e&&(this.response=e,this.disabled=!0,this.optionsVisible=!1)},loadPersistentCache(){const{persistId:e}=this,t=localStorage.getItem(e);t&&(this.response=t)},setPersistCache(e){const{persistId:t}=this;localStorage.setItem(t,e)},clearPersistCache(){const{persistId:e}=this;localStorage.removeItem(e)},edit(){this.response&&'"'===this.response[0]&&'"'===this.response[this.response.length-1]&&(this.response=this.response.slice(1,this.response.length-1)),this.disabled=!1,this.optionsVisible=!0,this.$nextTick((()=>{this.$refs.input.select()}))},async checkUpdateAnswer(e){const{user:t}=this.$store.state.pages;if(!t)return;const{question:s}=this;if(!s)return;if(!s.id)return;if(!this.response)return;await(0,M.queryBot2)("update-user-answer",{answer:e,questionId:s.id,chatId:t.chat_id});const{type:i}=s.question;"chat"===i&&await(0,M.queryBot2)("delete-answer-from-chat",{chatId:t.chat_id,questionId:s.id})}}};var y=s(74260),f=s(62025),I=s(2165),w=s(5363),D=s(64689),N=s(7518),j=s.n(N);const b=(0,y.Z)(m,[["render",h]]),k=b;j()(m,"components",{QSpace:f.Z,QBtn:I.Z,QTooltip:w.Z,QInput:D.Z})},24455:(e,t,s)=>{"use strict";s.d(t,{Z:()=>N});var i=s(83673),o=s(98880),a=s(62323);const r={class:"q-gutter-y-sm"},n=["innerHTML"],l={class:"column q-gutter-y-sm2"},u={class:"col column items-center",style:{"padding-top":"10px"}};function c(e,t,s,c,d,h){const p=(0,i.up)("q-radio"),g=(0,i.up)("q-item"),M=(0,i.up)("q-list"),m=(0,i.up)("NextButton");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",{class:"text-subtitle2",innerHTML:e.q.text},null,8,n),(0,i.wy)((0,i._)("div",l,[(0,i.Wm)(M,{class:"full-width col"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.options,((e,s)=>((0,i.wg)(),(0,i.j4)(g,{clickable:"",key:s,onClick:e=>d.optionIndex=s,style:{"border-radius":"10px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:d.optionIndex,"onUpdate:modelValue":t[0]||(t[0]=e=>d.optionIndex=e),val:s,label:e.label.replace(/\\\//g,"/").replace(/\\"/g,'"'),style:{"margin-left":"-14px"}},null,8,["modelValue","val","label"])])),_:2},1032,["onClick"])))),128))])),_:1}),(0,i._)("div",u,[(0,i.Wm)(m,{style:{"min-width":"200px"},label:"Далее",onClick:h.next,disabled:d.disabled},null,8,["onClick","disabled"])])],512),[[o.F8,e.optionsVisible]]),e.response?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:0,class:"text-right"},(0,a.zw)(e.response.label.replace(/\\\//g,"/").replace(/\\"/g,'"')),513)),[[o.F8,!e.optionsVisible]]):(0,i.kq)("",!0),e.incorrectMessage?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:1,class:"text-italic text-right",style:{"padding-bottom":"10px"}},(0,a.zw)(e.incorrectMessage.replace(/\\\//g,"/").replace(/\\"/g,'"')),513)),[[o.F8,!e.optionsVisible]]):(0,i.kq)("",!0)])}var d=s(73488),h=s(38328);const p={name:"qtOptions",components:{NextButton:h.Z},mixins:[d.Z],mounted(){this.options=this.question.answers.options,this.checkResponse()},data(){return{options:[],optionIndex:void 0,disabled:!1}},methods:{next(){this.response=this.options[this.optionIndex],this.response?this.disabled||(this.disabled=!0,this.checkIncorrectMessage(),this.optionsVisible=!1,this.$emit("next",this.response)):this.$q.notify("Выберите один из вариантов ответа")},checkIncorrectMessage(){if("0"===this.response.value){const e=this.q.message_incorrect;e&&(this.incorrectMessage=e)}},checkResponse(){const{response:e}=this.question;if(e){const[t]=this.options.filter((t=>t.label===e.label&&t.value===e.value));t&&(this.response=t,this.disabled=!0,this.checkIncorrectMessage(),this.optionsVisible=!1)}}}};var g=s(74260),M=s(64689),m=s(27011),y=s(83414),f=s(77991),I=s(7518),w=s.n(I);const D=(0,g.Z)(p,[["render",c]]),N=D;w()(p,"components",{QInput:M.Z,QList:m.Z,QItem:y.Z,QRadio:f.Z})},60998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>j});var i=s(83673),o=s(98880),a=s(62323);const r={class:"q-gutter-y-sm"},n=["innerHTML"],l={class:"column q-gutter-y-sm"},u={class:"col column items-center",style:{"padding-top":"10px"}},c={key:0,class:"text-right column q-gutter-y-xs"};function d(e,t,s,d,h,p){const g=(0,i.up)("q-checkbox"),M=(0,i.up)("q-item"),m=(0,i.up)("q-list"),y=(0,i.up)("NextButton");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",{class:"text-subtitle2",innerHTML:e.q.text},null,8,n),(0,i.wy)((0,i._)("div",l,[(0,i.Wm)(m,{class:"full-width col"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.options,((e,t)=>((0,i.wg)(),(0,i.j4)(M,{clickable:"",key:t,onClick:t=>e.checked=!e.checked},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{modelValue:e.checked,"onUpdate:modelValue":t=>e.checked=t,label:e.label,style:{"margin-left":"-14px","border-radius":"10px"}},null,8,["modelValue","onUpdate:modelValue","label"])])),_:2},1032,["onClick"])))),128))])),_:1}),(0,i._)("div",u,[(0,i.Wm)(y,{style:{"min-width":"200px"},label:"Далее",onClick:p.next,disabled:h.disabled},null,8,["onClick","disabled"])])],512),[[o.F8,e.optionsVisible]]),e.response?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.responseChecked,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},(0,a.zw)(e.label),1)))),128))],512)),[[o.F8,!e.optionsVisible]]):(0,i.kq)("",!0),e.incorrectMessage?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:1,class:"text-italic text-right",style:{"padding-bottom":"10px"}},(0,a.zw)(e.incorrectMessage),513)),[[o.F8,!e.optionsVisible]]):(0,i.kq)("",!0)])}s(65663);var h=s(73488),p=s(38328);const g={name:"qtOptionsMulti",components:{NextButton:p.Z},mixins:[h.Z],mounted(){this.options=this.question.answers.options,_.forEach(this.options,(e=>{e.checked=!1})),this.checkResponse()},data(){return{options:[],disabled:!1}},computed:{responseChecked(){if(Array.isArray(this.options)){const e=this.options.filter((e=>e.checked));return e}return this.options}},methods:{next(){this.response=[],_.forEach(this.options,(e=>{this.response.push(e)})),this.disabled||(this.disabled=!0,this.checkIncorrectMessage(),this.optionsVisible=!1,this.$emit("next",this.response))},checkIncorrectMessage(){let e=!1;if(_.forEach(this.options,(t=>{"0"===t.value&&t.checked&&(e=!0),"1"!==t.value||t.checked||(e=!0)})),e){const e=this.q.message_incorrect;e&&(this.incorrectMessage=e)}},checkResponse(){const{response:e}=this.question;e&&(this.response=e,this.options=e,this.disabled=!0,this.checkIncorrectMessage(),this.optionsVisible=!1)}}};var M=s(74260),m=s(64689),y=s(27011),f=s(83414),I=s(65735),w=s(7518),D=s.n(w);const N=(0,M.Z)(g,[["render",d]]),j=N;D()(g,"components",{QInput:m.Z,QList:y.Z,QItem:f.Z,QCheckbox:I.Z})},57985:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Y});var i=s(83673),o=s(98880),a=s(62323);const r={class:"q-gutter-y-sm"},n={class:"text-subtitle2 row"},l=["innerHTML"],u={class:"column q-gutter-y-sm"},c={class:"col column q-gutter-md no-wrap",style:{"padding-top":"10px"}},d={ref:"image",style:{"border-radius":"20px","object-fit":"cover","max-width":"100%"}},h={class:"col column items-center",style:{"padding-top":"10px"}},p={class:"relative-position"};function g(e,t,s,g,M,m){const y=(0,i.up)("q-space"),f=(0,i.up)("q-tooltip"),I=(0,i.up)("q-btn"),w=(0,i.up)("q-file"),D=(0,i.up)("NextButton"),N=(0,i.up)("q-img"),j=(0,i.up)("q-circular-progress"),b=(0,i.up)("CameraDialog");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",n,[(0,i._)("div",{innerHTML:e.q.text},null,8,l),(0,i.Wm)(y),(0,i.wy)((0,i.Wm)(I,{icon:"edit",flat:"",round:"",size:"sm",color:"primary",onClick:m.select},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Заменить")])),_:1})])),_:1},8,["onClick"]),[[o.F8,!e.optionsVisible]])]),(0,i.wy)((0,i._)("div",u,[(0,i._)("div",c,[(0,i.wy)((0,i._)("img",d,null,512),[[o.F8,M.photo]]),(0,i.Wm)(w,{ref:"qFile",modelValue:M.photo,"onUpdate:modelValue":[t[0]||(t[0]=e=>M.photo=e),m.onChangedFile],label:"Выбрать из галереи",accept:".jpg, .pdf, image/*",class:"next-input2"},null,8,["modelValue","onUpdate:modelValue"])]),(0,i.wy)((0,i._)("div",h,[(0,i.Wm)(D,{style:{"min-width":"200px"},label:"Далее",onClick:m.next,loading:M.loading},null,8,["onClick","loading"])],512),[[o.F8,M.photo]])],512),[[o.F8,e.optionsVisible]]),(0,i.wy)((0,i._)("div",p,[(0,i.Wm)(N,{src:e.response,fit:"contain",style:(0,a.j5)({"border-radius":"20px",opacity:M.loading?"0.3":"1.0"})},null,8,["src","style"]),(0,i.wy)((0,i.Wm)(j,{indeterminate:"",size:"sm",color:"primary",class:"absolute-center"},null,512),[[o.F8,M.loading]])],512),[[o.F8,!e.optionsVisible]]),(0,i.Wm)(b,{ref:"camera",title:"Сделать фото"},null,512)])}var M=s(73488);const m={class:"col-auto"},y=["height"],f=["height"],I=["width","height"],w={class:"row q-gutter-x-md"};function D(e,t,s,r,n,l){const u=(0,i.up)("q-toolbar-title"),c=(0,i.up)("q-space"),d=(0,i.up)("q-btn"),h=(0,i.up)("q-card-section"),p=(0,i.up)("q-circular-progress"),g=(0,i.up)("q-card"),M=(0,i.up)("q-dialog"),D=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(M,{modelValue:n.visible,"onUpdate:modelValue":t[0]||(t[0]=e=>n.visible=e)},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{style:{"min-width":"600px",height:"500px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{class:"row items-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"col"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(s.title),1)])),_:1}),(0,i.Wm)(c),(0,i._)("div",m,[(0,i.wy)((0,i.Wm)(d,{icon:"close",size:"sm",flat:"",round:"","no-caps":""},null,512),[[D]])])])),_:1}),(0,i.wy)((0,i.Wm)(h,{class:"absolute-full flex flex-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{indeterminate:"",size:"sm",color:"primary"})])),_:1},512),[[o.F8,n.loading]]),(0,i.wy)((0,i.Wm)(h,{class:"column items-center q-gutter-y-md"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("video",{ref:"camera",width:450,height:337.5,autoplay:""},null,8,y),[[o.F8,!n.isPhotoTaken]]),(0,i.wy)((0,i._)("canvas",{ref:"canvas",width:450,height:337.5},null,8,f),[[o.F8,n.isPhotoTaken]]),(0,i.wy)((0,i._)("canvas",{ref:"canvasOrigin",width:n.photoWidth,height:n.photoHeight},null,8,I),[[o.F8,!1]]),(0,i.wy)((0,i.Wm)(d,{label:"Сделать фото",onClick:l.takePhoto,"no-caps":""},null,8,["onClick"]),[[o.F8,!n.isPhotoTaken]]),(0,i._)("div",w,[(0,i.wy)((0,i.Wm)(d,{label:"Переснять",onClick:l.takePhoto,"no-caps":""},null,8,["onClick"]),[[o.F8,n.isPhotoTaken]]),(0,i.wy)((0,i.Wm)(d,{label:"Готово",onClick:l.done,"no-caps":""},null,8,["onClick"]),[[o.F8,n.isPhotoTaken]])])])),_:1},512),[[o.F8,!n.loading]])])),_:1})])),_:1},8,["modelValue"])}const N={name:"CameraDialog",props:{title:{type:String,default:void 0}},watch:{visible(e){e||this.stopCamera()}},data(){return{active:!1,loading:!1,visible:!1,isPhotoTaken:!1,photoWidth:0,photoHeight:0}},methods:{show(e){this.commit=e,this.visible=!0,this.active=!0,this.isPhotoTaken=!1,this.startCamera()},startCamera(){this.loading=!0;const e={audio:!1,video:!0};navigator.mediaDevices.getUserMedia(e).then((e=>{this.loading=!1,this.$refs.camera.srcObject=e;const t=e.getVideoTracks()[0].getSettings();this.photoWidth=t.width,this.photoHeight=t.height})).catch((e=>{this.loading=!1,this.$q.notify("Невозможно подключиться к камере"),console.error(e)}))},stopCamera(){if(!this.$refs.camera)return;if(!this.$refs.camera.srcObject)return;const e=this.$refs.camera.srcObject.getTracks();e.forEach((e=>{e.stop()}))},takePhoto(){this.isPhotoTaken=!this.isPhotoTaken;const{canvas:e}=this.$refs,t=e.getContext("2d");t.drawImage(this.$refs.camera,0,0,e.width,e.height)},done(){const e=this.$refs.canvasOrigin,t=e.getContext("2d");t.drawImage(this.$refs.camera,0,0,this.photoWidth,this.photoHeight);const s=e.toDataURL("image/jpeg");this.urltoFile(s,"photo.jpg","image/jpeg").then((e=>{this.commit(e),this.visible=!1}))},urltoFile(e,t,s){return fetch(e).then((e=>e.arrayBuffer())).then((e=>new File([e],t,{type:s})))}}};var j=s(74260),b=s(46778),k=s(10151),x=s(25589),v=s(13747),T=s(62025),_=s(2165),z=s(86122),A=s(60677),S=s(7518),L=s.n(S);const O=(0,j.Z)(N,[["render",D]]),C=O;L()(N,"components",{QDialog:b.Z,QCard:k.Z,QCardSection:x.Z,QToolbarTitle:v.Z,QSpace:T.Z,QBtn:_.Z,QCircularProgress:z.Z}),L()(N,"directives",{ClosePopup:A.Z});var $=s(42214),E=s(38328);const P={name:"qtPhoto",components:{NextButton:E.Z,CameraDialog:C},mixins:[M.Z],data(){return{photo:void 0,galleryFile:void 0,loading:!1,uploadProgress:0}},mounted(){this.checkResponse()},methods:{async next(e=!0){this.loading=!0;const t=this.photo.size/1024/1024;t>9?this.$q.notify("Превышен размер файла, пожалуйста, выберите изображение меньшего размера"):(0,$.uploadFile)(this.photo,this).then((t=>{this.checkUpdateAnswer(t),this.response=t,this.$nextTick((()=>{this.loading=!1})),this.response?(this.optionsVisible=!1,e&&this.$emit("next",this.response)):this.$q.notify("Ошибка отправки файла на сервер")})).catch((()=>{this.$q.notify("Ошибка отправки файла. Попробуйте позднее")}))},shot(){this.$refs.camera.show((e=>{this.photo=e,this.loadImage()}))},saveFile(e,t){const s=document.createElement("a");document.body.appendChild(s),s.setAttribute("href",e),s.setAttribute("download",t),s.click()},loadImage(){const e=this.photo;if(FileReader&&e){const t=new FileReader;t.onload=()=>{this.$refs.image.src=t.result},t.readAsDataURL(e)}},checkResponse(){const{response:e}=this.question;e&&(this.response=e,this.optionsVisible=!1)},select(){this.$refs.qFile.pickFiles()},onChangedFile(){this.optionsVisible||this.next(!1)},checkUpdateAnswer(e){const{user:t}=this.$store.state.pages;if(!t)return;const{question:s}=this;s&&s.id&&this.response&&(0,$.queryBot2)("update-user-answer",{answer:e,questionId:s.id,chatId:t.chat_id})}}};var q=s(5363),U=s(64974),Q=s(51598),Z=s(24152);const B=(0,j.Z)(P,[["render",g]]),Y=B;L()(P,"components",{QSpace:T.Z,QBtn:_.Z,QTooltip:q.Z,QFile:U.Z,QLinearProgress:Q.Z,QImg:Z.Z,QCircularProgress:z.Z})},86586:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var i=s(83673);function o(e,t,s,o,a,r){const n=(0,i.up)("q-icon"),l=(0,i.up)("q-input");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(l,{label:s.label,ref:"input",modelValue:a.tel,"onUpdate:modelValue":t[0]||(t[0]=e=>a.tel=e),"model-value":a.val,type:"tel",borderless:"",style:{"background-color":"white","border-radius":"16px",padding:"0 10px 0 10px",border:"2px solid #B2D0EB"},"input-style":"color: black"},{prepend:(0,i.w5)((()=>[s.icon?((0,i.wg)(),(0,i.j4)(n,{key:0,name:s.icon,style:{color:"#323758"}},null,8,["name"])):(0,i.kq)("",!0)])),_:1},8,["label","modelValue","model-value"])])}var a=s(44062);const r={name:"PhoneInput",mixins:[a.Z],props:{modelValue:{type:String,default:void 0},label:{type:String,default:"Мобильный телефон"},icon:{type:String,default:"call"}},mounted(){this.val=this.value},data(){return{tel:void 0,val:void 0}},watch:{tel(e){this.val=e,this.$emit("update:modelValue",this.puryfyTel(e))},modelValue(e){this.val||(this.val=this.formatTel(e))}},methods:{select(){this.$refs.input.select()},puryfyTel(e){let t=e.replaceAll("+","");t=t.replaceAll("(",""),t=t.replaceAll(")",""),t=t.replaceAll("-",""),t=t.replaceAll(" ","");const s=t.match(/^\d+$/);return s?(s.length>0&&(t=s[0]),t.length>0&&"8"===t[0]&&"+"!==e[0]&&(t=`7${t.slice(1)}`),t):""},formatTel(e){return e?(0===e.length||"7"===e[0]&&11===e.length&&(e=`+7 (${e.slice(1,4)}) ${e.slice(4,7)}-${e.slice(7,9)}-${e.slice(9,11)}`),e):e}}};var n=s(74260),l=s(64689),u=s(24554),c=s(7518),d=s.n(c);const h=(0,n.Z)(r,[["render",o]]),p=h;d()(r,"components",{QInput:l.Z,QIcon:u.Z})},18624:(e,t,s)=>{"use strict";s.d(t,{Z:()=>M});var i=s(83673),o=s(62323),a=s(98880);const r={class:"flex flex-center items-center row col"};function n(e,t,s,n,l,u){const c=(0,i.up)("q-circular-progress");return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({"shadow-button row items-center text-center cursor-pointer":!0,"bg-normal":!l.focused,"bg-focused":l.focused,"bg-grey cursor-default no-pointer-events":s.disabled}),onMouseenter:t[0]||(t[0]=e=>l.focused=!0),onMouseleave:t[1]||(t[1]=e=>l.focused=!1)},[(0,i.wy)((0,i._)("div",{class:"col text-subtitle1",style:(0,o.j5)({color:s.textColor})},(0,o.zw)(s.label),5),[[a.F8,!s.loading]]),(0,i.wy)((0,i._)("div",r,[(0,i.Wm)(c,{indeterminate:"",size:"sm",color:"white"})],512),[[a.F8,s.loading]])],34)}const l={name:"DefaultButton",props:{label:{type:String,default:void 0},textColor:{type:String,default:"white"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},data(){return{focused:!1,clicked:!1}},methods:{click(e){this.clicked||(this.disabled||this.loading?e.stopPropagation():(this.clicked=!0,e.stopPropagation(),this.$emit("click"),this.$nextTick((()=>{this.clicked=!1}))))}}};var u=s(74260),c=s(24152),d=s(86122),h=s(7518),p=s.n(h);const g=(0,u.Z)(l,[["render",n],["__scopeId","data-v-3bf90a32"]]),M=g;p()(l,"components",{QImg:c.Z,QCircularProgress:d.Z})},27497:(e,t,s)=>{"use strict";s.d(t,{Z:()=>v});var i=s(83673),o=s(98880),a=s(62323),r=s(54123),n=s.n(r),l=s(76782),u=s.n(l),c=s(47594),d=s.n(c),h=s(92472),p=s.n(h),g=s(61616),M=s.n(g);const m={style:{color:"black"},class:"text-body2"};function y(e,t,s,r,l,c){const h=(0,i.up)("q-img"),g=(0,i.up)("q-icon"),y=(0,i.up)("q-input");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(y,{label:s.label,ref:"input",mask:s.mask,modelValue:l.tel,"onUpdate:modelValue":t[0]||(t[0]=e=>l.tel=e),"model-value":l.val,type:s.type,borderless:"",style:{"background-color":"white","border-radius":"16px",padding:"0 10px 0 10px",border:"2px solid #B2D0EB"},"input-style":"color: black",debounce:400,autogrow:s.autogrow,loading:s.loading,readonly:s.readOnly},{prepend:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(h,{src:n(),width:"26px",height:"26px"},null,512),[[o.F8,"user"===s.svgIcon]]),(0,i.wy)((0,i.Wm)(h,{src:u(),width:"26px",height:"26px"},null,512),[[o.F8,"book-open"===s.svgIcon]]),(0,i.wy)((0,i.Wm)(h,{src:d(),width:"26px",height:"26px"},null,512),[[o.F8,"certificate-icon"===s.svgIcon]]),(0,i.wy)((0,i.Wm)(h,{src:p(),width:"26px",height:"26px"},null,512),[[o.F8,"map-pin"===s.svgIcon]]),(0,i.wy)((0,i.Wm)(h,{src:M(),width:"26px",height:"26px"},null,512),[[o.F8,"briefcase"===s.svgIcon]]),(0,i.wy)((0,i.Wm)(g,{name:s.icon,style:{color:"#323758"}},null,8,["name"]),[[o.F8,s.icon]])])),append:(0,i.w5)((()=>[(0,i._)("div",m,(0,a.zw)(s.suffix),1)])),_:1},8,["label","mask","modelValue","model-value","type","autogrow","loading","readonly"])])}var f=s(44062);const I={name:"TextInput",mixins:[f.Z],props:{modelValue:{type:String,default:void 0},label:{type:String,default:void 0},type:{type:String,default:"text"},svgIcon:{type:String,default:void 0},mask:{type:String,default:void 0},icon:{type:String,default:void 0},autogrow:{type:Boolean,default:void 0},suffix:{type:String,default:void 0},loading:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1}},mounted(){this.val=this.modelValue},data(){return{tel:void 0,val:void 0}},watch:{modelValue(e){e&&(e=e.replaceAll(".00",",00")),this.val=e},tel(e){this.val=e,this.$emit("update:modelValue",e)}},methods:{select(){this.$refs.input.select()}}};var w=s(74260),D=s(64689),N=s(24152),j=s(24554),b=s(7518),k=s.n(b);const x=(0,w.Z)(I,[["render",y]]),v=x;k()(I,"components",{QInput:D.Z,QImg:N.Z,QIcon:j.Z})},46434:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var i=s(83673),o=s(62323),a=s(98880),r=s(82506),n=s.n(r),l=s(42864),u=s.n(l),c=s(63058),d=s.n(c),h=(s(7652),s(85778)),p=s.n(h);const g=e=>((0,i.dD)("data-v-3f4f65cc"),e=e(),(0,i.Cn)(),e),M={key:0,class:"column",style:{"padding-bottom":"35px"}},m=g((()=>(0,i._)("img",{class:"absolute-top full-width",src:n(),style:{"object-fit":"cover",width:"100%","border-radius":"22px 22px 0 0"}},null,-1))),y={class:"col-auto row items-center text-white z-max q-gutter-x-md",style:{"margin-top":"-10px"}},f={class:"col text-h6"},I={key:0,class:"col text-white text-center full-width",style:{"z-index":"999"}},w={key:0,class:"ellipsis-2-lines"},D={key:0},N={key:1},j={key:0,class:"col-auto"};function b(e,t,s,r,l,c){const h=(0,i.up)("q-img"),g=(0,i.up)("q-btn");return this.$q.platform.is.desktop?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",M,[(0,i._)("div",{class:(0,o.C_)({"col-auto sot-header sot-font row items-center no-wrap":!0,"sot-borders":!e.$q.platform.is.mobile}),style:(0,o.j5)({width:e.$q.platform.is.mobile?"100%":"400px"})},[m,(0,i.wy)((0,i._)("div",y,[(0,i.Wm)(h,{class:"col-auto",src:u(),fit:"contain",width:"44px"}),(0,i._)("div",f,(0,o.zw)(e.$store.state.platform.settings.defaultPageTitle),1)],512),[[a.F8,s.params&&"root"===s.params.uuid||s.bigHeader]]),(0,i.wy)((0,i.Wm)(g,{flat:"",round:"",onClick:c.back},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{src:d(),width:"32px"})])),_:1},8,["onClick"]),[[a.F8,(!s.params||s.params&&"root"!==s.params.uuid&&"0"!==s.params.back_button_visible)&&!s.bigHeader&&!s.hideBackButton]]),s.bigHeader?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",I,[!s.params||s.params&&"root"!==s.params.uuid?((0,i.wg)(),(0,i.iD)("div",w,[s.params?((0,i.wg)(),(0,i.iD)("span",D,(0,o.zw)(s.params.title),1)):(0,i.kq)("",!0),s.label?((0,i.wg)(),(0,i.iD)("span",N,(0,o.zw)(s.label),1)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])),(0,i.wy)((0,i.Wm)(g,{flat:"",round:"",class:"no-pointer-events"},null,512),[[a.F8,(!s.params||s.params&&"root"!==s.params.uuid&&"0"!==s.params.back_button_visible)&&!s.bigHeader&&!s.hideBackButton]]),(0,i.kq)("",!0)],6),s.bigHeader?((0,i.wg)(),(0,i.iD)("div",j,[(0,i.Wm)(h,{src:n(),fit:"contain",style:{width:"100%"}}),(0,i.Wm)(h,{src:p(),fit:"contain",style:{width:"100%","margin-top":"-20px"}})])):(0,i.kq)("",!0)]))}const k={name:"SotHeader",props:{params:{type:Object,default:void 0},label:{type:String,default:void 0},bigHeader:{type:Boolean,default:!1},hideBackButton:{type:Boolean,default:!1}},methods:{back(e){this.$emit("back",e),e.cancelBubble||this.$pages.back()}}};var x=s(74260),v=s(24152),T=s(2165),_=s(7518),z=s.n(_);const A=(0,x.Z)(k,[["render",b],["__scopeId","data-v-3f4f65cc"]]),S=A;z()(k,"components",{QImg:v.Z,QBtn:T.Z})},25349:(e,t,s)=>{"use strict";s.d(t,{Z:()=>z});var i=s(83673),o=s(62323),a=s(98880),r=s(93088),n=s.n(r),l=s(38503),u=s.n(l),c=s(8955),d=s.n(c),h=s(62952),p=s.n(h);const g={key:0,class:"bg-button-task",style:{padding:"10px"}},M={style:{height:"50px",width:"54px","background-color":"white",margin:"8px","border-radius":"35px",color:"#0378FB"},class:"flex flex-center"},m={class:"col row items-center",style:{height:"70px"}},y={class:"column col",style:{padding:"0 5px 0 5px"}},f={class:"ellipsis-2-lines text-weight-bold"},I={style:{width:"40px"},class:"row items-center"},w={style:{position:"relative",height:"32px",width:"28px"}};function D(e,t,s,r,l,c){const h=(0,i.up)("q-circular-progress"),D=(0,i.up)("q-img");return(0,i.wg)(),(0,i.iD)("div",{onMouseenter:t[0]||(t[0]=(...e)=>c.mouseEnter&&c.mouseEnter(...e)),onMouseleave:t[1]||(t[1]=(...e)=>c.mouseLeave&&c.mouseLeave(...e)),onClickCapture:t[2]||(t[2]=(...e)=>c.click&&c.click(...e)),style:(0,o.j5)({overflow:"hidden",opacity:s.allowExec?"1.0":"0.5"})},[l.disabled?((0,i.wg)(),(0,i.iD)("div",g," Темы доступны только зарегистрированным обучаемым ")):(0,i.kq)("",!0),l.disabled?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,o.C_)({"row cursor-pointer items-center":!0,"text-weight-bold bg-button-task-grey":e.params.text_bold,"bg-button-task":!l.focused&&!e.params.text_bold,"bg-button-task-focused":l.focused})},[(0,i._)("div",M,[(0,i.wy)((0,i._)("div",{style:{color:"#0378FB","font-size":"18px"},class:"text-weight-bold"},(0,o.zw)(l.number),513),[[a.F8,!l.loading]]),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(h,{indeterminate:"",color:"primary",size:"sm"})],512),[[a.F8,l.loading]])]),(0,i._)("div",m,[(0,i._)("div",y,[(0,i._)("div",f,(0,o.zw)(c.title),1),(0,i.wy)((0,i._)("div",{class:"ellipsis"},(0,o.zw)(c.author),513),[[a.F8,"[Не указан]"!==c.author]])])]),(0,i._)("div",I,[(0,i._)("div",w,[(0,i.wy)((0,i.Wm)(D,{src:n()},null,512),[[a.F8,"success"===l.stateEmoji]]),(0,i.wy)((0,i.Wm)(D,{src:u()},null,512),[[a.F8,"skipped"===l.stateEmoji]]),(0,i.wy)((0,i.Wm)(D,{src:d()},null,512),[[a.F8,"bad"===l.stateEmoji]]),(0,i.wy)((0,i.Wm)(D,{src:p()},null,512),[[a.F8,"play"===l.stateEmoji]]),(0,i.wy)((0,i._)("div",{class:"text-caption text-weight-bold text-center",style:{position:"absolute",top:"5px",left:"1px","z-index":"10",width:"26px"}},(0,o.zw)(c.addStars),513),[[a.F8,"success"===l.stateEmoji&&c.addStars>1]])])])],2))],36)}s(65663);var N=s(44062);const j={name:"ButtonTask",mixins:[N.Z],props:{courseId:{type:Number,default:void 0},disableStart:{type:Boolean,default:!1},allowExec:{type:Boolean,default:!0},cachedTask:{type:Object,default:void 0},module:{type:Object,default:void 0},taskIndex:{type:Number,default:void 0}},mounted(){setTimeout((()=>{this.init()}),100)},computed:{title(){return this.task?this.task.title:void 0},author(){return this.task?this.task.author:void 0},addStars(){return this.task&&this.task.extra_stars?+this.task.add_stars+ +this.task.extra_stars:this.task?+this.task.add_stars:0}},data(){return{loading:!1,number:void 0,task:void 0,completedInfo:void 0,focused:!1,stateEmoji:void 0,disabled:!1}},methods:{init(){const{user:e}=this.$store.state.pages;if(!e)return void(this.disabled=!0);this.loading=!0;const t=this.params.task_id;if(this.cachedTask)return this.task=this.cachedTask,this.loading=!1,void this.loadTaskDetails();this.$db.tasks.getTask(t).then((e=>{this.task=e,this.loadTaskDetails()}))},loadTaskDetails(){const{user:e}=this.$store.state.pages,{task:t}=this,{module:s}=this,{taskIndex:i}=this;s&&void 0!==i?void 0!==s.index?this.number=`${s.index+1}.${i+1}`:this.number=i+1:t.num&&(this.number=(i+1).toString().padStart(2,"0")),this.$db.tasks.getTaskCompleted(t.id,e.chat_id).then((s=>{if(this.completedInfo=s,!s&&t.description&&(this.stateEmoji="play"),s){const e=this.task.success_score;+s.score>=+e||0===e?+t.add_stars>0&&(this.stateEmoji="success"):this.stateEmoji="bad","1"===s.is_skipped&&(this.stateEmoji="skipped")}this.$db.users.getUserChatTaskStars(e.chat_id,t.id).then((e=>{e&&+e>0&&(this.stateEmoji="success",this.task.extra_stars=+e)}))})),this.loading=!1},mouseEnter(){this.focused=!0},mouseLeave(){this.focused=!1},async click(e){this.disableStart?this.$q.notify("Для начала прохождения курса его нужно купить"):this.allowExec?(e.stopPropagation(),this.$emit("startTask",this.task),this.$q.platform.is.desktop?this.$router.push({name:"quiz",query:{taskId:this.task.id}}):this.$pages.push({to:"quiz",params:{task:this.task},quiz_done_button_visible:this.params.quiz_done_button_visible})):this.$q.notify("Для продолжения выполните предыдущие темы")}}};var b=s(74260),k=s(86122),x=s(24152),v=s(7518),T=s.n(v);const _=(0,b.Z)(j,[["render",D],["__scopeId","data-v-068fc1bd"]]),z=_;T()(j,"components",{QCircularProgress:k.Z,QImg:x.Z})},79880:(e,t,s)=>{"use strict";s.d(t,{Z:()=>I});var i=s(83673),o=s(62323),a=s(98880);const r={class:"col flex flex-center"},n={class:"col column flex flex-center"},l={class:"items-center column q-gutter-y-md"},u=(0,i._)("div",null,"Страница не найдена",-1),c={class:"text-grey text-caption"};function d(e,t,s,d,h,p){const g=(0,i.up)("q-circular-progress"),M=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)({"column no-wrap sot-page":!0,"absolute-full":e.$q.platform.is.mobile}),style:(0,o.j5)({overflow:"hidden",height:e.$q.platform.is.mobile?"":"calc(100vh - 40px)"})},[(0,i.WI)(e.$slots,"default"),(0,i.wy)((0,i._)("div",r,[(0,i.Wm)(g,{indeterminate:"",color:"primary",size:"sm"})],512),[[a.F8,s.loading]]),(0,i.wy)((0,i._)("div",n,[(0,i._)("div",l,[u,(0,i._)("div",c,(0,o.zw)(s.params),1),(0,i.Wm)(M,{label:"Назад",onClick:t[0]||(t[0]=t=>e.$pages.back()),"no-caps":""})])],512),[[a.F8,s.error]])],6)}const h={name:"BasePage",props:{loading:{type:Boolean,default:!1},error:{type:String,default:void 0},params:{type:Object,default:void 0}}};var p=s(74260),g=s(86122),M=s(2165),m=s(7518),y=s.n(m);const f=(0,p.Z)(h,[["render",d]]),I=f;y()(h,"components",{QCircularProgress:g.Z,QBtn:M.Z})},64891:(e,t,s)=>{"use strict";s.d(t,{Z:()=>D});var i=s(83673),o=s(98880);const a={class:"q-pa-md base-page-content",style:{"padding-top":"35px"}},r={class:"column text-color-sot q-gutter-y-sm",style:{"margin-bottom":"10px","padding-top":"20px"}},n={class:"text-center text-subtitle1",style:{"padding-bottom":"20px"}},l={class:"row no-wrap q-gutter-x-sm",style:{padding:"20px 0 20px 0"}};function u(e,t,s,u,c,d){const h=(0,i.up)("SotHeader"),p=(0,i.up)("TextInput"),g=(0,i.up)("PhoneInput"),M=(0,i.up)("q-checkbox"),m=(0,i.up)("DefaultButton"),y=(0,i.up)("BasePage");return(0,i.wg)(),(0,i.j4)(y,{loading:c.loading,error:c.error,params:s.params,style:{overflow:"hidden"}},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{label:"Оплата обучения"}),(0,i._)("div",a,[(0,i.wy)((0,i._)("div",r,[(0,i.wy)((0,i._)("div",n,"Проверьте актуальность Ваших данных",512),[[o.F8,d.user]]),(0,i.Wm)(p,{label:"Фамилия*",modelValue:c.surname,"onUpdate:modelValue":t[0]||(t[0]=e=>c.surname=e)},null,8,["modelValue"]),(0,i.Wm)(p,{label:"Имя*",modelValue:c.name,"onUpdate:modelValue":t[1]||(t[1]=e=>c.name=e)},null,8,["modelValue"]),(0,i.Wm)(p,{label:"Отчество (при наличии)",modelValue:c.patrname,"onUpdate:modelValue":t[2]||(t[2]=e=>c.patrname=e)},null,8,["modelValue"]),(0,i.Wm)(g,{label:"Контактный телефон*",modelValue:c.tel,"onUpdate:modelValue":t[3]||(t[3]=e=>c.tel=e),icon:""},null,8,["modelValue"]),(0,i.Wm)(p,{label:"Почта*",modelValue:c.email,"onUpdate:modelValue":t[4]||(t[4]=e=>c.email=e)},null,8,["modelValue"]),(0,i._)("div",l,[(0,i.Wm)(M,{modelValue:c.accepted,"onUpdate:modelValue":t[5]||(t[5]=e=>c.accepted=e)},null,8,["modelValue"]),(0,i._)("div",{class:"cursor-pointer",onClick:t[8]||(t[8]=e=>c.accepted=!c.accepted)},[(0,i.Uk)(" Принимаю условия "),(0,i._)("span",{class:"cursor-pointer text-blue",onClick:t[6]||(t[6]=(0,o.iM)((e=>d.openUrl("")),["stop"]))},"Политики"),(0,i.Uk)(" обработки персональных данных и "),(0,i._)("span",{class:"cursor-pointer text-blue",onClick:t[7]||(t[7]=(0,o.iM)((e=>d.openUrl("")),["stop"]))},"договора оферты")])]),(0,i.Wm)(m,{label:"Оплатить",onClick:d.pay},null,8,["onClick"])],512),[[o.F8,!c.loading]])])])),_:1},8,["loading","error","params"])}var c=s(79880),d=s(46434),h=s(18624),p=s(27497),g=s(86586);const M={name:"PagePayForCourse",components:{PhoneInput:g.Z,TextInput:p.Z,DefaultButton:h.Z,SotHeader:d.Z,BasePage:c.Z},props:{params:{type:Object,default:void 0}},data(){return{loading:!1,saving:!1,error:void 0,accepted:!1,surname:void 0,name:void 0,patrname:void 0,tel:void 0,email:void 0}},computed:{user(){return this.$store.state.pages.user},courseId(){return this.params.course_id}},watch:{user(){this.$nextTick((()=>{this.load()}))}},mounted(){this.load()},methods:{load(){const{user:e}=this;e&&(this.tel=e.tel,this.email=e.email,[this.surname,this.name,this.patrname]=e.shownname.split(" "))},openUrl(e){window.open(e,"_blank")},validate(){return this.surname?this.name?this.tel?this.email?!!this.accepted||(this.$q.notify("Для продолжения необходимо принять условия Политики обработки персональных данных и договора оферты"),!1):(this.$q.notify("Заполните обязательное поле: электронный адрес"),!1):(this.$q.notify("Заполните обязательное поле: номер телефона"),!1):(this.$q.notify("Заполните обязательное поле: имя "),!1):(this.$q.notify("Заполните обязательное поле: фамилия"),!1)},pay(){this.validate()&&console.log("pay")}}};var m=s(74260),y=s(65735),f=s(7518),I=s.n(f);const w=(0,m.Z)(M,[["render",u]]),D=w;I()(M,"components",{QCheckbox:y.Z})},44508:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var i=s(83673),o=s(98880),a=s(62323);const r={key:0,class:"q-pa-md base-page-content"},n={class:"q-gutter-y-lg",style:{"margin-bottom":"0"}},l={key:0,style:{width:"100%"}},u={class:"flex flex-center full-height"},c={class:"flex flex-center"},d=["innerHTML"],h=["innerHTML"],p={class:"column q-gutter-y-sm",style:{"padding-bottom":"16px"}},g={class:"row",style:{"padding-top":"15px"}},M={class:"col row"},m={class:"col row"},y={class:"col"};function f(e,t,s,f,I,w){const D=(0,i.up)("SotHeader"),N=(0,i.up)("q-circular-progress"),j=(0,i.up)("q-video"),b=(0,i.up)("q-img"),k=(0,i.up)("DefaultButton"),x=(0,i.up)("BasePage");return(0,i.wg)(),(0,i.j4)(x,{loading:I.loading,error:I.error,params:s.params,style:{overflow:"hidden"}},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(D,{label:w.title},null,8,["label"]),[[o.F8,"0"!==s.params.back_button_visible]]),I.task?((0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",n,[I.youtubeVideoUrl||I.preloadingVideo?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.wy)((0,i._)("div",u,[(0,i.Wm)(N,{indeterminate:"",size:"sm",color:"primary"})],512),[[o.F8,I.preloadingVideo]]),I.youtubeVideoUrl?((0,i.wg)(),(0,i.j4)(j,{key:0,src:I.youtubeVideoUrl,style:{"border-radius":"12px"},ratio:16/9},null,8,["src"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(b,{src:I.task.pretask_image_url,fit:"cover",style:{"border-radius":"12px"}},null,8,["src"])],512),[[o.F8,I.task.pretask_image_url]]),(0,i.wy)((0,i._)("div",c,[(0,i.Wm)(N,{indeterminate:"",color:"primary",size:"sm"})],512),[[o.F8,I.redirectsLoading]]),(0,i._)("div",{innerHTML:I.pretask_text},null,8,d),(0,i._)("div",{innerHTML:I.description},null,8,h),(0,i.wy)((0,i._)("div",{class:"text-weight-bold"},(0,a.zw)(s.params.final_text),513),[[o.F8,"1"===s.params.show_final_text]]),(0,i.wy)((0,i._)("div",null,[(0,i._)("div",null,"Сообщение организатора: "+(0,a.zw)(s.params.operator_answer),1)],512),[[o.F8,s.params.operator_answer]]),(0,i._)("div",p,[(0,i.wy)((0,i._)("div",g,[(0,i.Wm)(k,{label:"Пересдать",class:"col",onClick:w.start},null,8,["onClick"])],512),[[o.F8,I.task.description&&"1"===s.params.show_final_text&&!s.params.final_positive&&I.allowRetakeTask]]),(0,i._)("div",M,[(0,i.wy)((0,i.Wm)(k,{label:"Далее",class:"col",onClick:w.start},null,8,["onClick"]),[[o.F8,I.task.description]])]),(0,i._)("div",m,[(0,i.wy)((0,i.Wm)(k,{label:"Пропустить",class:"col",onClick:w.skip,loading:e.skipping},null,8,["onClick","loading"]),[[o.F8,I.task.description&&"1"!==s.params.is_skipped&&"1"!==s.params.show_final_text]])]),(0,i.wy)((0,i._)("div",y,"По этой теме нет теста",512),[[o.F8,!I.task.description]])])])])):(0,i.kq)("",!0)])),_:1},8,["loading","error","params"])}s(65663);var I=s(79880),w=s(42214),D=s(46434),N=s(18624);const j=s(85679),b={name:"PageTask",components:{DefaultButton:N.Z,SotHeader:D.Z,BasePage:I.Z},props:{params:{type:Object,default:void 0}},data(){return{allowStartTask:!0,loading:!1,error:void 0,task:void 0,youtubeVideoUrl:void 0,pretask_text:void 0,description:void 0,redirectsLoading:!1,allowRetakeTask:!1,preloadingVideo:!1,skippping:!1}},computed:{taskId(){return this.params.task_id},title(){const{title:e}=this.params;return!e&&this.task?this.task.title:e},user(){return this.$store.state.pages.user}},watch:{user(){this.$nextTick((()=>{this.load()}))}},mounted(){this.load()},methods:{load(){this.user&&(this.skipping=!1,this.loading=!0,this.pretask_text=void 0,this.description=void 0,this.$db.tasks.getTask(this.taskId).then((async e=>{this.task=e,this.allowStartTask=!0,this.description=e.description,this.pretask_text=e.pretask_text;const t=e.pretask_image_url;t&&(t.endsWith(".mov")||t.endsWith(".mp4"))&&(this.youtubeVideoUrl=e.pretask_image_url,this.preloadingVideo=!1,e.pretask_image_url=""),this.loading=!1,this.checkAllowRetakeTask(),this.allowStartTask&&this.checkAutostartTask()})))},async checkPrevTasksCompleted(){if(this.params.show_all_tasks)return!0;const{user:e}=this.$store.state.pages,{task:t}=this,s=await this.$db.tasks.getUncompletedTasks(t.num,e.chat_id);return s.length<2},start(){const{user:e}=this.$store.state.pages;e?this.$q.platform.is.desktop?this.$router.push({name:"quiz",query:{taskId:this.task.id}}):this.$pages.push({to:"quiz",params:{task:this.task},quiz_done_button_visible:this.params.quiz_done_button_visible}):this.$q.notify("Для выполнения темы требуется авторизация")},async makeLinks(e,t){e=await this.extractYoutubeVideo(e);const s=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#/%?=~_|!:,.;]*[-A-Z0-9+&@#/%=~_|])/gi,i=e.replace(s,"<a href='$1'>$1</a>"),o=/(^|[^/])(www\.[\S]+(\b|$))/gim;e=i.replace(o,'$1<a target="_blank" href="https://$2">$2</a>'),e=e.replaceAll("\n","<br/>"),"pretask_text"===t?this.pretask_text=e:this.description=e},checkAutostartTask(){"1"===this.params.auto_start&&this.$nextTick((()=>{this.$pages.push({to:"quiz",params:{task:this.task},quiz_done_button_visible:this.params.quiz_done_button_visible,auto_start:"1"})}))},async extractYoutubeVideo(e){const t=j(e);if(this.youtubeVideoUrl=void 0,t&&t.length>0)for(let s=0;s<t.length;s+=1){let i,o=t[s];if(!o)continue;if(this.youtubeVideoUrl)continue;const a=o.indexOf("\n");a>0&&(o=o.slice(0,a));const r=new FormData;r.append("url",o),await w.api.post("bypass_url.php",r).then((t=>{i=t.data.url,i&&!this.youtubeVideoUrl&&i.includes("youtube.com")&&(i=this.trimUrl(i),i.includes("embed")?this.youtubeVideoUrl=i:this.youtubeVideoUrl=this.makeYoutubeVideoEmbed(i),this.preloadingVideo=!1,this.redirectsLoading=!1,e=e.replace(o,""))}))}else this.redirectsLoading=!1;return e},makeYoutubeVideoEmbed(e){e=e.replaceAll("https://www.youtube.com/watch?","");const t=new URLSearchParams(e),s=t.get("v");let i=t.get("t")||"0";return i=i.replace(".",""),i=i.replace("s",""),e=`https://www.youtube.com/embed/${s}?autoplay=0&fs=1&start=${i}`,e},checkAllowRetakeTask(){this.allowRetakeTask=!0},trimUrl(e){const t=[".",",","!","?",";",'"',"`","'",")"];for(let s=0;s<t.length;s+=1){const i=t[s];e.slice(-1)===i&&(e=e.slice(0,-1))}return e},skip(){const{user:e}=this.$store.state.pages,{task:t}=this;this.skippping=!0,this.$db.tasks.skipTask(t.id,e.chat_id).then((()=>{this.skippping=!1,this.$pages.back(),this.$q.platform.is.desktop&&this.$router.back()}))}}};var k=s(74260),x=s(86122),v=s(1419),T=s(24152),_=s(7518),z=s.n(_);const A=(0,k.Z)(b,[["render",f]]),S=A;z()(b,"components",{QCircularProgress:x.Z,QVideo:v.Z,QImg:T.Z})},56851:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var i=s(83673);function o(e,t,s,o,a,r){const n=(0,i.up)("SotHeader"),l=(0,i.up)("ButtonTask"),u=(0,i.up)("BasePage");return(0,i.wg)(),(0,i.j4)(u,{loading:a.loading,error:a.error,params:s.params},{default:(0,i.w5)((()=>[s.params&&!s.params.hide_header?((0,i.wg)(),(0,i.j4)(n,{key:0,params:s.params},null,8,["params"])):(0,i.kq)("",!0),(0,i._)("div",{ref:"pageMainDiv",class:"column q-gutter-y-sm no-wrap base-page-content",onScroll:t[0]||(t[0]=(...t)=>e.onScroll&&e.onScroll(...t)),style:{padding:"40px 20px 0 20px"}},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.tasks,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i.Wm)(l,{params:{task_id:e.id,text_bold:e.text_bold,parent_params:s.params},"course-id":+a.courseId,"disable-start":!a.tasksEnabled,"allow-exec":e.allowExec,onStartTask:r.onStartTask,"cached-task":e,module:s.module,"task-index":t},null,8,["params","course-id","disable-start","allow-exec","onStartTask","cached-task","module","task-index"])])))),128))],544)])),_:1},8,["loading","error","params"])}s(65663);var a=s(79880),r=s(25349),n=s(46434),l=s(49790);const u={name:"PageTasks",components:{SotHeader:n.Z,ButtonTask:r.Z,BasePage:a.Z},mixins:[l.Z],props:{params:{type:Object,default:void 0},module:{type:Object,default:void 0}},mounted(){this.$nextTick((()=>{this.init()}))},data(){return{loading:!1,error:void 0,tasks:void 0,moduleId:void 0,courseId:void 0,tasksEnabled:!0,completedTasks:[]}},methods:{init(){this.loading=!0,this.courseId=this.params.course_id||1,this.tasksEnabled=this.params.tasksEnabled,this.moduleId=this.params.module_id,this.$db.users.getBoughtCourseInfo(this.courseId).then((e=>{if(e){let t="";this.moduleId&&(t=` and module_id = '${this.moduleId}'`),this.$db.tasks.getTasks(`course_id = ${this.courseId} ${t} and ((tariff <= ${e.tariff} and tariff >= 0) or tariff = ${-1*+e.tariff})`).then((e=>{this.loadTasks(e)}))}else{const e=`course_id = ${this.courseId}`;this.$db.tasks.getTasks(e).then((e=>{this.loadTasks(e)}))}}))},async loadTasks(e){if(this.params.show_all_tasks)return this.tasks=e.reverse(),void(this.loading=!1);const{user:t}=this.$store.state.pages;let s;this.completedTasks=[],t&&await this.$db.tasks.getTaskCompletedAll(t.chat_id,this.courseId).then((e=>{this.completedTasks=e}));const[i]=e;i&&await this.$db.tasks.getPrevTask(i.course_id,i.scheduled_date).then((e=>{[s]=e}));const o=[],{completedTasks:a}=this;for(let r=0;r<e.length;r+=1){const t=e[r];let i;t.allowExec=!1,s||0!==r||(t.allowExec=!0),s&&([i]=a.filter((e=>e.task_id===s.id))),i&&0===r&&(t.allowExec=!0);const[n]=a.filter((e=>e.task_id===t.id));if(n&&(t.allowExec=!0),r>0){const s=e[r-1];[i]=a.filter((e=>+e.task_id===+s.id)),i&&(t.allowExec=!0)}o.push(t)}this.loading=!1,this.tasks=o},onStartTask(e){this.$emit("startTask",e)}}};var c=s(74260);const d=(0,c.Z)(u,[["render",o]]),h=d},30990:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Y});var i=s(83673),o=s(98880);const a={class:"sot-page relative-position"},r={key:0,class:"q-gutter-y-lg fit"},n=["innerHTML"],l={key:2,class:"absolute-full overflow-auto",style:{"padding-bottom":"40px"}},u=(0,i._)("div",{style:{height:"64px",width:"1px"}},null,-1),c={key:0};function d(e,t,s,d,h,p){const g=(0,i.up)("SotHeader"),M=(0,i.up)("PageFirstSlide"),m=(0,i.up)("q-scroll-area"),y=(0,i.up)("q-carousel-slide"),f=(0,i.up)("q-carousel"),I=(0,i.up)("DefaultButton");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.wy)((0,i.Wm)(g,{label:p.task.title,params:{back_button_visible:"0"}},null,8,["label"]),[[o.F8,!e.$q.platform.is.desktop]]),(0,i.Wm)(f,{modelValue:h.slide,"onUpdate:modelValue":t[0]||(t[0]=e=>h.slide=e),"transition-prev":"slide-right","transition-next":"slide-left",swipeable:"",animated:"","control-color":"primary",navigation:"",padding2:"",arrows2:"",class:"shadow-1",style:{height:"calc(100vh - 8px)","padding-top":"40px"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.getSlides(),((e,t)=>((0,i.wg)(),(0,i.j4)(y,{name:`${t}`,key:t,class:"column no-wrap flex-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{ref_for:!0,ref:"scroll",class:"full-width fit",style:{padding:"0 20px 0 20px"}},{default:(0,i.w5)((()=>[void 0===e.index?((0,i.wg)(),(0,i.iD)("div",r,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.getQuestions(e),((e,t)=>((0,i.wg)(),(0,i.j4)((0,i.LL)(`qt_${e.question.type}`),{class:"overflow-hidden",key:t,question:e,onNext:p.next},null,40,["question","onNext"])))),128))])):(0,i.kq)("",!0),void 0===e.index||e.isFirstSlide?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:1,innerHTML:e.html_text,class:"absolute-full"},null,8,n)),void 0!==e.index&&e.isFirstSlide?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(M,{task:p.task,params:h.firstSlideParams},null,8,["task","params"])])):(0,i.kq)("",!0),u])),_:2},1536)])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"]),(0,i.wy)((0,i.Wm)(I,{class:"absolute-bottom-left",label:"Назад",style:{margin:"0 20px 12px 20px",width:"120px"},disabled:"0"===h.slide,onClick:t[1]||(t[1]=e=>h.slide=""+(+h.slide-1))},null,8,["disabled"]),[[o.F8,"0"!==h.slide]]),h.firstSlideParams?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",c,[(0,i.wy)((0,i.Wm)(I,{class:"absolute-bottom-left",label:"Пропустить",style:{margin:"0 20px 12px 20px",width:"120px"},onClick:p.skipTask,loading:h.skippping},null,8,["onClick","loading"]),[[o.F8,p.task.description&&"1"!==h.firstSlideParams.is_skipped&&"1"!==h.firstSlideParams.show_final_text]]),(0,i.wy)((0,i.Wm)(I,{class:"absolute-bottom-left",label:"Пересдать",style:{margin:"0 20px 12px 20px",width:"120px"},onClick:p.retakeTask,loading:h.skippping},null,8,["onClick","loading"]),[[o.F8,p.task.description&&"1"===h.firstSlideParams.show_final_text&&!h.firstSlideParams.final_positive]])],512)),[[o.F8,"0"===h.slide]]):(0,i.kq)("",!0),(0,i.Wm)(I,{class:"absolute-bottom-right",label:"Вперед",style:{margin:"0 20px 12px 20px",width:"120px"},disabled:+h.slide>=+p.getSlides().length-1,onClick:t[2]||(t[2]=e=>h.slide=""+(+h.slide+1))},null,8,["disabled"])])}s(65663);var h=s(37644),p=s(24455),g=s(60998),M=s(57985),m=s(22292),y=s(72496),f=s(42214),I=s(46434),w=s(18624),D=s(71905),N=s(62323);const j={key:0,class:"q-gutter-y-lg",style:{"margin-bottom":"0","padding-top":"20px"}},b=["innerHTML"],k=["innerHTML"],x={class:"column q-gutter-y-sm",style:{"padding-bottom":"16px"}},v={class:"col"};function T(e,t,s,a,r,n){const l=(0,i.up)("q-img");return s.params?((0,i.wg)(),(0,i.iD)("div",j,[(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(l,{src:s.task.pretask_image_url,fit:"cover",style:{"border-radius":"12px"}},null,8,["src"])],512),[[o.F8,s.task.pretask_image_url]]),(0,i._)("div",{innerHTML:s.task.pretask_text},null,8,b),(0,i._)("div",{innerHTML:s.task.description},null,8,k),(0,i.wy)((0,i._)("div",{class:"text-weight-bold"},(0,N.zw)(s.params.final_text),513),[[o.F8,"1"===s.params.show_final_text]]),(0,i.wy)((0,i._)("div",null,[(0,i._)("div",null,"Сообщение организатора: "+(0,N.zw)(s.params.operator_answer),1)],512),[[o.F8,s.params.operator_answer]]),(0,i._)("div",x,[(0,i.wy)((0,i._)("div",v,"По этой теме нет теста",512),[[o.F8,!s.task.description]])])])):(0,i.kq)("",!0)}const z={name:"PageFirstSlide",props:{task:{type:Object,default:void 0},params:{type:Object,default:void 0}}};var A=s(74260),S=s(86122),L=s(1419),O=s(24152),C=s(7518),$=s.n(C);const E=(0,A.Z)(z,[["render",T]]),P=E;$()(z,"components",{QCircularProgress:S.Z,QVideo:L.Z,QImg:O.Z});const q={name:"PageQuiz",mixins:[D.Z],props:{params:{type:Object,default:void 0}},components:{DefaultButton:w.Z,SotHeader:I.Z,PageFirstSlide:P,qt_input:h.Z,qt_options:p.Z,qt_chat:h.Z,qt_photo:M.Z,qt_file:m.Z,"qt_t-poll-single":p.Z,"qt_t-poll-multi":g.Z},computed:{task(){return this.params.params.task},questionsResponses(){return this.questions.slice(0,this.index+1)},currentSlide(){if(this.slides)return this.slides[+this.slide]}},mounted(){this.load()},data(){return{loading:!1,questions:void 0,index:0,finished:!1,taskResult:void 0,isResultPositive:!1,course:void 0,courseId:void 0,slide:"0",slides:[],skippping:!1,firstSlideParams:void 0}},watch:{user(){this.finished||this.$nextTick((()=>{this.load()}))}},methods:{async load(){this.questions=void 0,this.index=0,this.finished=!1,this.course=void 0;const e=this.task.id,{user:t}=this.$store.state.pages;if(!t)return;let s;await this.$db.tasks.getTask(e).then((e=>{e&&(this.courseId=e.course_id,this.$db.tasks.getUserCourse(t.id,e.course_id).then((e=>{this.course=e})))})),this.course||(await this.$db.tasks.startCourse(this.courseId,t.id),await this.$db.tasks.getUserCourse(t.id,this.courseId).then((e=>{this.course=e}))),await this.$db.tasks.getAnswers(t.chat_id,e).then((e=>{s=e})),await this.$db.tasks.getQuestions(e).then((e=>{let t=0,i=0;for(let n=0;n<e.length;n+=1){const o=e[n];if(o.index=i,o.question=JSON.parse(o.question),o.answers=JSON.parse(o.answers),"slide"!==o.question.type&&(i+=1),s){const[e]=s.filter((e=>+e.question_id===+o.id));if(e&&e.answer)try{["options","t-poll-single","t-poll-multi"].includes(o.question.type)?o.response=JSON.parse(e.answer):o.response=e.answer,o.response&&(t+=1)}catch(r){console.error(r)}}if(o.is_visible=void 0!==o.response,n>0){const t=e[n-1].response;t&&(o.is_visible=!0)}}this.index=t,this.questions=e;let o=[];const a={index:0,isFirstSlide:!0};this.slides=[a];for(let s=0;s<e.length;s+=1){const t=e[s];"slide"!==t.question.type?o.push(t):(o.length>0&&this.slides.push(o),this.slides.push(t),o=[])}o.length>0&&this.slides.push(o),this.questions=this.questions.filter((e=>"slide"!==e.question.type)),this.slide="0",t===e.length&&(this.finished=!0)})),this.loadFirstSlide()},next(e){if(this.index>=this.questions.length)return;this.questions[this.index].response=e,this.saveAnswer(this.questions[this.index]);const{currentSlide:t}=this,s=t[t.length-1];this.questions[this.index].id===s.id&&+this.slide<this.slides.length-1&&this.$nextTick((()=>{this.slide=""+(+this.slide+1)})),this.index+=1;const i=this.questions[this.index];if(!i)return this.scrollToBottom(),void this.finish();i.is_visible=!0,this.scrollToBottom()},async saveAnswer(e){const{task:t}=this,{user:s}=this.$store.state.pages;let i=e.response;const o=+this.getQuestionResult(e);e.result=o,!1===["input","photo","file"].includes(e.question.type)&&(i=JSON.stringify(i)),e.question.type,this.$db.tasks.insertAnswer(s.chat_id,t.id,e,i)},async finish(){setTimeout((()=>{this.scrollToBottom()}),400),this.loading=!0,this.finished=!0;const{task:e}=this,{user:t}=this.$store.state.pages,s=+e.max_result;let i=0;const{questions:o}=this;for(let c=0;c<o.length;c+=1){const e=o[c],t=+this.getQuestionResult(e);i+=t}const a=0!==s?100*i/s:100,r=new y.A(this,e,t,this.course);if(+a>=+this.task.success_score||0===+this.task.success_score){const s=this.task.final_text_success;this.taskResult=r.getText(s),this.isResultPositive=!0;const i=+t.stars+ +e.add_stars,o={...t};o.stars=i,this.$store.commit("pages/setUser",o)}else this.isResultPositive=!1,this.taskResult=y.A.getTextNotSuccess(e,+this.course.stars+ +this.course.extra_stars,this.course.title);await this.$db.tasks.insertCompletedTask(e.id,t.chat_id,i,a,this),this.$db.tasks.getTelegramTaskMessageId(e.id,t.chat_id).then((e=>{(0,f.removeTelegramMessage)(t.chat_id,e)})),this.loading=!1,(0,f.sendMessageToUser)(t,this.taskResult);const n=`cert-${t.id}-${this.course.id}`,l="1"!==localStorage.getItem(n),u=r.getStarsCount(!0);if(this.isResultPositive&&l&&u>=+this.course.min_stars_for_certificate){const e=window.location.origin,s=`Поздравляем! Вы набрали достаточное количество звёзд для получения удостоверения по курсу ${this.course.title}. Заполните данные для получения удостоверения на странице курса.`,i={title:"Удостоверение",url:`${e}?cert_course_id=${this.course.id}`};setTimeout((()=>{(0,f.sendMessageToUser)(t,s,i)}),5e3),localStorage.setItem(n,"1")}this.showResults()},getQuestionResult(e){if("input"===e.question.type)return 1;if("photo"===e.question.type)return 1;if("file"===e.question.type)return this.sentToOperatorChat(`${e.question.text}: ${e.response}`),1;if("chat"===e.question.type)return this.sentToOperatorChat(e.response),1;if("options"===e.question.type||"t-poll-single"===e.question.type)return+e.response.value;if("t-poll-multi"===e.question.type){let t=!1;return _.each(e.response,(e=>{"0"===e.value&&e.checked&&(t=!0),"1"!==e.value||e.checked||(t=!0)})),t?0:1}return 0},scrollToBottom(){setTimeout((()=>{const e=this.$refs.scroll[0];e&&e.setScrollPercentage("vertical",1,300)}),200)},sentToOperatorChat(e){const{user:t}=this.$store.state.pages,s=t.chat_id;this.$db.users.sendChatQuestion(s,this.task.id,e)},close(){window.open("","_parent","").close()},showResults(){if(this.$q.platform.is.desktop)return void this.$router.push({name:"quiz-result",query:{taskId:this.task.id}});const e={to:"quiz-result",text:this.taskResult,is_positive:this.isResultPositive,auto_start:this.params.auto_start,back_button_visible:this.params.back_button_visible,course_id:this.course.id,course_title:this.course.title};this.$pages.push(e)},getSlides(){const{slides:e}=this,{index:t}=this,s=[];for(let i=0;i<e.length;i+=1){const o=e[i];if(void 0!==o.index)s.push(o);else if(o.length>0){const e=o[0];if(!(+e.index<=+t))break;{s.push(o);const e=o.filter((e=>e.response));if(e.length<o.length)break}}}return s},getQuestions(e){const{index:t}=this;return e.filter((e=>+e.index<=+t))},async loadFirstSlide(){if(this.firstSlideParams=void 0,!this.user)return;let e;await this.$db.tasks.getTaskCompleted(this.task.id,this.user.chat_id).then((t=>{e=t}));const t=e&&"1"===e.is_skipped;if(!e||t)if(this.task.extra_stars>0&&!t){const e="2000-01-01 00:00",{task:t}=this,s=await this.$db.users.getLastUserChatTaskAnswer(this.user.chat_id,t.id,e),i=`⭐ Ваш результат по теме: ${this.task.extra_stars} ${y.A.getStarsWordCount(this.task.extra_stars)}`;this.firstSlideParams={to:"task",task_id:this.task.id,back_button_visible:"1",quiz_done_button_visible:"0",show_final_text:"1",final_text:i,final_positive:!0,operator_answer:s}}else{const e=_.get(this.params,"parent_params.show_all_tasks");this.firstSlideParams={to:"task",task_id:this.task.id,back_button_visible:"1",quiz_done_button_visible:"0",show_all_tasks:e,is_skipped:t?"1":"0",final_text:t?"Тема пропущена":"",show_final_text:t?"1":"0"}}else{const{score:t}=e,{task:s}=this,i=await this.$db.tasks.getUserCourse(this.user.id,s.course_id);if(!i)return console.error(`Ошибка загрузки курса ${s.course_id} для пользователя ${this.user.id}`),console.log("user:",this.user),void console.log("task:",s);let o,a={text:"",positive:!0};if(0===+s.add_stars){a.text="Оператор скоро проверит Ваш ответ";const e=await this.$db.users.getUserChatTaskStars(this.user.chat_id,s.id);if(e>0){const o={...s};o.add_stars=e,a=y.A.getTaskResultText(this,o,this.user,i,t)}const r=this.completedInfo.created_at;o=await this.$db.users.getLastUserChatTaskAnswer(this.user.chat_id,s.id,r),o&&0===+e&&(a=y.A.getTaskResultText(this,s,this.user,i,t),a.positive=!1)}else{a=y.A.getTaskResultText(this,s,this.user,i,t,this.task.extra_stars);const e="2000-10-17 11:00:40";o=await this.$db.users.getLastUserChatTaskAnswer(this.user.chat_id,s.id,e)}"1"===e.is_skipped&&(a.text="Тема пропущена"),this.firstSlideParams={to:"task",task_id:this.task.id,back_button_visible:"1",quiz_done_button_visible:"0",show_final_text:"1",final_text:a.text,final_positive:a.positive,operator_answer:o,is_skipped:e.is_skipped}}},skipTask(){const{user:e}=this.$store.state.pages,{task:t}=this;this.skippping=!0,this.$db.tasks.skipTask(t.id,e.chat_id).then((()=>{this.skippping=!1,this.$pages.back(),this.$q.platform.is.desktop&&this.$router.back()}))},async retakeTask(){const{user:e}=this.$store.state.pages,{task:t}=this;await this.$db.tasks.removeCompletedTask(t.id,e.chat_id),await this.$db.tasks.removeAnswers(e.chat_id,t.id),this.load()}}};var U=s(31277),Q=s(34593),Z=s(47704);const B=(0,A.Z)(q,[["render",d]]),Y=B;$()(q,"components",{QCarousel:U.Z,QCarouselSlide:Q.Z,QScrollArea:Z.Z,QCircularProgress:S.Z})},26147:(e,t,s)=>{"use strict";s.d(t,{Z:()=>S});var i=s(83673),o=s(98880),a=s(62323),r=s(46132),n=s.n(r),l=s(93088),u=s.n(l);const c={class:"column q-pa-lg base-page-content col"},d={class:"col flex flex-center text-center q-pa-lg"},h={class:"q-gutter-y-lg"},p={class:"row no-wrap items-start"},g={class:"text-weight-medium",style:{"padding-bottom":"10px"}},M={class:"text-caption text-grey",style:{"padding-bottom":"40px"}},m={class:"col-auto"},y={class:"col-auto row full-width"},f={key:0,class:"col-auto row full-width"};function I(e,t,s,r,l,I){const w=(0,i.up)("SotHeader"),D=(0,i.up)("q-img"),N=(0,i.up)("q-space"),j=(0,i.up)("DefaultButton"),b=(0,i.up)("BasePage");return(0,i.wg)(),(0,i.j4)(b,{class:"fit column"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(w,{params:{back_button_visible:"0"},label:s.params.course_title},null,8,["label"]),[[o.F8,!e.$q.platform.is.desktop]]),(0,i._)("div",c,[(0,i._)("div",d,[(0,i._)("div",h,[(0,i.Wm)(D,{src:n(),style:{width:"60%",height:"60%"},fit:"cover"}),(0,i._)("div",p,[(0,i.Wm)(D,{src:u(),style:{width:"32px","margin-top":"-3px"},fit:"contain"}),(0,i._)("div",g,(0,a.zw)(l.text),1)]),(0,i.wy)((0,i._)("div",M,"Теперь Вы можете закрыть это окно",512),[[o.F8,"1"===s.params.auto_start]])])]),(0,i.Wm)(N),(0,i._)("div",m,[(0,i.wy)((0,i._)("div",y,[(0,i.Wm)(j,{class:"col",label:"Пересдать",onClick:I.restartTask},null,8,["onClick"])],512),[[o.F8,l.allowRestartTask]]),"1"!==s.params.auto_start?((0,i.wg)(),(0,i.iD)("div",f,[(0,i.Wm)(j,{class:"col",label:"Назад",onClick:I.back},null,8,["onClick"])])):(0,i.kq)("",!0)])])])),_:1})}s(65663);var w=s(72496),D=s(46434),N=s(18624),j=s(79880);const b=s(11488),k={name:"PageQuizResult",components:{BasePage:j.Z,DefaultButton:N.Z,SotHeader:D.Z},props:{params:{type:Object,default:void 0}},data(){return{text:void 0,isPositive:!0,allowRestartTask:!1,task:void 0,course:void 0}},async mounted(){if(this.text=this.params.text,this.isPositive=this.params.is_positive,"1"===this.params.allow_restart_task){const{task:e}=this.params,{user:t}=this.$store.state.pages,s=+this.params.score,i=+e.success_score;await this.initCourse(e.id,t.id);const o=new w.A(this,e,t,this.course);if(+s>=+i||0===i){const t=e.final_text_success;this.text=o.getText(t),this.isPositive=!0}else this.isPositive=!1,this.text=w.A.getTextNotSuccess(e,o.getStarsCount(),this.course.title),this.checkAllowRetakeTask()}"1"===this.params.auto_start&&window.removeEventListener("beforeunload",this.$q.onClosePage)},methods:{initCourse(e,t){return new Promise((s=>{this.$db.tasks.getTask(e).then((e=>{this.task=e,this.$db.tasks.getUserCourse(t,e.course_id).then((e=>{this.course=e,s()}))}))}))},restartTask(){const{task:e}=this.params;this.$pages.push({to:"task",task_id:e.id,back_button_visible:"0",quiz_done_button_visible:"0",auto_start:this.params.auto_start})},checkAllowRetakeTask(){this.allowRestartTask=!1;const{user:e}=this.$store.state.pages,{task:t}=this;t&&this.$db.tasks.getTaskCompleted(t.id,e.chat_id).then((e=>{if(e){const t=b(e.created_at),s=b().diff(t,"day");this.allowRestartTask=s>=1}}))},async back(){if(this.$q.platform.is.desktop){const{taskId:e}=this.$route.query;let t;return e&&await this.$db.tasks.getTask(e).then((e=>{t=e})),void this.$router.push({name:"start-course",query:{course_id:t.course_id}})}this.$pages.back({to:"course"})}}};var x=s(74260),v=s(24152),T=s(62025),_=s(7518),z=s.n(_);const A=(0,x.Z)(k,[["render",I]]),S=A;z()(k,"components",{QImg:v.Z,QSpace:T.Z})},46700:(e,t,s)=>{var i={"./af":5809,"./af.js":5809,"./ar":46069,"./ar-dz":70481,"./ar-dz.js":70481,"./ar-kw":93994,"./ar-kw.js":93994,"./ar-ly":33312,"./ar-ly.js":33312,"./ar-ma":90239,"./ar-ma.js":90239,"./ar-sa":31863,"./ar-sa.js":31863,"./ar-tn":19607,"./ar-tn.js":19607,"./ar.js":46069,"./az":69281,"./az.js":69281,"./be":29945,"./be.js":29945,"./bg":59384,"./bg.js":59384,"./bm":21476,"./bm.js":21476,"./bn":43345,"./bn-bd":70216,"./bn-bd.js":70216,"./bn.js":43345,"./bo":81713,"./bo.js":81713,"./br":19655,"./br.js":19655,"./bs":87296,"./bs.js":87296,"./ca":43049,"./ca.js":43049,"./cs":62722,"./cs.js":62722,"./cv":98039,"./cv.js":98039,"./cy":95563,"./cy.js":95563,"./da":31960,"./da.js":31960,"./de":67533,"./de-at":76674,"./de-at.js":76674,"./de-ch":17732,"./de-ch.js":17732,"./de.js":67533,"./dv":78343,"./dv.js":78343,"./el":37004,"./el.js":37004,"./en-au":32517,"./en-au.js":32517,"./en-ca":84929,"./en-ca.js":84929,"./en-gb":99722,"./en-gb.js":99722,"./en-ie":96923,"./en-ie.js":96923,"./en-il":68050,"./en-il.js":68050,"./en-in":99624,"./en-in.js":99624,"./en-nz":70540,"./en-nz.js":70540,"./en-sg":14375,"./en-sg.js":14375,"./eo":10040,"./eo.js":10040,"./es":99720,"./es-do":25595,"./es-do.js":25595,"./es-mx":10180,"./es-mx.js":10180,"./es-us":61563,"./es-us.js":61563,"./es.js":99720,"./et":9217,"./et.js":9217,"./eu":39474,"./eu.js":39474,"./fa":85243,"./fa.js":85243,"./fi":57645,"./fi.js":57645,"./fil":55350,"./fil.js":55350,"./fo":75622,"./fo.js":75622,"./fr":91467,"./fr-ca":53439,"./fr-ca.js":53439,"./fr-ch":14335,"./fr-ch.js":14335,"./fr.js":91467,"./fy":86026,"./fy.js":86026,"./ga":32969,"./ga.js":32969,"./gd":21347,"./gd.js":21347,"./gl":11085,"./gl.js":11085,"./gom-deva":904,"./gom-deva.js":904,"./gom-latn":69597,"./gom-latn.js":69597,"./gu":28705,"./gu.js":28705,"./he":69128,"./he.js":69128,"./hi":92821,"./hi.js":92821,"./hr":9002,"./hr.js":9002,"./hu":94814,"./hu.js":94814,"./hy-am":30658,"./hy-am.js":30658,"./id":29344,"./id.js":29344,"./is":28204,"./is.js":28204,"./it":70376,"./it-ch":81549,"./it-ch.js":81549,"./it.js":70376,"./ja":69293,"./ja.js":69293,"./jv":96401,"./jv.js":96401,"./ka":60482,"./ka.js":60482,"./kk":87329,"./kk.js":87329,"./km":44241,"./km.js":44241,"./kn":23566,"./kn.js":23566,"./ko":52742,"./ko.js":52742,"./ku":92915,"./ku.js":92915,"./ky":86846,"./ky.js":86846,"./lb":44959,"./lb.js":44959,"./lo":82188,"./lo.js":82188,"./lt":58967,"./lt.js":58967,"./lv":41245,"./lv.js":41245,"./me":90751,"./me.js":90751,"./mi":57501,"./mi.js":57501,"./mk":11643,"./mk.js":11643,"./ml":15597,"./ml.js":15597,"./mn":67612,"./mn.js":67612,"./mr":19065,"./mr.js":19065,"./ms":84703,"./ms-my":84645,"./ms-my.js":84645,"./ms.js":84703,"./mt":64365,"./mt.js":64365,"./my":83788,"./my.js":83788,"./nb":57357,"./nb.js":57357,"./ne":99109,"./ne.js":99109,"./nl":63746,"./nl-be":31985,"./nl-be.js":31985,"./nl.js":63746,"./nn":27175,"./nn.js":27175,"./oc-lnc":70566,"./oc-lnc.js":70566,"./pa-in":32733,"./pa-in.js":32733,"./pl":182,"./pl.js":182,"./pt":505,"./pt-br":17839,"./pt-br.js":17839,"./pt.js":505,"./ro":39578,"./ro.js":39578,"./ru":32328,"./ru.js":32328,"./sd":641,"./sd.js":641,"./se":51758,"./se.js":51758,"./si":36680,"./si.js":36680,"./sk":25016,"./sk.js":25016,"./sl":7424,"./sl.js":7424,"./sq":88635,"./sq.js":88635,"./sr":49038,"./sr-cyrl":73716,"./sr-cyrl.js":73716,"./sr.js":49038,"./ss":64771,"./ss.js":64771,"./sv":3517,"./sv.js":3517,"./sw":39419,"./sw.js":39419,"./ta":55959,"./ta.js":55959,"./te":21739,"./te.js":21739,"./tet":22264,"./tet.js":22264,"./tg":94792,"./tg.js":94792,"./th":88328,"./th.js":88328,"./tk":60702,"./tk.js":60702,"./tl-ph":57814,"./tl-ph.js":57814,"./tlh":10797,"./tlh.js":10797,"./tr":16691,"./tr.js":16691,"./tzl":76891,"./tzl.js":76891,"./tzm":16362,"./tzm-latn":37855,"./tzm-latn.js":37855,"./tzm.js":16362,"./ug-cn":77606,"./ug-cn.js":77606,"./uk":30513,"./uk.js":30513,"./ur":43803,"./ur.js":43803,"./uz":60344,"./uz-latn":8957,"./uz-latn.js":8957,"./uz.js":60344,"./vi":70003,"./vi.js":70003,"./x-pseudo":8842,"./x-pseudo.js":8842,"./yo":62083,"./yo.js":62083,"./zh-cn":84536,"./zh-cn.js":84536,"./zh-hk":92475,"./zh-hk.js":92475,"./zh-mo":67593,"./zh-mo.js":67593,"./zh-tw":4746,"./zh-tw.js":4746};function o(e){var t=a(e);return s(t)}function a(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=a,e.exports=o,o.id=46700},42864:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDQiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA0NCAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIxLjYzNTEgMjkuMzUzOEMyMS42MzUxIDI5LjQ5MjMgMjEuNjM1MSAyOS42MzA4IDIxLjQ5NTUgMjkuNjMwOEwxMi44NDEzIDM1LjQ0NjJDMTIuNTYyMiAzNS41ODQ2IDEyLjE0MzQgMzUuNTg0NiAxMi4wMDM4IDM1LjMwNzdDMTIuMDAzOCAzNS4xNjkyIDExLjg2NDMgMzUuMDMwOCAxMS44NjQzIDM1LjAzMDhWNy43NTM4NUMxMS44NjQzIDcuNDc2OTIgMTIuMDAzOCA3LjMzODQ2IDEyLjE0MzQgNy4yTDIwLjY1OCAxLjUyMzA4QzIwLjkzNzIgMS4yNDYxNSAyMS4zNTU5IDEuMzg0NjIgMjEuNDk1NSAxLjY2MTU0QzIxLjQ5NTUgMS44IDIxLjYzNTEgMS44IDIxLjYzNTEgMS45Mzg0NlYyOS4zNTM4WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTkuNzcxMTYgMTguMTM4NUMxMC4wNTAzIDE4IDEwLjE4OTkgMTcuNTg0NiAxMC4zMjk1IDE3LjE2OTJWOS41NTM4NUMxMC4zMjk1IDkuMjc2OTIgMTAuMDUwMyA5IDkuNzcxMTYgOUM5LjYzMTU4IDkgOS40OTE5OSA5IDkuMzUyNDEgOS4xMzg0NkwzLjIxMDc0IDEzLjI5MjNDMi45MzE1OCAxMy40MzA4IDIuNzkxOTkgMTMuNTY5MiAyLjc5MTk5IDEzLjg0NjJWMjEuNkMyLjc5MTk5IDIxLjg3NjkgMy4wNzExNiAyMi4xNTM4IDMuMzUwMzMgMjIuMTUzOEMzLjQ4OTkxIDIyLjE1MzggMy40ODk5MSAyMi4xNTM4IDMuNjI5NDkgMjIuMTUzOEw5Ljc3MTE2IDE4LjEzODVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNDIuMjkzNiAxOC4xMzg1QzQyLjU3MjggMTggNDIuNzEyNCAxNy41ODQ2IDQyLjcxMjQgMTcuMTY5MlY5LjU1Mzg1QzQyLjcxMjQgOS4yNzY5MiA0Mi40MzMyIDkgNDIuMTU0IDlDNDIuMDE0NSA5IDQxLjg3NDkgOSA0MS43MzUzIDkuMTM4NDZMMzUuNTkzNiAxMy4yOTIzQzM1LjQ1NCAxMy40MzA4IDM1LjMxNDUgMTMuNzA3NyAzNS4zMTQ1IDEzLjg0NjJWMjEuNkMzNS4zMTQ1IDIxLjg3NjkgMzUuNTkzNiAyMi4xNTM4IDM1Ljg3MjggMjIuMTUzOEMzNi4wMTI0IDIyLjE1MzggMzYuMDEyNCAyMi4xNTM4IDM2LjE1MiAyMi4xNTM4TDQyLjI5MzYgMTguMTM4NVoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0zMy43Nzk2IDI5LjM1MzhDMzMuNzc5NiAyOS40OTIzIDMzLjY0IDI5LjYzMDggMzMuNjQgMjkuNjMwOEwyNC45ODU5IDM1LjQ0NjJDMjQuNzA2NyAzNS41ODQ2IDI0LjI4OCAzNS41ODQ2IDI0LjE0ODQgMzUuMzA3N0MyNC4xNDg0IDM1LjE2OTIgMjQuMDA4OCAzNS4wMzA4IDI0LjAwODggMzUuMDMwOFY3Ljc1Mzg1QzI0LjAwODggNy40NzY5MiAyNC4xNDg0IDcuMzM4NDYgMjQuMjg4IDcuMkwzMi44MDI1IDEuNTIzMDhDMzMuMDgxNyAxLjI0NjE1IDMzLjUwMDUgMS4zODQ2MiAzMy42NCAxLjY2MTU0QzMzLjY0IDEuOCAzMy43Nzk2IDEuOTM4NDYgMzMuNzc5NiAxLjkzODQ2VjI5LjM1MzhaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K"},85778:(e,t,s)=>{e.exports=s.p+"img/big-header.03d08b21.jpg"},63058:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9Ikljb24vQXJyb3cgLSBMZWZ0IENpcmNsZSI+CjxnIGlkPSJBcnJvdyAtIExlZnQgQ2lyY2xlIj4KPHBhdGggaWQ9IkZpbGwgMSIgb3BhY2l0eT0iMC41IiBkPSJNMTIgMjIuMDAwMkM2LjQ4NSAyMi4wMDAyIDIgMTcuNTE0MiAyIDEyLjAwMDJDMiA2LjQ4NjI0IDYuNDg1IDIuMDAwMjQgMTIgMi4wMDAyNEMxNy41MTQgMi4wMDAyNCAyMiA2LjQ4NjI0IDIyIDEyLjAwMDJDMjIgMTcuNTE0MiAxNy41MTQgMjIuMDAwMiAxMiAyMi4wMDAyIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBpZD0iRmlsbCA0IiBkPSJNMTMuNDQyNSAxNi4yMjA4QzEzLjI1MTUgMTYuMjIwOCAxMy4wNTk1IDE2LjE0NzggMTIuOTEzNSAxNi4wMDE4TDkuNDI2NTIgMTIuNTMxOEM5LjI4NTUyIDEyLjM5MDggOS4yMDY1MiAxMi4xOTk4IDkuMjA2NTIgMTEuOTk5OEM5LjIwNjUyIDExLjgwMDggOS4yODU1MiAxMS42MDk4IDkuNDI2NTIgMTEuNDY4OEwxMi45MTM1IDcuOTk2ODNDMTMuMjA2NSA3LjcwNDgzIDEzLjY4MDUgNy43MDQ4MyAxMy45NzM1IDcuOTk4ODNDMTQuMjY1NSA4LjI5MjgzIDE0LjI2NDUgOC43Njc4MyAxMy45NzE1IDkuMDU5ODNMMTEuMDE4NSAxMS45OTk4TDEzLjk3MTUgMTQuOTM5OEMxNC4yNjQ1IDE1LjIzMTggMTQuMjY1NSAxNS43MDU4IDEzLjk3MzUgMTUuOTk5OEMxMy44Mjc1IDE2LjE0NzggMTMuNjM0NSAxNi4yMjA4IDEzLjQ0MjUgMTYuMjIwOCIgZmlsbD0id2hpdGUiLz4KPC9nPgo8L2c+Cjwvc3ZnPgo="},33424:(e,t,s)=>{e.exports=s.p+"img/header-cert2-processing.8e5d5757.png"},30204:(e,t,s)=>{e.exports=s.p+"img/header-cert2-sent.02f6ba16.png"},82506:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYwIiBoZWlnaHQ9Ijc4IiB2aWV3Qm94PSIwIDAgMzYwIDc4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMzYwIDU4LjIxMzVDMzYwIC0xMy45MjggMzU5Ljk5OSAyIDM1OS45OTkgMkMxNzIuMjIzIDIgMy4zODU1NGUtMDUgMiAzLjM4NTU0ZS0wNSAyQzMuMzg1NTRlLTA1IDQ4Ljc0NTggMCA1OC4yMTM1IDAgNTguMjEzNUM1Mi4yMDEgNzAuNzUyNyAxMTMuODk3IDc4IDE4MCA3OEMyNDYuMTAyIDc4IDMwNy43OTkgNzAuNzUyNyAzNjAgNTguMjEzNVoiIGZpbGw9IiMwMzc4RkIiLz4KPC9zdmc+Cg=="},71305:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAxNiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggNlYwSDJDMS40Njk1NyAwIDAuOTYwODU5IDAuMjEwNzE0IDAuNTg1Nzg2IDAuNTg1Nzg2QzAuMjEwNzE0IDAuOTYwODU5IDAgMS40Njk1NyAwIDJWMThDMCAxOC41MzA0IDAuMjEwNzE0IDE5LjAzOTEgMC41ODU3ODYgMTkuNDE0MkMwLjk2MDg1OSAxOS43ODkzIDEuNDY5NTcgMjAgMiAyMEgxNEMxNC41MzA0IDIwIDE1LjAzOTEgMTkuNzg5MyAxNS40MTQyIDE5LjQxNDJDMTUuNzg5MyAxOS4wMzkxIDE2IDE4LjUzMDQgMTYgMThWOEgxMEM5LjQ2OTU3IDggOC45NjA4NiA3Ljc4OTI5IDguNTg1NzkgNy40MTQyMUM4LjIxMDcxIDcuMDM5MTQgOCA2LjUzMDQzIDggNlpNMyAxMC4yNUMzIDEwLjA1MTEgMy4wNzkwMiA5Ljg2MDMyIDMuMjE5NjcgOS43MTk2N0MzLjM2MDMyIDkuNTc5MDIgMy41NTEwOSA5LjUgMy43NSA5LjVDMy45NDg5MSA5LjUgNC4xMzk2OCA5LjU3OTAyIDQuMjgwMzMgOS43MTk2N0M0LjQyMDk4IDkuODYwMzIgNC41IDEwLjA1MTEgNC41IDEwLjI1QzQuNSAxMC40NDg5IDQuNDIwOTggMTAuNjM5NyA0LjI4MDMzIDEwLjc4MDNDNC4xMzk2OCAxMC45MjEgMy45NDg5MSAxMSAzLjc1IDExQzMuNTUxMDkgMTEgMy4zNjAzMiAxMC45MjEgMy4yMTk2NyAxMC43ODAzQzMuMDc5MDIgMTAuNjM5NyAzIDEwLjQ0ODkgMyAxMC4yNVpNMyAxMy4yNUMzIDEzLjA1MTEgMy4wNzkwMiAxMi44NjAzIDMuMjE5NjcgMTIuNzE5N0MzLjM2MDMyIDEyLjU3OSAzLjU1MTA5IDEyLjUgMy43NSAxMi41QzMuOTQ4OTEgMTIuNSA0LjEzOTY4IDEyLjU3OSA0LjI4MDMzIDEyLjcxOTdDNC40MjA5OCAxMi44NjAzIDQuNSAxMy4wNTExIDQuNSAxMy4yNUM0LjUgMTMuNDQ4OSA0LjQyMDk4IDEzLjYzOTcgNC4yODAzMyAxMy43ODAzQzQuMTM5NjggMTMuOTIxIDMuOTQ4OTEgMTQgMy43NSAxNEMzLjU1MTA5IDE0IDMuMzYwMzIgMTMuOTIxIDMuMjE5NjcgMTMuNzgwM0MzLjA3OTAyIDEzLjYzOTcgMyAxMy40NDg5IDMgMTMuMjVaTTMgMTYuMjVDMyAxNi4wNTExIDMuMDc5MDIgMTUuODYwMyAzLjIxOTY3IDE1LjcxOTdDMy4zNjAzMiAxNS41NzkgMy41NTEwOSAxNS41IDMuNzUgMTUuNUMzLjk0ODkxIDE1LjUgNC4xMzk2OCAxNS41NzkgNC4yODAzMyAxNS43MTk3QzQuNDIwOTggMTUuODYwMyA0LjUgMTYuMDUxMSA0LjUgMTYuMjVDNC41IDE2LjQ0ODkgNC40MjA5OCAxNi42Mzk3IDQuMjgwMzMgMTYuNzgwM0M0LjEzOTY4IDE2LjkyMSAzLjk0ODkxIDE3IDMuNzUgMTdDMy41NTEwOSAxNyAzLjM2MDMyIDE2LjkyMSAzLjIxOTY3IDE2Ljc4MDNDMy4wNzkwMiAxNi42Mzk3IDMgMTYuNDQ4OSAzIDE2LjI1Wk02IDEwLjI1QzYgMTAuMDUxMSA2LjA3OTAyIDkuODYwMzIgNi4yMTk2NyA5LjcxOTY3QzYuMzYwMzIgOS41NzkwMiA2LjU1MTA5IDkuNSA2Ljc1IDkuNUgxMi4yNUMxMi40NDg5IDkuNSAxMi42Mzk3IDkuNTc5MDIgMTIuNzgwMyA5LjcxOTY3QzEyLjkyMSA5Ljg2MDMyIDEzIDEwLjA1MTEgMTMgMTAuMjVDMTMgMTAuNDQ4OSAxMi45MjEgMTAuNjM5NyAxMi43ODAzIDEwLjc4MDNDMTIuNjM5NyAxMC45MjEgMTIuNDQ4OSAxMSAxMi4yNSAxMUg2Ljc1QzYuNTUxMDkgMTEgNi4zNjAzMiAxMC45MjEgNi4yMTk2NyAxMC43ODAzQzYuMDc5MDIgMTAuNjM5NyA2IDEwLjQ0ODkgNiAxMC4yNVpNNiAxMy4yNUM2IDEzLjA1MTEgNi4wNzkwMiAxMi44NjAzIDYuMjE5NjcgMTIuNzE5N0M2LjM2MDMyIDEyLjU3OSA2LjU1MTA5IDEyLjUgNi43NSAxMi41SDEyLjI1QzEyLjQ0ODkgMTIuNSAxMi42Mzk3IDEyLjU3OSAxMi43ODAzIDEyLjcxOTdDMTIuOTIxIDEyLjg2MDMgMTMgMTMuMDUxMSAxMyAxMy4yNUMxMyAxMy40NDg5IDEyLjkyMSAxMy42Mzk3IDEyLjc4MDMgMTMuNzgwM0MxMi42Mzk3IDEzLjkyMSAxMi40NDg5IDE0IDEyLjI1IDE0SDYuNzVDNi41NTEwOSAxNCA2LjM2MDMyIDEzLjkyMSA2LjIxOTY3IDEzLjc4MDNDNi4wNzkwMiAxMy42Mzk3IDYgMTMuNDQ4OSA2IDEzLjI1Wk02IDE2LjI1QzYgMTYuMDUxMSA2LjA3OTAyIDE1Ljg2MDMgNi4yMTk2NyAxNS43MTk3QzYuMzYwMzIgMTUuNTc5IDYuNTUxMDkgMTUuNSA2Ljc1IDE1LjVIMTIuMjVDMTIuNDQ4OSAxNS41IDEyLjYzOTcgMTUuNTc5IDEyLjc4MDMgMTUuNzE5N0MxMi45MjEgMTUuODYwMyAxMyAxNi4wNTExIDEzIDE2LjI1QzEzIDE2LjQ0ODkgMTIuOTIxIDE2LjYzOTcgMTIuNzgwMyAxNi43ODAzQzEyLjYzOTcgMTYuOTIxIDEyLjQ0ODkgMTcgMTIuMjUgMTdINi43NUM2LjU1MTA5IDE3IDYuMzYwMzIgMTYuOTIxIDYuMjE5NjcgMTYuNzgwM0M2LjA3OTAyIDE2LjYzOTcgNiAxNi40NDg5IDYgMTYuMjVaTTkuNSA2VjAuNUwxNS41IDYuNUgxMEM5Ljg2NzM5IDYuNSA5Ljc0MDIxIDYuNDQ3MzIgOS42NDY0NSA2LjM1MzU1QzkuNTUyNjggNi4yNTk3OSA5LjUgNi4xMzI2MSA5LjUgNloiIGZpbGw9IiMwMzc4RkIiLz4KPC9zdmc+Cg=="},76782:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDQuNTAwMDFMNS4wNTk1NCAyLjAwMDAxQzMgMS41IDIgMi4wNjYwNiAyIDQuNzkzMzhWMTYuNzA4OEMyIDE3LjQyODQgMi4yNTM1OCAxNy44NzI2IDIuOTIwNjIgMTguMzcwMUwxMiAyMlY0LjUwMDAxWiIgZmlsbD0iIzMyMzc1OCIvPgo8cGF0aCBvcGFjaXR5PSIwLjUiIGQ9Ik0xMiA0LjUwMDAxTDE4Ljk0MDUgMi4wMDAwMUMyMSAxLjUgMjIgMi4wNjYwNiAyMiA0Ljc5MzM4VjE2LjcwODhDMjIgMTcuNDI4NCAyMS43NDY0IDE3Ljg3MjYgMjEuMDc5NCAxOC4zNzAxTDEyIDIyVjQuNTAwMDFaIiBmaWxsPSIjMzIzNzU4Ii8+CjxwYXRoIGQ9Ik0xNCA5TDIwIDYuNVY4LjVMMTQgMTFWOVoiIGZpbGw9IiMzMjM3NTgiLz4KPHBhdGggZD0iTTE0IDEzLjVMMjAgMTFWMTNMMTQgMTUuNVYxMy41WiIgZmlsbD0iIzMyMzc1OCIvPgo8L3N2Zz4K"},61616:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggb3BhY2l0eT0iMC41IiBkPSJNMi4wMDAyNCAxMS4wNzg2QzIuMDUwMjQgMTMuNDE2NiAyLjE5MDI0IDE3LjQxNTYgMi4yMTAyNCAxNy44NTY2QzIuMjgxMjQgMTguNzk5NiAyLjY0MjI0IDE5Ljc1MjYgMy4yMDQyNCAyMC40MjQ2QzMuOTg2MjQgMjEuMzY3NiA0Ljk0OTI0IDIxLjc4ODYgNi4yOTIyNCAyMS43ODg2QzguMTQ4MjQgMjEuNzk4NiAxMC4xOTQyIDIxLjc5ODYgMTIuMTgxMiAyMS43OTg2QzE0LjE3NjIgMjEuNzk4NiAxNi4xMTIyIDIxLjc5ODYgMTcuNzQ3MiAyMS43ODg2QzE5LjA3MTIgMjEuNzg4NiAyMC4wNjQyIDIxLjM1NjYgMjAuODM2MiAyMC40MjQ2QzIxLjM5ODIgMTkuNzUyNiAyMS43NTkyIDE4Ljc4OTYgMjEuODEwMiAxNy44NTY2QzIxLjgzMDIgMTcuNDg1NiAyMS45MzAyIDEzLjE0NDYgMjEuOTkwMiAxMS4wNzg2SDIuMDAwMjRaIiBmaWxsPSIjMzIzNzU4Ii8+CjxwYXRoIGQ9Ik0xMS4yNDU0IDE1LjM4NDNWMTYuNjc4M0MxMS4yNDU0IDE3LjA5MjMgMTEuNTgxNCAxNy40MjgzIDExLjk5NTQgMTcuNDI4M0MxMi40MDk0IDE3LjQyODMgMTIuNzQ1NCAxNy4wOTIzIDEyLjc0NTQgMTYuNjc4M1YxNS4zODQzQzEyLjc0NTQgMTQuOTcwMyAxMi40MDk0IDE0LjYzNDMgMTEuOTk1NCAxNC42MzQzQzExLjU4MTQgMTQuNjM0MyAxMS4yNDU0IDE0Ljk3MDMgMTEuMjQ1NCAxNS4zODQzWiIgZmlsbD0iIzMyMzc1OCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjIxMTIgMTQuNTU2NUMxMC4xMTEyIDE0LjkxOTUgOS43NjIyNCAxNS4xNTE1IDkuMzg0MjQgMTUuMTAxNUM2LjgzMzI0IDE0Ljc0NTUgNC4zOTUyNCAxMy44NDA1IDIuMzM3MjQgMTIuNDgxNUMyLjEyNjI0IDEyLjM0MzUgMi4wMDAyNCAxMi4xMDc1IDIuMDAwMjQgMTEuODU1NVY4LjM4OTQ5QzIuMDAwMjQgNi4yODk0OSAzLjcxMjI0IDQuNTgxNDkgNS44MTcyNCA0LjU4MTQ5SDcuNzg0MjRDNy45NzIyNCAzLjEyOTQ5IDkuMjAyMjQgMi4wMDA0OSAxMC43MDQyIDIuMDAwNDlIMTMuMjg2MkMxNC43ODcyIDIuMDAwNDkgMTYuMDE4MiAzLjEyOTQ5IDE2LjIwNjIgNC41ODE0OUgxOC4xODMyQzIwLjI4MjIgNC41ODE0OSAyMS45OTAyIDYuMjg5NDkgMjEuOTkwMiA4LjM4OTQ5VjExLjg1NTVDMjEuOTkwMiAxMi4xMDc1IDIxLjg2MzIgMTIuMzQyNSAyMS42NTQyIDEyLjQ4MTVDMTkuNTkyMiAxMy44NDY1IDE3LjE0NDIgMTQuNzU1NSAxNC41NzYyIDE1LjExMDVDMTQuNTQxMiAxNS4xMTU1IDE0LjUwNzIgMTUuMTE3NSAxNC40NzMyIDE1LjExNzVDMTQuMTM0MiAxNS4xMTc1IDEzLjgzMTIgMTQuODg4NSAxMy43NDYyIDE0LjU1MjVDMTMuNTQ0MiAxMy43NTY1IDEyLjgyMTIgMTMuMTk5NSAxMS45OTAyIDEzLjE5OTVDMTEuMTQ4MiAxMy4xOTk1IDEwLjQzMzIgMTMuNzQ0NSAxMC4yMTEyIDE0LjU1NjVaTTEzLjI4NjIgMy41MDA0OUgxMC43MDQyQzEwLjAzMTIgMy41MDA0OSA5LjQ2OTI0IDMuOTYwNDkgOS4zMDEyNCA0LjU4MTQ5SDE0LjY4ODJDMTQuNTIwMiAzLjk2MDQ5IDEzLjk1ODIgMy41MDA0OSAxMy4yODYyIDMuNTAwNDlaIiBmaWxsPSIjMzIzNzU4Ii8+Cjwvc3ZnPgo="},47594:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMzEiIHZpZXdCb3g9IjAgMCAyOCAzMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkgMzBWMTlIMTlWMzBMMTQgMjguNjIwN0w5IDMwWiIgZmlsbD0iI0ZEOEYwMSIgc3Ryb2tlPSIjODUzNzFGIiBzdHJva2Utd2lkdGg9IjAuNSIvPgo8cGF0aCBkPSJNMTcuMzM0MiAyLjgwMzA0TDE3LjQ4MzggMi42MDI3NkwxNy4zMzQyIDIuODAzMDRDMTcuNDc2NyAyLjkwOTUzIDE3LjY1MTEgMi45NjQ2MiAxNy44Mjg5IDIuOTU5MzNMMjEuODI0OCAyLjg0MDQxQzIxLjk1NDggMi44MzY1NCAyMi4wNzExIDIuOTIwMyAyMi4xMDg3IDMuMDQ0NzJMMjMuMjE4MyA2LjcxOTgzTDIzLjQ1NzYgNi42NDc1N0wyMy4yMTgzIDYuNzE5ODNDMjMuMjcxNyA2Ljg5Njc2IDIzLjM4NTYgNy4wNDkyNyAyMy41NDAyIDcuMTUwNjdMMjYuODE5IDkuMzAyMDFDMjYuOTMxMyA5LjM3NTYzIDI2Ljk3NzYgOS41MTcwOSAyNi45MzA3IDkuNjQyODZMMjUuNTk1NyAxMy4yMjVDMjUuNTI5NiAxMy40MDI0IDI1LjUyOTYgMTMuNTk3NiAyNS41OTU3IDEzLjc3NUwyNi45MzA3IDE3LjM1NzFDMjYuOTc3NiAxNy40ODI5IDI2LjkzMTMgMTcuNjI0NCAyNi44MTkgMTcuNjk4TDIzLjU0MDIgMTkuODQ5M0MyMy4zODU2IDE5Ljk1MDcgMjMuMjcxNyAyMC4xMDMyIDIzLjIxODMgMjAuMjgwMkwyMy40NTc2IDIwLjM1MjRMMjMuMjE4MyAyMC4yODAyTDIyLjEwODcgMjMuOTU1M0MyMi4wNzExIDI0LjA3OTcgMjEuOTU0OCAyNC4xNjM1IDIxLjgyNDggMjQuMTU5NkwxNy44Mjg5IDI0LjA0MDdDMTcuNjUxMSAyNC4wMzU0IDE3LjQ3NjcgMjQuMDkwNSAxNy4zMzQyIDI0LjE5N0wxNC4xNzIxIDI2LjU1OTRDMTQuMDcgMjYuNjM1NiAxMy45MyAyNi42MzU2IDEzLjgyNzkgMjYuNTU5NEwxMC42NjU4IDI0LjE5N0MxMC41MjMzIDI0LjA5MDUgMTAuMzQ4OSAyNC4wMzU0IDEwLjE3MTEgMjQuMDQwN0w2LjE3NTE2IDI0LjE1OTZDNi4wNDUyNCAyNC4xNjM1IDUuOTI4ODkgMjQuMDc5NyA1Ljg5MTMyIDIzLjk1NTNMNC43ODE3MyAyMC4yODAyQzQuNzI4MzEgMjAuMTAzMiA0LjYxNDM2IDE5Ljk1MDcgNC40NTk4MyAxOS44NDkzTDEuMTgwOTUgMTcuNjk4QzEuMDY4NzQgMTcuNjI0NCAxLjAyMjM4IDE3LjQ4MjkgMS4wNjkyNSAxNy4zNTcxTDIuNDA0MjkgMTMuNzc1QzIuNDcwNDEgMTMuNTk3NiAyLjQ3MDQxIDEzLjQwMjQgMi40MDQyOSAxMy4yMjVMMS4wNjkyNSA5LjY0Mjg2QzEuMDIyMzggOS41MTcwOSAxLjA2ODc0IDkuMzc1NjQgMS4xODA5NSA5LjMwMjAxTDQuNDU5ODMgNy4xNTA2N0M0LjYxNDM2IDcuMDQ5MjggNC43MjgzMSA2Ljg5Njc2IDQuNzgxNzMgNi43MTk4M0w1Ljg5MTMyIDMuMDQ0NzJDNS45Mjg4OSAyLjkyMDMgNi4wNDUyNCAyLjgzNjU0IDYuMTc1MTYgMi44NDA0MUwxMC4xNzExIDIuOTU5MzNDMTAuMzQ4OSAyLjk2NDYyIDEwLjUyMzMgMi45MDk1MyAxMC42NjU4IDIuODAzMDRMMTMuODI3OSAwLjQ0MDY0OUMxMy45MyAwLjM2NDM5MyAxNC4wNyAwLjM2NDM5MyAxNC4xNzIxIDAuNDQwNjQ5TDE3LjMzNDIgMi44MDMwNFoiIGZpbGw9IiNGRkM1MDAiIHN0cm9rZT0iIzg1MzcxRiIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4KPHBhdGggZD0iTTIwLjY1NjcgMTMuMzYyMUMyMC42NTY3IDE2LjkxMzggMTcuNzc3NSAxOS43OTMxIDE0LjIyNTcgMTkuNzkzMUMxMC42NzM5IDE5Ljc5MzEgNy43OTQ2OCAxNi45MTM4IDcuNzk0NjggMTMuMzYyMUM3Ljc5NDY4IDkuODEwMzEgMTAuNjczOSA2LjkzMTAzIDE0LjIyNTcgNi45MzEwM0MxNy43Nzc1IDYuOTMxMDMgMjAuNjU2NyA5LjgxMDMxIDIwLjY1NjcgMTMuMzYyMVoiIGZpbGw9IiNGRkYwNkEiIHN0cm9rZT0iIzg1MzcxRiIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4KPHBhdGggZD0iTTIxLjExNzkgNS43MDc2QzIxLjExNzkgNS43MDc2IDE3Ljc2ODMgNC4yNTc3OSAxNS44OTYgNC4xMjU5M0MxOC44ODYyIDUuNjcwNyAyMi4wMDk2IDguNTcyMzIgMjIuMDA5NiA4LjU3MjMyTDIxLjExNzkgNS43MDc2WiIgZmlsbD0iI0ZGRjA2QSIvPgo8L3N2Zz4K"},92472:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjUzMTYyIDIuOTM2NzdDMTAuNzE2NSAxLjY2NzI3IDEzLjQwMiAxLjY4OTQ2IDE1LjU2NjQgMi45OTQ4OUMxNy43MDk1IDQuMzI2OTEgMTkuMDEyIDYuNzA0MTggMTguOTk5OCA5LjI2MTQ0QzE4Ljk1IDExLjgwMTkgMTcuNTUzMyAxNC4xOSAxNS44MDc1IDE2LjAzNjFDMTQuNzk5OCAxNy4xMDY0IDEzLjY3MjYgMTguMDUyOCAxMi40NDg4IDE4Ljg1NkMxMi4zMjI4IDE4LjkyODkgMTIuMTg0OCAxOC45Nzc3IDEyLjA0MTUgMTlDMTEuOTAzNiAxOC45OTQxIDExLjc2OTMgMTguOTUzNCAxMS42NTA4IDE4Ljg4MTRDOS43ODI0MyAxNy42NzQ2IDguMTQzMzQgMTYuMTM0IDYuODEyMzMgMTQuMzM0QzUuNjk4NTkgMTIuODMxNCA1LjA2NTg0IDExLjAxNiA1IDkuMTM0NDJDNC45OTg1NiA2LjU3MjI1IDYuMzQ2NzcgNC4yMDYyNyA4LjUzMTYyIDIuOTM2NzdaTTkuNzk0MTYgMTAuMTk0OEMxMC4xNjE3IDExLjEwMDggMTEuMDI5MiAxMS42OTE4IDExLjk5MTYgMTEuNjkxOEMxMi42MjIxIDExLjY5NjQgMTMuMjI4MiAxMS40NDM4IDEzLjY3NDggMTAuOTkwNUMxNC4xMjE0IDEwLjUzNzEgMTQuMzcxNSA5LjkyMDY0IDE0LjM2OTIgOS4yNzgzOEMxNC4zNzI2IDguMjk4MDQgMTMuNzk1NSA3LjQxMjMxIDEyLjkwNzMgNy4wMzQ3N0MxMi4wMTkxIDYuNjU3MjMgMTAuOTk1IDYuODYyMzUgMTAuMzEzMyA3LjU1NDM1QzkuNjMxNTkgOC4yNDYzNSA5LjQyNjY0IDkuMjg4NzIgOS43OTQxNiAxMC4xOTQ4WiIgZmlsbD0iIzMyMzc1OCIvPgo8ZWxsaXBzZSBvcGFjaXR5PSIwLjUiIGN4PSIxMiIgY3k9IjIxIiByeD0iNSIgcnk9IjEiIGZpbGw9IiMzMjM3NTgiLz4KPC9zdmc+Cg=="},44570:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAxNiAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE2IDBIMFYyTDUuODEgNi4zNkM0LjA0Njc0IDYuOTQxNDMgMi41ODY0OCA4LjE5OTE3IDEuNzUwMTYgOS44NTY4QzAuOTEzODQ5IDExLjUxNDQgMC43Njk5MTYgMTMuNDM2MyAxLjM1IDE1LjJDMS42MzY5OSAxNi4wNzM3IDIuMDkzNDIgMTYuODgyMiAyLjY5MzE4IDE3LjU3OTRDMy4yOTI5NCAxOC4yNzY1IDQuMDI0MjYgMTguODQ4NiA0Ljg0NTMxIDE5LjI2MjhDNS42NjYzNSAxOS42NzcgNi41NjEwMSAxOS45MjUzIDcuNDc4MTEgMTkuOTkzNUM4LjM5NTIxIDIwLjA2MTYgOS4zMTY3NCAxOS45NDgzIDEwLjE5IDE5LjY2QzExLjU5MDUgMTkuMTk5NyAxMi44MDk5IDE4LjMwOSAxMy42NzQ0IDE3LjExNDlDMTQuNTM4OCAxNS45MjA3IDE1LjAwNDMgMTQuNDg0MiAxNS4wMDQzIDEzLjAxQzE1LjAwNDMgMTEuNTM1OCAxNC41Mzg4IDEwLjA5OTMgMTMuNjc0NCA4LjkwNTE0QzEyLjgwOTkgNy43MTEwMyAxMS41OTA1IDYuODIwMzEgMTAuMTkgNi4zNkwxNiAyVjBaTTEwLjk0IDE3LjVMOCAxNS43OEw1LjA2IDE3LjVMNS44NCAxNC4xN0wzLjI1IDExLjkzTDYuNjYgMTEuNjRMOCA4LjVMOS4zNCAxMS42NEwxMi43NSAxMS45M0wxMC4xNiAxNC4xN0wxMC45NCAxNy41WiIgZmlsbD0iIzAzNzhGQiIvPgo8L3N2Zz4K"},46132:(e,t,s)=>{e.exports=s.p+"img/supergirl.40cd1670.svg"},71736:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAuODMzNDAzIDguMzMyMzZDMC42MTIzNzEgOC4zMzIzNiAwLjQwMDM5MiA4LjI0NDU2IDAuMjQ0MDk4IDguMDg4MjZDMC4wODc4MDQ4IDcuOTMxOTcgMCA3LjcxOTk5IDAgNy40OTg5NlYwLjgzMzQwM0MwIDAuNjEyMzcxIDAuMDg3ODA0OCAwLjQwMDM5MiAwLjI0NDA5OCAwLjI0NDA5OEMwLjQwMDM5MiAwLjA4NzgwNDggMC42MTIzNzEgMCAwLjgzMzQwMyAwSDcuNTAwNjNDNy43MjE2NiAwIDcuOTMzNjQgMC4wODc4MDQ4IDguMDg5OTMgMC4yNDQwOThDOC4yNDYyMiAwLjQwMDM5MiA4LjMzNDAzIDAuNjEyMzcxIDguMzM0MDMgMC44MzM0MDNWNy40OTg5NkM4LjMzNDAzIDcuNzE5OTkgOC4yNDYyMiA3LjkzMTk3IDguMDg5OTMgOC4wODgyNkM3LjkzMzY0IDguMjQ0NTYgNy43MjE2NiA4LjMzMjM2IDcuNTAwNjMgOC4zMzIzNkgwLjgzMzQwM1pNMTIuNTAxIDguMzMyMzZDMTIuMjggOC4zMzIzNiAxMi4wNjggOC4yNDQ1NiAxMS45MTE3IDguMDg4MjZDMTEuNzU1NCA3LjkzMTk3IDExLjY2NzYgNy43MTk5OSAxMS42Njc2IDcuNDk4OTZWMC44MzM0MDNDMTEuNjY3NiAwLjYxMjM3MSAxMS43NTU0IDAuNDAwMzkyIDExLjkxMTcgMC4yNDQwOThDMTIuMDY4IDAuMDg3ODA0OCAxMi4yOCAwIDEyLjUwMSAwSDE5LjE2NjZDMTkuMzg3NiAwIDE5LjU5OTYgMC4wODc4MDQ4IDE5Ljc1NTkgMC4yNDQwOThDMTkuOTEyMiAwLjQwMDM5MiAyMCAwLjYxMjM3MSAyMCAwLjgzMzQwM1Y3LjQ5ODk2QzIwIDcuNzE5OTkgMTkuOTEyMiA3LjkzMTk3IDE5Ljc1NTkgOC4wODgyNkMxOS41OTk2IDguMjQ0NTYgMTkuMzg3NiA4LjMzMjM2IDE5LjE2NjYgOC4zMzIzNkgxMi41MDFaTTAuODMzNDAzIDIwQzAuNjEyMzcxIDIwIDAuNDAwMzkyIDE5LjkxMjIgMC4yNDQwOTggMTkuNzU1OUMwLjA4NzgwNDggMTkuNTk5NiAwIDE5LjM4NzYgMCAxOS4xNjY2VjEyLjQ5OTRDMCAxMi4yNzgzIDAuMDg3ODA0OCAxMi4wNjY0IDAuMjQ0MDk4IDExLjkxMDFDMC40MDAzOTIgMTEuNzUzOCAwLjYxMjM3MSAxMS42NjYgMC44MzM0MDMgMTEuNjY2SDcuNTAwNjNDNy43MjE2NiAxMS42NjYgNy45MzM2NCAxMS43NTM4IDguMDg5OTMgMTEuOTEwMUM4LjI0NjIyIDEyLjA2NjQgOC4zMzQwMyAxMi4yNzgzIDguMzM0MDMgMTIuNDk5NFYxOS4xNjY2QzguMzM0MDMgMTkuMzg3NiA4LjI0NjIyIDE5LjU5OTYgOC4wODk5MyAxOS43NTU5QzcuOTMzNjQgMTkuOTEyMiA3LjcyMTY2IDIwIDcuNTAwNjMgMjBIMC44MzM0MDNaTTEyLjUwMSAyMEMxMi4yOCAyMCAxMi4wNjggMTkuOTEyMiAxMS45MTE3IDE5Ljc1NTlDMTEuNzU1NCAxOS41OTk2IDExLjY2NzYgMTkuMzg3NiAxMS42Njc2IDE5LjE2NjZWMTIuNDk5NEMxMS42Njc2IDEyLjI3ODMgMTEuNzU1NCAxMi4wNjY0IDExLjkxMTcgMTEuOTEwMUMxMi4wNjggMTEuNzUzOCAxMi4yOCAxMS42NjYgMTIuNTAxIDExLjY2NkgxOS4xNjY2QzE5LjM4NzYgMTEuNjY2IDE5LjU5OTYgMTEuNzUzOCAxOS43NTU5IDExLjkxMDFDMTkuOTEyMiAxMi4wNjY0IDIwIDEyLjI3ODMgMjAgMTIuNDk5NFYxOS4xNjY2QzIwIDE5LjM4NzYgMTkuOTEyMiAxOS41OTk2IDE5Ljc1NTkgMTkuNzU1OUMxOS41OTk2IDE5LjkxMjIgMTkuMzg3NiAyMCAxOS4xNjY2IDIwSDEyLjUwMVoiIGZpbGw9IiMwMzc4RkIiLz4KPC9zdmc+Cg=="},54123:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjk5NjggMTUuMTc0NkM3LjY4Mzc2IDE1LjE3NDYgMy45OTk3NiAxNS44NTQ2IDMuOTk5NzYgMTguNTc0NkMzLjk5OTc2IDIxLjI5NTYgNy42NjA3NiAyMS45OTk2IDExLjk5NjggMjEuOTk5NkMxNi4zMDk4IDIxLjk5OTYgMTkuOTkzOCAyMS4zMjA2IDE5Ljk5MzggMTguNTk5NkMxOS45OTM4IDE1Ljg3ODYgMTYuMzMzOCAxNS4xNzQ2IDExLjk5NjggMTUuMTc0NloiIGZpbGw9IiMzMjM3NTgiLz4KPHBhdGggb3BhY2l0eT0iMC41IiBkPSJNMTEuOTk2OCAxMi41ODM4QzE0LjkzNDggMTIuNTgzOCAxNy4yODg4IDEwLjIyODggMTcuMjg4OCA3LjI5MTc2QzE3LjI4ODggNC4zNTQ3NiAxNC45MzQ4IDEuOTk5NzYgMTEuOTk2OCAxLjk5OTc2QzkuMDU5ODMgMS45OTk3NiA2LjcwNDgzIDQuMzU0NzYgNi43MDQ4MyA3LjI5MTc2QzYuNzA0ODMgMTAuMjI4OCA5LjA1OTgzIDEyLjU4MzggMTEuOTk2OCAxMi41ODM4WiIgZmlsbD0iIzMyMzc1OCIvPgo8L3N2Zz4K"},93553:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIiIGhlaWdodD0iODQiIHZpZXdCb3g9IjAgMCA3MiA4NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMxLjgzMzIgNzUuNTM5N0wzMC4yOTI4IDc2LjYyMzlIMzAuMTQxM1Y3NS42MTUzQzMwLjEyMzYgNzUuNTg0NyAzMC4xMTQzIDc1LjU0OTkgMzAuMTE0MyA3NS41MTQ1QzMwLjExNDMgNzUuNDc5MSAzMC4xMjM2IDc1LjQ0NDMgMzAuMTQxMyA3NS40MTM2TDMxLjczMjIgNzQuMjUzOEMzMS43NjggNzQuMjM3OCAzMS44MDY3IDc0LjIyOTUgMzEuODQ1OSA3NC4yMjk1QzMxLjg4NSA3NC4yMjk1IDMxLjkyMzggNzQuMjM3OCAzMS45NTk1IDc0LjI1MzhIMzIuNzkyOEMzMi43OTI4IDc0LjI1MzggMzIuOTE5MSA3NC4yNTM4IDMyLjkxOTEgNzQuNDA1VjgzLjM1NkMzMi45MTkxIDgzLjM1NiAzMi45MTkxIDgzLjUwNzMgMzIuNzkyOCA4My41MDczSDMxLjkwOUMzMS44Njg4IDgzLjUwNzMgMzEuODMwMyA4My40OTE0IDMxLjgwMTkgODMuNDYzQzMxLjc3MzUgODMuNDM0NiAzMS43NTc1IDgzLjM5NjEgMzEuNzU3NSA4My4zNTZMMzEuODMzMiA3NS41Mzk3WiIgZmlsbD0iIzAzNzhGQiIvPgo8cGF0aCBkPSJNMzguNjc2OSA4My4zNTYyQzM4LjY3NjkgODMuMzU2MiAzOC42NzY5IDgzLjM1NjIgMzguNjc2OSA4My4yMDQ5Vjc1LjMxMjlIMzYuMTUxN0MzNi4xMTYgNzUuMzA2OSAzNi4wODM3IDc1LjI4ODMgMzYuMDYwNSA3NS4yNjA2QzM2LjAzNzQgNzUuMjMyOSAzNi4wMjQ5IDc1LjE5NzggMzYuMDI1NCA3NS4xNjE2Vjc0LjMwNDRDMzYuMDI1NCA3NC4zMDQ0IDM2LjAyNTQgNzQuMTUzMSAzNi4xNTE3IDc0LjE1MzFINDIuNjY2OEM0Mi42NjY4IDc0LjE1MzEgNDIuNzkzMSA3NC4xNTMxIDQyLjc5MzEgNzQuMzA0NFY3NS4xNjE2QzQyLjc5MzYgNzUuMTk3OCA0Mi43ODExIDc1LjIzMjkgNDIuNzU4IDc1LjI2MDZDNDIuNzM0OCA3NS4yODgzIDQyLjcwMjUgNzUuMzA2OSA0Mi42NjY4IDc1LjMxMjlINDAuMTQxNlY4My4zNTYyVjgzLjUwNzVMMzguNjc2OSA4My4zNTYyWiIgZmlsbD0iIzAzNzhGQiIvPgo8cGF0aCBkPSJNMzMuNjI2MyA0OS41OTQ2QzMzLjYyOTEgNDkuNzA1NSAzMy42MDI2IDQ5LjgxNTIgMzMuNTQ5NCA0OS45MTI2QzMzLjQ5NjIgNTAuMDEgMzMuNDE4MiA1MC4wOTE2IDMzLjMyMzIgNTAuMTQ5M0wxOC4xNzE3IDYwLjIzNDlDMTguMDE4NCA2MC4zMzU4IDE3Ljg0MDQgNjAuMzkzIDE3LjY1NjkgNjAuNDAwNEMxNy40NzM0IDYwLjQwNzggMTcuMjkxNCA2MC4zNjUxIDE3LjEzMDQgNjAuMjc3QzE2Ljk2OTQgNjAuMTg4OCAxNi44MzU1IDYwLjA1ODUgMTYuNzQzMSA1OS45QzE2LjY1MDcgNTkuNzQxNiAxNi42MDMzIDU5LjU2MDkgMTYuNjA2MSA1OS4zNzc2VjEyLjEyNjZDMTYuNjA1NiAxMS45MjE4IDE2LjY1NjEgMTEuNzIwMiAxNi43NTMxIDExLjUzOTdDMTYuODUwMSAxMS4zNTkzIDE2Ljk5MDUgMTEuMjA1NyAxNy4xNjE2IDExLjA5MjlMMzEuOTM0NCAxLjE4Mzc3QzMyLjA4NzkgMS4wNzU4OCAzMi4yNjg1IDEuMDEyODUgMzIuNDU1OSAxLjAwMTc3QzMyLjY0MzQgMC45OTA2NzkgMzIuODMwMiAxLjAzMTk3IDMyLjk5NTQgMS4xMjFDMzMuMTYwNiAxLjIxMDA0IDMzLjI5NzcgMS4zNDMyOSAzMy4zOTEzIDEuNTA1ODFDMzMuNDg0OSAxLjY2ODMzIDMzLjUzMTMgMS44NTM2NyAzMy41MjUzIDIuMDQxMDVMMzMuNjI2MyA0OS41OTQ2WiIgZmlsbD0iIzAzNzhGQiIvPgo8cGF0aCBkPSJNMTMuMDk2IDMwLjA1MzhDMTMuMzU0MSAyOS44NzcgMTMuNTY0OSAyOS42Mzk4IDEzLjcxMDIgMjkuMzYyOUMxMy44NTU1IDI5LjA4NiAxMy45MzA3IDI4Ljc3NzkgMTMuOTI5MyAyOC40NjUzVjE1LjI3ODRDMTMuOTM0MSAxNS4wODkgMTMuODg1MyAxNC45MDIgMTMuNzg4NiAxNC43MzlDMTMuNjkxOSAxNC41NzU5IDEzLjU1MTEgMTQuNDQzNCAxMy4zODI0IDE0LjM1NjVDMTMuMjEzNyAxNC4yNjk3IDEzLjAyNCAxNC4yMzIxIDEyLjgzNDkgMTQuMjQ3OUMxMi42NDU3IDE0LjI2MzggMTIuNDY0OSAxNC4zMzI2IDEyLjMxMzEgMTQuNDQ2M0wxLjUwNTA1IDIxLjYwNzFDMS4zNTA0MiAyMS43MzIyIDEuMjI1MDggMjEuODg5NSAxLjEzNzgzIDIyLjA2ODFDMS4wNTA1OCAyMi4yNDY3IDEuMDAzNTQgMjIuNDQyMiAxIDIyLjY0MDlWMzYuMjMxMkMxLjAwMTQzIDM2LjQwODMgMS4wNDg0MSAzNi41ODIxIDEuMTM2NDIgMzYuNzM1OEMxLjIyNDQ0IDM2Ljg4OTYgMS4zNTA1NCAzNy4wMTgyIDEuNTAyNjMgMzcuMTA5M0MxLjY1NDczIDM3LjIwMDQgMS44Mjc3MiAzNy4yNTEgMi4wMDUwMiAzNy4yNTYyQzIuMTgyMzIgMzcuMjYxNCAyLjM1Nzk4IDM3LjIyMSAyLjUxNTE1IDM3LjEzODlMMTMuMDk2IDMwLjA1MzhaIiBmaWxsPSIjMDM3OEZCIi8+CjxwYXRoIGQ9Ik02OS4zMzMzIDMwLjA1MzdDNjkuNTk0NiAyOS44NzgxIDY5LjgwOTIgMjkuNjQxOCA2OS45NTg4IDI5LjM2NTFDNzAuMTA4MyAyOS4wODg0IDcwLjE4ODMgMjguNzc5NiA3MC4xOTE5IDI4LjQ2NTJWMTUuMjc4M0M3MC4xODc3IDE1LjA5MjUgNzAuMTMzNCAxNC45MTE0IDcwLjAzNDcgMTQuNzUzOEM2OS45MzYxIDE0LjU5NjMgNjkuNzk2NyAxNC40NjgyIDY5LjYzMTMgMTQuMzgzQzY5LjQ2NTkgMTQuMjk3OSA2OS4yODA2IDE0LjI1ODggNjkuMDk0OSAxNC4yNjk5QzY4LjkwOTEgMTQuMjgxIDY4LjcyOTggMTQuMzQyIDY4LjU3NTggMTQuNDQ2Mkw1Ny44Njg3IDIxLjYwN0M1Ny43MDY3IDIxLjcyNzEgNTcuNTc0NiAyMS44ODI4IDU3LjQ4MjYgMjIuMDYyMUM1Ny4zOTA3IDIyLjI0MTMgNTcuMzQxMyAyMi40Mzk0IDU3LjMzODQgMjIuNjQwOFYzNi4yMzExQzU3LjMzNzUgMzYuNDExOCA1Ny4zODQgMzYuNTg5NiA1Ny40NzMzIDM2Ljc0NjdDNTcuNTYyNyAzNi45MDM4IDU3LjY5MTcgMzcuMDM0OCA1Ny44NDc1IDM3LjEyNjdDNTguMDAzNCAzNy4yMTg1IDU4LjE4MDYgMzcuMjY3OSA1OC4zNjE1IDM3LjI3MDFDNTguNTQyNSAzNy4yNzIyIDU4LjcyMDggMzcuMjI2OSA1OC44Nzg4IDM3LjEzODhMNjkuMzMzMyAzMC4wNTM3WiIgZmlsbD0iIzAzNzhGQiIvPgo8cGF0aCBkPSJNNTQuNTYwNSA0OS41OTQ2QzU0LjU2MTUgNDkuNzAyNCA1NC41MzY4IDQ5LjgwODkgNTQuNDg4NSA0OS45MDU0QzU0LjQ0MDIgNTAuMDAxOCA1NC4zNjk3IDUwLjA4NTQgNTQuMjgyNyA1MC4xNDkzTDM5LjEzMTIgNjAuMjM0OUMzOC45Nzc4IDYwLjMzNTggMzguNzk5OSA2MC4zOTMgMzguNjE2NCA2MC40MDA0QzM4LjQzMjkgNjAuNDA3OCAzOC4yNTA5IDYwLjM2NTEgMzguMDg5OCA2MC4yNzdDMzcuOTI4OCA2MC4xODg4IDM3Ljc5NDkgNjAuMDU4NSAzNy43MDI2IDU5LjlDMzcuNjEwMiA1OS43NDE2IDM3LjU2MjggNTkuNTYwOSAzNy41NjU1IDU5LjM3NzZWMTIuMTI2NkMzNy41NjUxIDExLjkyMTggMzcuNjE1NiAxMS43MjAyIDM3LjcxMjYgMTEuNTM5N0MzNy44MDk2IDExLjM1OTMgMzcuOTQ5OSAxMS4yMDU3IDM4LjEyMTEgMTEuMDkyOUw1Mi44OTM4IDEuMTgzNzdDNTMuMDQ3NCAxLjA3NTg4IDUzLjIyOCAxLjAxMjg1IDUzLjQxNTQgMS4wMDE3N0M1My42MDI4IDAuOTkwNjc5IDUzLjc4OTcgMS4wMzE5NyA1My45NTQ5IDEuMTIxQzU0LjEyMDEgMS4yMTAwNCA1NC4yNTcyIDEuMzQzMjkgNTQuMzUwOCAxLjUwNTgxQzU0LjQ0NDQgMS42NjgzMyA1NC40OTA4IDEuODUzNjcgNTQuNDg0NyAyLjA0MTA1TDU0LjU2MDUgNDkuNTk0NloiIGZpbGw9IiMwMzc4RkIiLz4KPC9zdmc+Cg=="},75341:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYwIiBoZWlnaHQ9IjQwMCIgdmlld0JveD0iMCAwIDM2MCA0MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zNjAgMzIuMTgzNkMzNjAgMTQ5LjUyNSAzNTkuOTk5IDQwMCAzNTkuOTk5IDQwMEMxNzIuMjIzIDQwMCAzLjM4NTU0ZS0wNSA0MDAgMy4zODU1NGUtMDUgNDAwQzMuMzg1NTRlLTA1IDMyMy45NjYgMCAzMi4xODM2IDAgMzIuMTgzNkM1Mi4yMDEgMTEuNzg4IDExMy44OTcgMCAxODAgMEMyNDYuMTAyIDAgMzA3Ljc5OSAxMS43ODggMzYwIDMyLjE4MzZaIiBmaWxsPSIjMDM3OEZCIi8+Cjwvc3ZnPgo="},8923:(e,t,s)=>{e.exports=s.p+"img/login-image.6e849d7f.svg"},7652:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMSAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcgMUgyMSIgc3Ryb2tlPSIjODUzNzFGIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTAgOEgyMSIgc3Ryb2tlPSIjODUzNzFGIiBzdHJva2Utd2lkdGg9IjIiLz4KPHBhdGggZD0iTTAgMTVIMjEiIHN0cm9rZT0iIzg1MzcxRiIgc3Ryb2tlLXdpZHRoPSIyIi8+Cjwvc3ZnPgo="},8955:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggb3BhY2l0eT0iMC41IiBkPSJNMTkuMDEyNyA3LjIwNTgzTDcuNzQ0NDkgMTkuMDgzNkM1LjcyMDg0IDIxLjEwNzMgNS4wMDI1MyAyMC41NTkyIDQuMjIxNTMgMTkuNzc4MkMzLjQ0MDUzIDE4Ljk5NzIgMi44OTI0MSAxOC4yNzg5IDQuOTE2MDYgMTYuMjU1MkwxNi43OTM5IDQuOTg3MDFDMTguMzgxNCAzLjM5OTQ3IDE5LjE2NTIgMy42MDkxMyAxOS43Nzc5IDQuMjIxODJDMjAuMzkxNiA0LjgzNTU0IDIwLjYwMDIgNS42MTgyOCAxOS4wMTI3IDcuMjA1ODNaIiBmaWxsPSIjRkY4NTc3Ii8+CjxwYXRoIGQ9Ik0xNi45ODY2IDE5LjIwNTNMNS4xMDg3NSA3LjkzNzEyQzMuMDg1MDkgNS45MTM0NiAzLjYzMzIxIDUuMTk1MTUgNC40MTQyMSA0LjQxNDE2QzUuMTk1MjEgMy42MzMxNiA1LjkxMzUyIDMuMDg1MDQgNy45MzcxOCA1LjEwODY5TDE5LjIwNTQgMTYuOTg2NUMyMC43OTI5IDE4LjU3NCAyMC41ODMzIDE5LjM1NzggMTkuOTcwNiAxOS45NzA1QzE5LjM1NjggMjAuNTg0MiAxOC41NzQxIDIwLjc5MjkgMTYuOTg2NiAxOS4yMDUzWiIgZmlsbD0iI0ZGODU3NyIvPgo8L3N2Zz4K"},91530:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNSAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTI0LjY5NzYgMTIuMTYyNUMyNC4xMzU0IDExLjc3MTQgMjQuMzQ0IDExLjk4ODQgMjMuOTQ1IDExLjQ2NjRDMjEuMjMzNyA3Ljk4NDEzIDE5LjMyMTMgNi4zMDg2NiAxNS4zMDgyIDQuNjUyOTJDNC4zMTc5OCAwLjE0MjI5NyAyLjE1ODIyIDE3LjYzNTMgMTEuNzU5NiAxOC41NjI3QzEzLjAwMjQgMTguNjc5NSAxNy42NTA4IDE3LjQ0MTEgMTguMjIwNSAxNi4xNjk0TDE4LjE1NTkgMTYuMjgyN0MxOC43NTA3IDE0LjU4MjYgMjAuNTE3NCAxMy43NDEgMjIuMTI5MiAxNC40MDIxQzIzLjc0MTEgMTUuMDYzMiAyNC41NzcgMTYuOTgyMSAyMy45ODIzIDE4LjY4MjJDMjEuMzA1IDI0LjE5NjQgMTMuMTczIDI1Ljc4NjcgOC4xNjgyMSAyMy40MjY3Qy01Ljc1NTI2IDE2Ljg0NjggMi41MzI3NiAtNi4wMzE4IDE2LjQ2MDMgMS44MDE5OUMxOS40OTkxIDMuNTEzMzIgMjUuMTAyOCA4LjE3MzY2IDI0LjY5NzYgMTIuMTYyNVoiIGZpbGw9IiNGRkYwNkEiLz4KPC9zdmc+Cg=="},62952:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIwLjMzNTUgMTMuODgzNkMyMC4yMzMxIDEzLjk4MDkgMTkuODUwNiAxNC4zOTIxIDE5LjQ5MTMgMTQuNzMzNkMxNy4zOTU0IDE2Ljg3MjQgMTEuOTIyNyAyMC4zNjk3IDkuMDU5ODggMjEuNDQwMUM4LjYyNTI0IDIxLjYxMDggNy41MjYwOCAyMS45NzQzIDYuOTM2OSAyMkM2LjM3NDc2IDIyIDUuODM3NzMgMjEuODc3IDUuMzI1ODIgMjEuNjM0N0M0LjY4NjQxIDIxLjI5NSA0LjE3NjQzIDIwLjc1ODkgMy44OTQ0IDIwLjEyNzRDMy43MTQ3NSAxOS42OTA1IDMuNDMyNzEgMTguMzc3OCAzLjQzMjcxIDE4LjM1NEMzLjE1MjYxIDE2LjkyMDEgMyAxNC41ODg2IDMgMTIuMDExQzMgOS41NTgyOSAzLjE1MjYxIDcuMzIyMiAzLjM4MjQ5IDUuODY0NTFDMy40MDc2IDUuODM4ODEgMy42ODk2MyA0LjIxMDM5IDMuOTk2NzggMy42NTIyOUM0LjU1ODkyIDIuNjMxNTQgNS42NTgwOCAyIDYuODM0NTEgMkg2LjkzNjlDNy43MDM4IDIuMDIzODcgOS4zMTQ4NyAyLjY1NzI0IDkuMzE0ODcgMi42NzkyN0MxMi4wMjUxIDMuNzQ5NTkgMTcuMzY4MyA3LjA3ODAyIDE5LjUxNjQgOS4yOTAyNUMxOS41MTY0IDkuMjkwMjUgMjAuMTIzIDkuODU5MzcgMjAuMzg1NyAxMC4yMTM3QzIwLjc5NTIgMTAuNzI0MSAyMSAxMS4zNTU2IDIxIDExLjk4NzFDMjEgMTIuNjkyMSAyMC43NzAxIDEzLjM0NzUgMjAuMzM1NSAxMy44ODM2WiIgZmlsbD0iI0ZGODU3NyIvPgo8L3N2Zz4K"},38503:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIuNDI2NzQgMTQuMTI1NUMyLjIxMzQ4IDE0LjQ0NzQgMi4wMDAyMyAxNC44NzY2IDIuMDAwMjMgMTUuMzA1OEMyLjAwMDIzIDE1LjczNSAyLjEwNjg2IDE2LjE2NDIgMi4zMjAxMSAxNi40ODYxQzIuNDI2NzQgMTYuNzAwNyAyLjg1MzI1IDE3LjEyOTggMi44NTMyNSAxNy4xMjk4QzQuMTMyNzcgMTguNTI0NyA3LjMzMTU3IDIwLjY3MDcgOS4wMzc2IDIxLjQyMThDOS4wMzc2IDIxLjQyMTggOS45OTcyNCAyMS44NTEgMTAuNDIzNyAyMS44NTFIMTAuNTMwNEMxMS4yNzY4IDIxLjg1MSAxMS45MTY1IDIxLjQyMTggMTIuMjM2NCAyMC43NzhDMTIuNDQ5NyAyMC40NTYxIDEyLjU1NjMgMTkuMzgzMSAxMi41NTYzIDE5LjM4MzFDMTIuNjYyOSAxOC40MTc0IDEyLjc2OTUgMTcuMDIyNSAxMi43Njk1IDE1LjQxMzFDMTIuNzY5NSAxMy44MDM2IDEyLjY2MjkgMTIuMzAxNCAxMi41NTYzIDExLjMzNTdDMTIuNTU2MyAxMS4zMzU3IDEyLjM0MyAxMC40NzczIDEyLjIzNjQgMTAuMTU1NEMxMi4wMjMxIDkuNzI2MTkgMTEuODA5OSA5LjQwNDI5IDExLjM4MzQgOS4xODk3QzExLjA2MzUgOS4wODI0IDEwLjc0MzYgOC45NzUxIDEwLjQyMzcgOC45NzUxQzEwLjEwMzkgOC45NzUxIDkuMzU3NDggOS4xODk3IDkuMTQ0MjIgOS4yOTY5OUM3LjQzODE5IDkuOTQwNzkgNC4xMzI3NyAxMi4xOTQxIDIuODUzMjUgMTMuNTg5QzIuNjM5OTkgMTMuODAzNiAyLjQyNjc0IDE0LjAxODIgMi40MjY3NCAxNC4xMjU1WiIgZmlsbD0iI0ZGODU3NyIvPgo8cGF0aCBvcGFjaXR5PSIwLjUiIGQ9Ik0xNC44ODggMTYuNjQwM0MxOC43OTk2IDE2LjY0MDMgMjIgMTMuNDE5NyAyMiA5LjQ4MzQ5QzIyIDUuNTQ3MjMgMTguNzk5NiAyLjMyNjY2IDE0Ljg4OCAyLjMyNjY2QzEyLjk2NzggMi4zMjY2NiAxMS4xODk4IDMuMDQyMzQgOS44Mzg1NCA0LjQwMjE0QzkuNDExODIgNC44MzE1NSA5LjQxMTgyIDUuNDc1NjYgOS44Mzg1NCA1LjkwNTA3QzEwLjI2NTMgNi4zMzQ0OCAxMC45MDUzIDYuMzM0NDggMTEuMzMyMSA1LjkwNTA3QzEyLjMyNzcgNC45NzQ2OSAxMy41MzY4IDQuNDczNzEgMTQuODg4IDQuNDczNzFDMTcuNjYxNyA0LjQ3MzcxIDE5Ljg2NjQgNi42OTIzMiAxOS44NjY0IDkuNDgzNDlDMTkuODY2NCAxMi4yNzQ2IDE3LjY2MTcgMTQuNDkzMyAxNC44ODggMTQuNDkzM0MxNC4zMTkxIDE0LjQ5MzMgMTMuODIxMiAxNC45OTQyIDEzLjgyMTIgMTUuNTY2OEMxMy44MjEyIDE2LjEzOTMgMTQuMzE5MSAxNi42NDAzIDE0Ljg4OCAxNi42NDAzWiIgZmlsbD0iI0ZGODU3NyIvPgo8L3N2Zz4K"},93088:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggb3BhY2l0eT0iMC41IiBkPSJNMTIuOTc2MyAzLjExMzYxTDE1LjIwMjggNy41ODc4OUMxNS4zNjY4IDcuOTEyMDUgMTUuNjc5OSA4LjEzNzE3IDE2LjA0MSA4LjE4NzE5TDIxLjA0MiA4LjkxNTU2QzIxLjMzNDEgOC45NTY1OCAyMS41OTkyIDkuMTEwNjYgMjEuNzc4MiA5LjM0NTc4QzIxLjk1NTIgOS41Nzc5IDIyLjAzMTIgOS44NzIwNSAyMS45ODgyIDEwLjE2MTJDMjEuOTUzMiAxMC40MDEzIDIxLjg0MDIgMTAuNjIzNCAyMS42NjcyIDEwLjc5MzVMMTguMDQzNCAxNC4zMDYzQzE3Ljc3ODMgMTQuNTUxNCAxNy42NTgzIDE0LjkxNDYgMTcuNzIyMyAxNS4yNjk4TDE4LjYxNDUgMjAuMjA4M0MxOC43MDk1IDIwLjgwNDYgMTguMzE0NCAyMS4zNjY5IDE3LjcyMjMgMjEuNDhDMTcuNDc4MyAyMS41MTkgMTcuMjI4MiAyMS40NzggMTcuMDA4MiAyMS4zNjU5TDEyLjU0NzIgMTkuMDQxN0MxMi4yMTYxIDE4Ljg3NDYgMTEuODI1MSAxOC44NzQ2IDExLjQ5NCAxOS4wNDE3TDcuMDMzMDMgMjEuMzY1OUM2LjQ4NDkxIDIxLjY1NyA1LjgwNTc2IDIxLjQ1ODkgNS41MDA3IDIwLjkxODdDNS4zODc2NyAyMC43MDM2IDUuMzQ3NjYgMjAuNDU4NCA1LjM4NDY3IDIwLjIxOTNMNi4yNzY4NiAxNS4yNzk4QzYuMzQwODggMTQuOTI1NiA2LjIxOTg1IDE0LjU2MDQgNS45NTU3OSAxNC4zMTUzTDIuMzMyMDIgMTAuODA0NUMxLjkwMDkyIDEwLjM4ODMgMS44ODc5MiA5LjcwMjk2IDIuMzAzMDEgOS4yNzE3NUMyLjMxMjAxIDkuMjYyNzQgMi4zMjIwMSA5LjI1Mjc0IDIuMzMyMDIgOS4yNDI3M0MyLjUwNDA1IDkuMDY3NjQgMi43MzAxIDguOTU2NTggMi45NzQxNSA4LjkyNzU3TDcuOTc1MjMgOC4xOTgyQzguMzM1MzEgOC4xNDcxNyA4LjY0ODM3IDcuOTI0MDYgOC44MTM0MSA3LjU5Nzg5TDEwLjk1OTkgMy4xMTM2MUMxMS4xNTA5IDIuNzI5NDIgMTEuNTQ3IDIuNDkwMyAxMS45NzcxIDIuNTAwM0gxMi4xMTExQzEyLjQ4NDIgMi41NDUzMyAxMi44MDkzIDIuNzc2NDQgMTIuOTc2MyAzLjExMzYxWiIgZmlsbD0iI0ZGODU3NyIvPgo8cGF0aCBkPSJNMTEuOTkyIDE4LjkxNzFDMTEuNzk4MyAxOC45MjMxIDExLjYwOTYgMTguOTc1MiAxMS40Mzk5IDE5LjA2ODJMNy4wMDA3MiAyMS4zODcxQzYuNDU3NTYgMjEuNjQ2NCA1LjgwNzU2IDIxLjQ0NTIgNS41MDMwMyAyMC45MjU4QzUuMzkwMjEgMjAuNzEzNiA1LjM0OTI3IDIwLjQ3MDQgNS4zODcyMSAyMC4yMzIyTDYuMjczODQgMTUuMzAzMkM2LjMzMzc1IDE0Ljk0NDkgNi4yMTM5NCAxNC41ODA2IDUuOTUzMzQgMTQuMzI4NEwyLjMyNzk0IDEwLjgxODVDMS44OTc2IDEwLjM5NzEgMS44ODk2MSA5LjcwNTU2IDIuMzEwOTYgOS4yNzQyMUMyLjMxNjk1IDkuMjY4MjEgMi4zMjE5NSA5LjI2MzIgMi4zMjc5NCA5LjI1ODJDMi40OTk2NyA5LjA4ODA2IDIuNzIxMzMgOC45NzU5NyAyLjk1OTk2IDguOTQwOTRMNy45NjUyMyA4LjIwNDMzQzguMzI3NjcgOC4xNTgzIDguNjQyMTkgNy45MzIxMSA4LjgwMTk0IDcuNjAzODRMMTAuOTc3NiAzLjA2MzEyQzExLjE4NDMgMi42OTY4MiAxMS41ODA2IDIuNDc4NjQgMTIgMi41MDE2NkMxMS45OTIgMi43OTg5IDExLjk5MiAxOC43MTUgMTEuOTkyIDE4LjkxNzFaIiBmaWxsPSIjRkY4NTc3Ii8+Cjwvc3ZnPgo="},3494:e=>{"use strict";e.exports=import("https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.mjs")}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=e,(()=>{s.amdO={}})(),(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",i="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a=s=>s.map((s=>{if(null!==s&&"object"===typeof s){if(s[e])return s;if(s.then){var a=[];a.d=0,s.then((e=>{r[t]=e,o(a)}),(e=>{r[i]=e,o(a)}));var r={};return r[e]=e=>e(a),r}}var n={};return n[e]=e=>{},n[t]=s,n}));s.a=(s,r,n)=>{var l;n&&((l=[]).d=-1);var u,c,d,h=new Set,p=s.exports,g=new Promise(((e,t)=>{d=t,c=e}));g[t]=p,g[e]=e=>(l&&e(l),h.forEach(e),g["catch"]((e=>{}))),s.exports=g,r((s=>{var o;u=a(s);var r=()=>u.map((e=>{if(e[i])throw e[i];return e[t]})),n=new Promise((t=>{o=()=>t(r),o.r=0;var s=e=>e!==l&&!h.has(e)&&(h.add(e),e&&!e.d&&(o.r++,e.push(o)));u.map((t=>t[e](s)))}));return o.r?n:r()}),(e=>(e?d(g[i]=e):c(p),o(l)))),l&&l.d<0&&(l.d=0)}})(),(()=>{var e=[];s.O=(t,i,o,a)=>{if(!i){var r=1/0;for(c=0;c<e.length;c++){for(var[i,o,a]=e[c],n=!0,l=0;l<i.length;l++)(!1&a||r>=a)&&Object.keys(s.O).every((e=>s.O[e](i[l])))?i.splice(l--,1):(n=!1,a<r&&(r=a));if(n){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[i,o,a]}})(),(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(i,o){if(1&o&&(i=this(i)),8&o)return i;if("object"===typeof i&&i){if(4&o&&i.__esModule)return i;if(16&o&&"function"===typeof i.then)return i}var a=Object.create(null);s.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var n=2&o&&i;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((e=>r[e]=()=>i[e]));return r["default"]=()=>i,s.d(a,r),a}})(),(()=>{s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}})(),(()=>{s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,i)=>(s.f[i](e,t),t)),[]))})(),(()=>{s.u=e=>"js/"+(3064===e?"chunk-common":e)+"."+{39:"2779f687",154:"7a7436a8",310:"1949a4a1",483:"e342de70",537:"57168a91",606:"bea490c1",668:"83023b3b",833:"beb2fc94",1166:"fae957ef",1480:"a9938d35",1510:"f4fa7cc7",1633:"33410cc3",1729:"c493a6a3",1881:"77f0f1f7",1887:"bf368407",1938:"82566135",1958:"d732c092",2081:"5f40b7bd",2296:"908c3e37",2305:"491fb484",2327:"4531f7ff",2407:"64af3e8b",2541:"d99fbccd",2672:"07ad7104",2708:"4d910667",2762:"ab7b1e0c",2872:"520fc236",2926:"ab3bc1be",2987:"ee92e857",3038:"7521df0d",3064:"6ff79298",3149:"e79925d8",3270:"1e591c4d",3381:"fa40667b",3575:"accbd172",3630:"9792d549",3695:"e5653d6f",3974:"8ea26221",4017:"9b8f4b54",4129:"a3f2540e",4200:"0b9709ba",4202:"7bdeb01d",4313:"b6f1c028",4388:"22a0f611",4433:"03d677f1",4463:"03bda08a",4561:"cda2d0e3",4589:"1d56bee1",4593:"3c8387f6",4638:"03a9be19",4725:"07243620",4729:"67c80c13",4796:"af81094d",4826:"f71e12d5",4842:"2c398508",4869:"354e57e1",4962:"b1027b64",4982:"75ea7913",4983:"a835ae35",5003:"c070ddfa",5018:"47b1fa65",5150:"609a8068",5464:"de8dfb7a",5647:"8ce7fb1c",5746:"191c6c20",5790:"da625bc1",6025:"9a6ca6f2",6047:"74b423ac",6097:"c3dbb686",6179:"6122a694",6360:"1ebda8e3",6615:"e2dcd835",7161:"1a1547d3",7320:"dd634046",7376:"1d09f657",7572:"a48d3e74",7631:"fe47ac3c",7852:"55d4a192",7967:"967e6480",8044:"832f1580",8045:"c5840dca",8047:"59d4836b",8062:"e5daa97f",8082:"d15f35f1",8171:"f40bf4f4",8180:"0b065791",8188:"510cde6b",8556:"dc3ff830",8689:"908ef475",8756:"b9d13f12",8773:"55d5f0c0",8916:"e30f5118",8937:"d4fc50f7",8974:"85679e0d",9199:"0b68e545",9249:"37410f91",9263:"f7ff7352",9323:"b987d3d5",9326:"6b7b3738",9398:"8c6d61b8",9410:"c7c7fcbe",9488:"1b74e8a6",9691:"101306e7",9780:"d1cdaaac",9838:"6ea433b4",9901:"51a1056a"}[e]+".js"})(),(()=>{s.miniCssF=e=>"css/"+({2143:"app",3064:"chunk-common",4736:"vendor"}[e]||e)+"."+{39:"5b9d92b6",483:"4df1bdc3",537:"1a17eecb",833:"beac2c3a",1480:"e8c551da",1729:"1508b020",1938:"bcb80065",1958:"71872451",2081:"5caa3c50",2143:"5fb61092",2296:"e189b930",2305:"1a17eecb",2407:"5dec6c9b",2872:"2fa3f280",3038:"b3f37333",3064:"2b4356c5",3270:"fa39702f",3575:"8e6493fd",3974:"aff596a8",4200:"30128c19",4313:"c353ec46",4388:"df4e7df8",4593:"03bb985f",4638:"ce8ac7da",4736:"b523ea12",4842:"9715d5c3",4983:"587f8597",5003:"b8e71dcd",5464:"6bfae834",5647:"2b577468",5790:"9b7354a5",6047:"e1d09147",6360:"942754fe",6615:"ddfff993",7376:"a7174d10",7572:"ec23add5",8044:"3997f0a7",8045:"c0deed73",8047:"1a17eecb",8062:"e971cb6d",8082:"61898d7f",8188:"68b2a678",8556:"258b260d",8773:"ce8ac7da",8916:"2b5d5fda",9249:"d5d2b44c",9263:"0c9cc998",9323:"77ba8223",9326:"d352073f",9398:"ecc8b0f0",9488:"ce8ac7da",9691:"7fdfb2d5",9901:"5965bd5e"}[e]+".css"})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="sot.club:";s.l=(i,o,a,r)=>{if(e[i])e[i].push(o);else{var n,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+a){n=d;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,s.nc&&n.setAttribute("nonce",s.nc),n.setAttribute("data-webpack",t+a),n.src=i),e[i]=[o];var h=(t,s)=>{n.onerror=n.onload=null,clearTimeout(p);var o=e[i];if(delete e[i],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((e=>e(s))),t)return t(s)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=h.bind(null,n.onerror),n.onload=h.bind(null,n.onload),l&&document.head.appendChild(n)}}})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{s.p="/"})(),(()=>{var e=(e,t,s,i)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=a=>{if(o.onerror=o.onload=null,"load"===a.type)s();else{var r=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=n,o.parentNode.removeChild(o),i(l)}};return o.onerror=o.onload=a,o.href=t,document.head.appendChild(o),o},t=(e,t)=>{for(var s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var o=s[i],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===e||a===t))return o}var r=document.getElementsByTagName("style");for(i=0;i<r.length;i++){o=r[i],a=o.getAttribute("data-href");if(a===e||a===t)return o}},i=i=>new Promise(((o,a)=>{var r=s.miniCssF(i),n=s.p+r;if(t(r,n))return o();e(i,n,o,a)})),o={2143:0};s.f.miniCss=(e,t)=>{var s={39:1,483:1,537:1,833:1,1480:1,1729:1,1938:1,1958:1,2081:1,2296:1,2305:1,2407:1,2872:1,3038:1,3064:1,3270:1,3575:1,3974:1,4200:1,4313:1,4388:1,4593:1,4638:1,4842:1,4983:1,5003:1,5464:1,5647:1,5790:1,6047:1,6360:1,6615:1,7376:1,7572:1,8044:1,8045:1,8047:1,8062:1,8082:1,8188:1,8556:1,8773:1,8916:1,9249:1,9263:1,9323:1,9326:1,9398:1,9488:1,9691:1,9901:1};o[e]?t.push(o[e]):0!==o[e]&&s[e]&&t.push(o[e]=i(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))}})(),(()=>{var e={2143:0};s.f.j=(t,i)=>{var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var a=new Promise(((s,i)=>o=e[t]=[s,i]));i.push(o[2]=a);var r=s.p+s.u(t),n=new Error,l=i=>{if(s.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var a=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;n.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",n.name="ChunkLoadError",n.type=a,n.request=r,o[1](n)}};s.l(r,l,"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,i)=>{var o,a,[r,n,l]=i,u=0;if(r.some((t=>0!==e[t]))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(l)var c=l(s)}for(t&&t(i);u<r.length;u++)a=r[u],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},i=globalThis["webpackChunksot_club"]=globalThis["webpackChunksot_club"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i=s.O(void 0,[4736],(()=>s(26107)));i=s.O(i)})();